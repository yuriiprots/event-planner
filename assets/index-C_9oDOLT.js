(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function iI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qp={exports:{}},Au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function sI(){if(Z0)return Au;Z0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Au.Fragment=e,Au.jsx=t,Au.jsxs=t,Au}var J0;function aI(){return J0||(J0=1,qp.exports=sI()),qp.exports}var $=aI(),Gp={exports:{}},Su={},Qp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function oI(){return eb||(eb=1,function(n){function e(ue,Ee){var pe=ue.length;ue.push(Ee);e:for(;0<pe;){var Ke=pe-1>>>1,U=ue[Ke];if(0<s(U,Ee))ue[Ke]=Ee,ue[pe]=U,pe=Ke;else break e}}function t(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var Ee=ue[0],pe=ue.pop();if(pe!==Ee){ue[0]=pe;e:for(var Ke=0,U=ue.length,ae=U>>>1;Ke<ae;){var ye=2*(Ke+1)-1,ce=ue[ye],fe=ye+1,xe=ue[fe];if(0>s(ce,pe))fe<U&&0>s(xe,ce)?(ue[Ke]=xe,ue[fe]=pe,Ke=fe):(ue[Ke]=ce,ue[ye]=pe,Ke=ye);else if(fe<U&&0>s(xe,pe))ue[Ke]=xe,ue[fe]=pe,Ke=fe;else break e}}return Ee}function s(ue,Ee){var pe=ue.sortIndex-Ee.sortIndex;return pe!==0?pe:ue.id-Ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],p=[],y=1,_=null,E=3,A=!1,w=!1,O=!1,I=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function H(ue){for(var Ee=t(p);Ee!==null;){if(Ee.callback===null)r(p);else if(Ee.startTime<=ue)r(p),Ee.sortIndex=Ee.expirationTime,e(h,Ee);else break;Ee=t(p)}}function Z(ue){if(O=!1,H(ue),!w)if(t(h)!==null)w=!0,Et();else{var Ee=t(p);Ee!==null&&ut(Z,Ee.startTime-ue)}}var se=!1,oe=-1,M=5,C=-1;function D(){return!(n.unstable_now()-C<M)}function k(){if(se){var ue=n.unstable_now();C=ue;var Ee=!0;try{e:{w=!1,O&&(O=!1,x(oe),oe=-1),A=!0;var pe=E;try{t:{for(H(ue),_=t(h);_!==null&&!(_.expirationTime>ue&&D());){var Ke=_.callback;if(typeof Ke=="function"){_.callback=null,E=_.priorityLevel;var U=Ke(_.expirationTime<=ue);if(ue=n.unstable_now(),typeof U=="function"){_.callback=U,H(ue),Ee=!0;break t}_===t(h)&&r(h),H(ue)}else r(h);_=t(h)}if(_!==null)Ee=!0;else{var ae=t(p);ae!==null&&ut(Z,ae.startTime-ue),Ee=!1}}break e}finally{_=null,E=pe,A=!1}Ee=void 0}}finally{Ee?L():se=!1}}}var L;if(typeof V=="function")L=function(){V(k)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,P=j.port2;j.port1.onmessage=k,L=function(){P.postMessage(null)}}else L=function(){I(k,0)};function Et(){se||(se=!0,L())}function ut(ue,Ee){oe=I(function(){ue(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ue){ue.callback=null},n.unstable_continueExecution=function(){w||A||(w=!0,Et())},n.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ue?Math.floor(1e3/ue):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ue){switch(E){case 1:case 2:case 3:var Ee=3;break;default:Ee=E}var pe=E;E=Ee;try{return ue()}finally{E=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ue,Ee){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var pe=E;E=ue;try{return Ee()}finally{E=pe}},n.unstable_scheduleCallback=function(ue,Ee,pe){var Ke=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ke+pe:Ke):pe=Ke,ue){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pe+U,ue={id:y++,callback:Ee,priorityLevel:ue,startTime:pe,expirationTime:U,sortIndex:-1},pe>Ke?(ue.sortIndex=pe,e(p,ue),t(h)===null&&ue===t(p)&&(O?(x(oe),oe=-1):O=!0,ut(Z,pe-Ke))):(ue.sortIndex=U,e(h,ue),w||A||(w=!0,Et())),ue},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ue){var Ee=E;return function(){var pe=E;E=Ee;try{return ue.apply(this,arguments)}finally{E=pe}}}}($p)),$p}var tb;function lI(){return tb||(tb=1,Qp.exports=oI()),Qp.exports}var Wp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function uI(){if(nb)return Ie;nb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,O={};function I(U,ae,ye){this.props=U,this.context=ae,this.refs=O,this.updater=ye||A}I.prototype.isReactComponent={},I.prototype.setState=function(U,ae){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ae,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function x(){}x.prototype=I.prototype;function V(U,ae,ye){this.props=U,this.context=ae,this.refs=O,this.updater=ye||A}var H=V.prototype=new x;H.constructor=V,w(H,I.prototype),H.isPureReactComponent=!0;var Z=Array.isArray,se={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function M(U,ae,ye,ce,fe,xe){return ye=xe.ref,{$$typeof:n,type:U,key:ae,ref:ye!==void 0?ye:null,props:xe}}function C(U,ae){return M(U.type,ae,void 0,void 0,void 0,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function k(U){var ae={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ye){return ae[ye]})}var L=/\/+/g;function j(U,ae){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):ae.toString(36)}function P(){}function Et(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(ae){U.status==="pending"&&(U.status="fulfilled",U.value=ae)},function(ae){U.status==="pending"&&(U.status="rejected",U.reason=ae)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ut(U,ae,ye,ce,fe){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var De=!1;if(U===null)De=!0;else switch(xe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(U.$$typeof){case n:case e:De=!0;break;case y:return De=U._init,ut(De(U._payload),ae,ye,ce,fe)}}if(De)return fe=fe(U),De=ce===""?"."+j(U,0):ce,Z(fe)?(ye="",De!=null&&(ye=De.replace(L,"$&/")+"/"),ut(fe,ae,ye,"",function(pt){return pt})):fe!=null&&(D(fe)&&(fe=C(fe,ye+(fe.key==null||U&&U.key===fe.key?"":(""+fe.key).replace(L,"$&/")+"/")+De)),ae.push(fe)),1;De=0;var wt=ce===""?".":ce+":";if(Z(U))for(var qe=0;qe<U.length;qe++)ce=U[qe],xe=wt+j(ce,qe),De+=ut(ce,ae,ye,xe,fe);else if(qe=E(U),typeof qe=="function")for(U=qe.call(U),qe=0;!(ce=U.next()).done;)ce=ce.value,xe=wt+j(ce,qe++),De+=ut(ce,ae,ye,xe,fe);else if(xe==="object"){if(typeof U.then=="function")return ut(Et(U),ae,ye,ce,fe);throw ae=String(U),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function ue(U,ae,ye){if(U==null)return U;var ce=[],fe=0;return ut(U,ce,"","",function(xe){return ae.call(ye,xe,fe++)}),ce}function Ee(U){if(U._status===-1){var ae=U._result;ae=ae(),ae.then(function(ye){(U._status===0||U._status===-1)&&(U._status=1,U._result=ye)},function(ye){(U._status===0||U._status===-1)&&(U._status=2,U._result=ye)}),U._status===-1&&(U._status=0,U._result=ae)}if(U._status===1)return U._result.default;throw U._result}var pe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Ke(){}return Ie.Children={map:ue,forEach:function(U,ae,ye){ue(U,function(){ae.apply(this,arguments)},ye)},count:function(U){var ae=0;return ue(U,function(){ae++}),ae},toArray:function(U){return ue(U,function(ae){return ae})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ie.Component=I,Ie.Fragment=t,Ie.Profiler=s,Ie.PureComponent=V,Ie.StrictMode=r,Ie.Suspense=h,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(U){return function(){return U.apply(null,arguments)}},Ie.cloneElement=function(U,ae,ye){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=w({},U.props),fe=U.key,xe=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(xe=void 0),ae.key!==void 0&&(fe=""+ae.key),ae)!oe.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(ce[De]=ae[De]);var De=arguments.length-2;if(De===1)ce.children=ye;else if(1<De){for(var wt=Array(De),qe=0;qe<De;qe++)wt[qe]=arguments[qe+2];ce.children=wt}return M(U.type,fe,void 0,void 0,xe,ce)},Ie.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ie.createElement=function(U,ae,ye){var ce,fe={},xe=null;if(ae!=null)for(ce in ae.key!==void 0&&(xe=""+ae.key),ae)oe.call(ae,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=ae[ce]);var De=arguments.length-2;if(De===1)fe.children=ye;else if(1<De){for(var wt=Array(De),qe=0;qe<De;qe++)wt[qe]=arguments[qe+2];fe.children=wt}if(U&&U.defaultProps)for(ce in De=U.defaultProps,De)fe[ce]===void 0&&(fe[ce]=De[ce]);return M(U,xe,void 0,void 0,null,fe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(U){return{$$typeof:f,render:U}},Ie.isValidElement=D,Ie.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:Ee}},Ie.memo=function(U,ae){return{$$typeof:p,type:U,compare:ae===void 0?null:ae}},Ie.startTransition=function(U){var ae=se.T,ye={};se.T=ye;try{var ce=U(),fe=se.S;fe!==null&&fe(ye,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ke,pe)}catch(xe){pe(xe)}finally{se.T=ae}},Ie.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ie.use=function(U){return se.H.use(U)},Ie.useActionState=function(U,ae,ye){return se.H.useActionState(U,ae,ye)},Ie.useCallback=function(U,ae){return se.H.useCallback(U,ae)},Ie.useContext=function(U){return se.H.useContext(U)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(U,ae){return se.H.useDeferredValue(U,ae)},Ie.useEffect=function(U,ae){return se.H.useEffect(U,ae)},Ie.useId=function(){return se.H.useId()},Ie.useImperativeHandle=function(U,ae,ye){return se.H.useImperativeHandle(U,ae,ye)},Ie.useInsertionEffect=function(U,ae){return se.H.useInsertionEffect(U,ae)},Ie.useLayoutEffect=function(U,ae){return se.H.useLayoutEffect(U,ae)},Ie.useMemo=function(U,ae){return se.H.useMemo(U,ae)},Ie.useOptimistic=function(U,ae){return se.H.useOptimistic(U,ae)},Ie.useReducer=function(U,ae,ye){return se.H.useReducer(U,ae,ye)},Ie.useRef=function(U){return se.H.useRef(U)},Ie.useState=function(U){return se.H.useState(U)},Ie.useSyncExternalStore=function(U,ae,ye){return se.H.useSyncExternalStore(U,ae,ye)},Ie.useTransition=function(){return se.H.useTransition()},Ie.version="19.0.0",Ie}var rb;function vy(){return rb||(rb=1,Wp.exports=uI()),Wp.exports}var Yp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function cI(){if(ib)return sn;ib=1;var n=vy();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(h,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,y)},sn.flushSync=function(h){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=p,r.p=y,r.d.f()}},sn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},sn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},sn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&r.d.X(h,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},sn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(h,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(h,p){if(typeof h=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},sn.requestFormReset=function(h){r.d.r(h)},sn.unstable_batchedUpdates=function(h,p){return h(p)},sn.useFormState=function(h,p,y){return u.H.useFormState(h,p,y)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.0.0",sn}var sb;function WA(){if(sb)return Yp.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=cI(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function fI(){if(ab)return Su;ab=1;var n=lI(),e=vy(),t=WA();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case h:return"Fragment";case f:return"Portal";case y:return"Profiler";case p:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case A:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case w:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return a=i.displayName||null,a!==null?a:C(i.type)||"Memo";case V:a=i._payload,i=i._init;try{return C(i(a))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,L,j;function P(i){if(L===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);L=a&&a[1]||"",j=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+j}var Et=!1;function ut(i,a){if(!i||Et)return"";Et=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var W=J}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(J){W=J}i.call(ie.prototype)}}else{try{throw Error()}catch(J){W=J}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var N=T.split(`
`),z=S.split(`
`);for(g=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;if(c===N.length||g===z.length)for(c=N.length-1,g=z.length-1;1<=c&&0<=g&&N[c]!==z[g];)g--;for(;1<=c&&0<=g;c--,g--)if(N[c]!==z[g]){if(c!==1||g!==1)do if(c--,g--,0>g||N[c]!==z[g]){var ee=`
`+N[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=g);break}}}finally{Et=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?P(l):""}function ue(i){switch(i.tag){case 26:case 27:case 5:return P(i.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return i=ut(i.type,!1),i;case 11:return i=ut(i.type.render,!1),i;case 1:return i=ut(i.type,!0),i;default:return""}}function Ee(i){try{var a="";do a+=ue(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function pe(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function Ke(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function U(i){if(pe(i)!==i)throw Error(r(188))}function ae(i){var a=i.alternate;if(!a){if(a=pe(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var g=l.return;if(g===null)break;var m=g.alternate;if(m===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===l)return U(g),i;if(m===c)return U(g),a;m=m.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=m;else{for(var T=!1,S=g.child;S;){if(S===l){T=!0,l=g,c=m;break}if(S===c){T=!0,c=g,l=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===l){T=!0,l=m,c=g;break}if(S===c){T=!0,c=m,l=g;break}S=S.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function ye(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=ye(i),a!==null)return a;i=i.sibling}return null}var ce=Array.isArray,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},De=[],wt=-1;function qe(i){return{current:i}}function pt(i){0>wt||(i.current=De[wt],De[wt]=null,wt--)}function Je(i,a){wt++,De[wt]=i.current,i.current=a}var dn=qe(null),Lr=qe(null),Vn=qe(null),Di=qe(null);function Ii(i,a){switch(Je(Vn,a),Je(Lr,i),Je(dn,null),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?C0(a):0;break;default:if(i=i===8?a.parentNode:a,a=i.tagName,i=i.namespaceURI)i=C0(i),a=D0(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}pt(dn),Je(dn,a)}function Ur(){pt(dn),pt(Lr),pt(Vn)}function vl(i){i.memoizedState!==null&&Je(Di,i);var a=dn.current,l=D0(a,i.type);a!==l&&(Je(Lr,i),Je(dn,l))}function Ga(i){Lr.current===i&&(pt(dn),pt(Lr)),Di.current===i&&(pt(Di),vu._currentValue=xe)}var Qa=Object.prototype.hasOwnProperty,Bs=n.unstable_scheduleCallback,$a=n.unstable_cancelCallback,Qh=n.unstable_shouldYield,_l=n.unstable_requestPaint,En=n.unstable_now,Rc=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,Ht=n.unstable_UserBlockingPriority,Hr=n.unstable_NormalPriority,Cc=n.unstable_LowPriority,El=n.unstable_IdlePriority,$h=n.log,zs=n.unstable_setDisableYieldValue,xi=null,nn=null;function bl(i){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(xi,i,void 0,(i.current.flags&128)===128)}catch{}}function hr(i){if(typeof $h=="function"&&zs(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(xi,i)}catch{}}var hn=Math.clz32?Math.clz32:Ic,Tl=Math.log,Dc=Math.LN2;function Ic(i){return i>>>=0,i===0?32:31-(Tl(i)/Dc|0)|0}var gr=128,Oi=4194304;function tr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ln(i,a){var l=i.pendingLanes;if(l===0)return 0;var c=0,g=i.suspendedLanes,m=i.pingedLanes,T=i.warmLanes;i=i.finishedLanes!==0;var S=l&134217727;return S!==0?(l=S&~g,l!==0?c=tr(l):(m&=S,m!==0?c=tr(m):i||(T=S&~T,T!==0&&(c=tr(T))))):(S=l&~g,S!==0?c=tr(S):m!==0?c=tr(m):i||(T=l&~T,T!==0&&(c=tr(T)))),c===0?0:a!==0&&a!==c&&(a&g)===0&&(g=c&-c,T=a&-a,g>=T||g===32&&(T&4194176)!==0)?a:c}function Ni(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Wa(i,a){switch(i){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Al(){var i=gr;return gr<<=1,(gr&4194176)===0&&(gr=128),i}function Mi(){var i=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),i}function Ya(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function bt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xc(i,a,l,c,g,m){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var S=i.entanglements,N=i.expirationTimes,z=i.hiddenUpdates;for(l=T&~l;0<l;){var ee=31-hn(l),ie=1<<ee;S[ee]=0,N[ee]=-1;var W=z[ee];if(W!==null)for(z[ee]=null,ee=0;ee<W.length;ee++){var J=W[ee];J!==null&&(J.lane&=-536870913)}l&=~ie}c!==0&&ki(i,c,0),m!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~a))}function ki(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-hn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194218}function Pi(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-hn(l),g=1<<c;g&a|i[c]&a&&(i[c]|=a),l&=~g}}function Oc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nc(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:Q0(i.type))}function Vi(i,a){var l=fe.p;try{return fe.p=i,a()}finally{fe.p=l}}var pr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+pr,Nt="__reactProps$"+pr,Br="__reactContainer$"+pr,js="__reactEvents$"+pr,Ka="__reactListeners$"+pr,mr="__reactHandles$"+pr,Sl="__reactResources$"+pr,Li="__reactMarker$"+pr;function Fs(i){delete i[Bt],delete i[Nt],delete i[js],delete i[Ka],delete i[mr]}function nr(i){var a=i[Bt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Br]||l[Bt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=O0(i);i!==null;){if(l=i[Bt])return l;i=O0(i)}return a}i=l,l=i.parentNode}return null}function zr(i){if(i=i[Bt]||i[Br]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ui(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Hi(i){var a=i[Sl];return a||(a=i[Sl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ct(i){i[Li]=!0}var wl=new Set,Xa={};function Rn(i,a){bn(i,a),bn(i+"Capture",a)}function bn(i,a){for(Xa[i]=a,i=0;i<a.length;i++)wl.add(a[i])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Cl={};function Mc(i){return Qa.call(Cl,i)?!0:Qa.call(Rl,i)?!1:Wh.test(i)?Cl[i]=!0:(Rl[i]=!0,!1)}function Bi(i,a,l){if(Mc(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function zi(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Un(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kc(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Yh(i){var a=kc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,m=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){c=""+T,m.call(this,T)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function qs(i){i._valueTracker||(i._valueTracker=Yh(i))}function Dl(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=kc(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Za(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jr=/[\n"\\]/g;function mt(i){return i.replace(jr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ji(i,a,l,c,g,m,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+gn(a)):i.value!==""+gn(a)&&(i.value=""+gn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?Ja(i,T,gn(a)):l!=null?Ja(i,T,gn(l)):c!=null&&i.removeAttribute("value"),g==null&&m!=null&&(i.defaultChecked=!!m),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+gn(S):i.removeAttribute("name")}function Gs(i,a,l,c,g,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),a!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;l=l!=null?""+gn(l):"",a=a!=null?""+gn(a):l,S||a===i.value||(i.value=a),i.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Ja(i,a,l){a==="number"&&Za(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ge(i,a,l,c){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function Qs(i,a,l){if(a!=null&&(a=""+gn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+gn(l):""}function Fi(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ce(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=gn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Hn(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Kh.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Pc(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&Il(i,g,c)}else for(var m in a)a.hasOwnProperty(m)&&Il(i,m,a[m])}function xl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yr(i){return Zh.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bn=null;function eo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fr=null,qr=null;function Gr(i){var a=zr(i);if(a&&(i=a.stateNode)){var l=i[Nt]||null;e:switch(i=a.stateNode,a.type){case"input":if(ji(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var g=c[Nt]||null;if(!g)throw Error(r(90));ji(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Dl(c)}break e;case"textarea":Qs(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ge(i,!!l.multiple,a,!1)}}}var Ol=!1;function Vc(i,a,l){if(Ol)return i(a,l);Ol=!0;try{var c=i(a);return c}finally{if(Ol=!1,(Fr!==null||qr!==null)&&(Df(),Fr&&(a=Fr,i=qr,qr=Fr=null,Gr(a),i)))for(a=0;a<i.length;a++)Gr(i[a])}}function $s(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Nt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var zn=!1;if(Cn)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{zn=!1}var vr=null,qi=null,Qr=null;function Nl(){if(Qr)return Qr;var i,a=qi,l=a.length,c,g="value"in vr?vr.value:vr.textContent,m=g.length;for(i=0;i<l&&a[i]===g[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===g[m-c];c++);return Qr=g.slice(i,1<c?1-c:void 0)}function _r(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Er(){return!0}function Ml(){return!1}function zt(i){function a(l,c,g,m,T){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(l=i[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Er:Ml,this.isPropagationStopped=Ml,this}return k(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),a}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=zt(Xe),Ys=k({},Xe,{view:0,detail:0}),Lc=zt(Ys),no,ro,br,Ks=k({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==br&&(br&&i.type==="mousemove"?(no=i.screenX-br.screenX,ro=i.screenY-br.screenY):ro=no=0,br=i),no)},movementY:function(i){return"movementY"in i?i.movementY:ro}}),jn=zt(Ks),Uc=k({},Ks,{dataTransfer:0}),Jh=zt(Uc),Xs=k({},Ys,{relatedTarget:0}),io=zt(Xs),kl=k({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),so=zt(kl),Hc=k({},Xe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ao=zt(Hc),eg=k({},Xe,{data:0}),Pl=zt(eg),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vl(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=zc[i])?!!a[i]:!1}function Js(){return Vl}var jc=k({},Ys,{key:function(i){if(i.key){var a=Zs[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=_r(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?_r(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_r(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oo=zt(jc),Fc=k({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=zt(Fc),$r=k({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),qc=zt($r),Gc=k({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=zt(Gc),$c=k({},Ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),lo=zt($c),pn=k({},Xe,{newState:0,oldState:0}),Wc=zt(pn),Yc=[9,13,27,32],Tr=Cn&&"CompositionEvent"in window,d=null;Cn&&"documentMode"in document&&(d=document.documentMode);var v=Cn&&"TextEvent"in window&&!d,b=Cn&&(!Tr||d&&8<d&&11>=d),R=" ",G=!1;function K(i,a){switch(i){case"keyup":return Yc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var He=!1;function Mt(i,a){switch(i){case"compositionend":return le(a);case"keypress":return a.which!==32?null:(G=!0,R);case"textInput":return i=a.data,i===R&&G?null:i;default:return null}}function Be(i,a){if(He)return i==="compositionend"||!Tr&&K(i,a)?(i=Nl(),Qr=qi=vr=null,He=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!jt[i.type]:a==="textarea"}function Wr(i,a,l,c){Fr?qr?qr.push(c):qr=[c]:Fr=c,a=Mf(a,"onChange"),0<a.length&&(l=new to("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var Wt=null,Ar=null;function Ul(i){T0(i,0)}function Kc(i){var a=Ui(i);if(Dl(a))return i}function Xv(i,a){if(i==="change")return a}var Zv=!1;if(Cn){var tg;if(Cn){var ng="oninput"in document;if(!ng){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),ng=typeof Jv.oninput=="function"}tg=ng}else tg=!1;Zv=tg&&(!document.documentMode||9<document.documentMode)}function e_(){Wt&&(Wt.detachEvent("onpropertychange",t_),Ar=Wt=null)}function t_(i){if(i.propertyName==="value"&&Kc(Ar)){var a=[];Wr(a,Ar,i,eo(i)),Vc(Ul,a)}}function kD(i,a,l){i==="focusin"?(e_(),Wt=a,Ar=l,Wt.attachEvent("onpropertychange",t_)):i==="focusout"&&e_()}function PD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kc(Ar)}function VD(i,a){if(i==="click")return Kc(a)}function LD(i,a){if(i==="input"||i==="change")return Kc(a)}function UD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Dn=typeof Object.is=="function"?Object.is:UD;function Hl(i,a){if(Dn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Qa.call(a,g)||!Dn(i[g],a[g]))return!1}return!0}function n_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function r_(i,a){var l=n_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=n_(l)}}function i_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?i_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function s_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Za(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Za(i.document)}return a}function rg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function HD(i,a){var l=s_(a);a=i.focusedElem;var c=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&i_(a.ownerDocument.documentElement,a)){if(c!==null&&rg(a)){if(i=c.start,l=c.end,l===void 0&&(l=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(l,a.value.length);else if(l=(i=a.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var g=a.textContent.length,m=Math.min(c.start,g);c=c.end===void 0?m:Math.min(c.end,g),!l.extend&&m>c&&(g=c,c=m,m=g),g=r_(a,m);var T=r_(a,c);g&&T&&(l.rangeCount!==1||l.anchorNode!==g.node||l.anchorOffset!==g.offset||l.focusNode!==T.node||l.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),l.removeAllRanges(),m>c?(l.addRange(i),l.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),l.addRange(i)))}}for(i=[],l=a;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)l=i[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var BD=Cn&&"documentMode"in document&&11>=document.documentMode,uo=null,ig=null,Bl=null,sg=!1;function a_(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sg||uo==null||uo!==Za(c)||(c=uo,"selectionStart"in c&&rg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bl&&Hl(Bl,c)||(Bl=c,c=Mf(ig,"onSelect"),0<c.length&&(a=new to("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=uo)))}function ea(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var co={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},ag={},o_={};Cn&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ta(i){if(ag[i])return ag[i];if(!co[i])return i;var a=co[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in o_)return ag[i]=a[l];return i}var l_=ta("animationend"),u_=ta("animationiteration"),c_=ta("animationstart"),zD=ta("transitionrun"),jD=ta("transitionstart"),FD=ta("transitioncancel"),f_=ta("transitionend"),d_=new Map,h_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function rr(i,a){d_.set(i,a),Rn(a,[i])}var Fn=[],fo=0,og=0;function Xc(){for(var i=fo,a=og=fo=0;a<i;){var l=Fn[a];Fn[a++]=null;var c=Fn[a];Fn[a++]=null;var g=Fn[a];Fn[a++]=null;var m=Fn[a];if(Fn[a++]=null,c!==null&&g!==null){var T=c.pending;T===null?g.next=g:(g.next=T.next,T.next=g),c.pending=g}m!==0&&g_(l,g,m)}}function Zc(i,a,l,c){Fn[fo++]=i,Fn[fo++]=a,Fn[fo++]=l,Fn[fo++]=c,og|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function lg(i,a,l,c){return Zc(i,a,l,c),Jc(i)}function Gi(i,a){return Zc(i,null,null,a),Jc(i)}function g_(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,m=i.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(g=!0)),i=m,m=m.return;g&&a!==null&&i.tag===3&&(m=i.stateNode,g=31-hn(l),m=m.hiddenUpdates,i=m[g],i===null?m[g]=[a]:i.push(a),a.lane=l|536870912)}function Jc(i){if(50<fu)throw fu=0,gp=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ho={},p_=new WeakMap;function qn(i,a){if(typeof i=="object"&&i!==null){var l=p_.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ee(a)},p_.set(i,a),a)}return{value:i,source:a,stack:Ee(a)}}var go=[],po=0,ef=null,tf=0,Gn=[],Qn=0,na=null,Yr=1,Kr="";function ra(i,a){go[po++]=tf,go[po++]=ef,ef=i,tf=a}function m_(i,a,l){Gn[Qn++]=Yr,Gn[Qn++]=Kr,Gn[Qn++]=na,na=i;var c=Yr;i=Kr;var g=32-hn(c)-1;c&=~(1<<g),l+=1;var m=32-hn(a)+g;if(30<m){var T=g-g%5;m=(c&(1<<T)-1).toString(32),c>>=T,g-=T,Yr=1<<32-hn(a)+g|l<<g|c,Kr=m+i}else Yr=1<<m|l<<g|c,Kr=i}function ug(i){i.return!==null&&(ra(i,1),m_(i,1,0))}function cg(i){for(;i===ef;)ef=go[--po],go[po]=null,tf=go[--po],go[po]=null;for(;i===na;)na=Gn[--Qn],Gn[Qn]=null,Kr=Gn[--Qn],Gn[Qn]=null,Yr=Gn[--Qn],Gn[Qn]=null}var mn=null,Yt=null,Qe=!1,ir=null,Sr=!1,fg=Error(r(519));function ia(i){var a=Error(r(418,""));throw Fl(qn(a,i)),fg}function y_(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Bt]=i,a[Nt]=c,l){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(l=0;l<hu.length;l++)Ue(hu[l],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),Gs(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),qs(a);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),Fi(a,c.value,c.defaultValue,c.children),qs(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||R0(a.textContent,l)?(c.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),c.onScroll!=null&&Ue("scroll",a),c.onScrollEnd!=null&&Ue("scrollend",a),c.onClick!=null&&(a.onclick=kf),a=!0):a=!1,a||ia(i)}function v_(i){for(mn=i.return;mn;)switch(mn.tag){case 3:case 27:Sr=!0;return;case 5:case 13:Sr=!1;return;default:mn=mn.return}}function zl(i){if(i!==mn)return!1;if(!Qe)return v_(i),Qe=!0,!1;var a=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Op(i.type,i.memoizedProps)),l=!l),l&&(a=!0),a&&Yt&&ia(i),v_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Yt=ar(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Yt=null}}else Yt=mn?ar(i.stateNode.nextSibling):null;return!0}function jl(){Yt=mn=null,Qe=!1}function Fl(i){ir===null?ir=[i]:ir.push(i)}var ql=Error(r(460)),__=Error(r(474)),dg={then:function(){}};function E_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nf(){}function b_(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(nf,nf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===ql?Error(r(483)):i;default:if(typeof a.status=="string")a.then(nf,nf);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===ql?Error(r(483)):i}throw Gl=a,ql}}var Gl=null;function T_(){if(Gl===null)throw Error(r(459));var i=Gl;return Gl=null,i}var mo=null,Ql=0;function rf(i){var a=Ql;return Ql+=1,mo===null&&(mo=[]),b_(mo,i,a)}function $l(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function sf(i,a){throw a.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function A_(i){var a=i._init;return a(i._payload)}function S_(i){function a(F,B){if(i){var Q=F.deletions;Q===null?(F.deletions=[B],F.flags|=16):Q.push(B)}}function l(F,B){if(!i)return null;for(;B!==null;)a(F,B),B=B.sibling;return null}function c(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function g(F,B){return F=rs(F,B),F.index=0,F.sibling=null,F}function m(F,B,Q){return F.index=Q,i?(Q=F.alternate,Q!==null?(Q=Q.index,Q<B?(F.flags|=33554434,B):Q):(F.flags|=33554434,B)):(F.flags|=1048576,B)}function T(F){return i&&F.alternate===null&&(F.flags|=33554434),F}function S(F,B,Q,te){return B===null||B.tag!==6?(B=ap(Q,F.mode,te),B.return=F,B):(B=g(B,Q),B.return=F,B)}function N(F,B,Q,te){var ge=Q.type;return ge===h?ee(F,B,Q.props.children,te,Q.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===V&&A_(ge)===B.type)?(B=g(B,Q.props),$l(B,Q),B.return=F,B):(B=Af(Q.type,Q.key,Q.props,null,F.mode,te),$l(B,Q),B.return=F,B)}function z(F,B,Q,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=op(Q,F.mode,te),B.return=F,B):(B=g(B,Q.children||[]),B.return=F,B)}function ee(F,B,Q,te,ge){return B===null||B.tag!==7?(B=ga(Q,F.mode,te,ge),B.return=F,B):(B=g(B,Q),B.return=F,B)}function ie(F,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ap(""+B,F.mode,Q),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return Q=Af(B.type,B.key,B.props,null,F.mode,Q),$l(Q,B),Q.return=F,Q;case f:return B=op(B,F.mode,Q),B.return=F,B;case V:var te=B._init;return B=te(B._payload),ie(F,B,Q)}if(ce(B)||oe(B))return B=ga(B,F.mode,Q,null),B.return=F,B;if(typeof B.then=="function")return ie(F,rf(B),Q);if(B.$$typeof===A)return ie(F,Ef(F,B),Q);sf(F,B)}return null}function W(F,B,Q,te){var ge=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ge!==null?null:S(F,B,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return Q.key===ge?N(F,B,Q,te):null;case f:return Q.key===ge?z(F,B,Q,te):null;case V:return ge=Q._init,Q=ge(Q._payload),W(F,B,Q,te)}if(ce(Q)||oe(Q))return ge!==null?null:ee(F,B,Q,te,null);if(typeof Q.then=="function")return W(F,B,rf(Q),te);if(Q.$$typeof===A)return W(F,B,Ef(F,Q),te);sf(F,Q)}return null}function J(F,B,Q,te,ge){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(Q)||null,S(B,F,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case u:return F=F.get(te.key===null?Q:te.key)||null,N(B,F,te,ge);case f:return F=F.get(te.key===null?Q:te.key)||null,z(B,F,te,ge);case V:var Me=te._init;return te=Me(te._payload),J(F,B,Q,te,ge)}if(ce(te)||oe(te))return F=F.get(Q)||null,ee(B,F,te,ge,null);if(typeof te.then=="function")return J(F,B,Q,rf(te),ge);if(te.$$typeof===A)return J(F,B,Q,Ef(B,te),ge);sf(B,te)}return null}function me(F,B,Q,te){for(var ge=null,Me=null,ve=B,Te=B=0,Gt=null;ve!==null&&Te<Q.length;Te++){ve.index>Te?(Gt=ve,ve=null):Gt=ve.sibling;var $e=W(F,ve,Q[Te],te);if($e===null){ve===null&&(ve=Gt);break}i&&ve&&$e.alternate===null&&a(F,ve),B=m($e,B,Te),Me===null?ge=$e:Me.sibling=$e,Me=$e,ve=Gt}if(Te===Q.length)return l(F,ve),Qe&&ra(F,Te),ge;if(ve===null){for(;Te<Q.length;Te++)ve=ie(F,Q[Te],te),ve!==null&&(B=m(ve,B,Te),Me===null?ge=ve:Me.sibling=ve,Me=ve);return Qe&&ra(F,Te),ge}for(ve=c(ve);Te<Q.length;Te++)Gt=J(ve,F,Te,Q[Te],te),Gt!==null&&(i&&Gt.alternate!==null&&ve.delete(Gt.key===null?Te:Gt.key),B=m(Gt,B,Te),Me===null?ge=Gt:Me.sibling=Gt,Me=Gt);return i&&ve.forEach(function(cs){return a(F,cs)}),Qe&&ra(F,Te),ge}function Re(F,B,Q,te){if(Q==null)throw Error(r(151));for(var ge=null,Me=null,ve=B,Te=B=0,Gt=null,$e=Q.next();ve!==null&&!$e.done;Te++,$e=Q.next()){ve.index>Te?(Gt=ve,ve=null):Gt=ve.sibling;var cs=W(F,ve,$e.value,te);if(cs===null){ve===null&&(ve=Gt);break}i&&ve&&cs.alternate===null&&a(F,ve),B=m(cs,B,Te),Me===null?ge=cs:Me.sibling=cs,Me=cs,ve=Gt}if($e.done)return l(F,ve),Qe&&ra(F,Te),ge;if(ve===null){for(;!$e.done;Te++,$e=Q.next())$e=ie(F,$e.value,te),$e!==null&&(B=m($e,B,Te),Me===null?ge=$e:Me.sibling=$e,Me=$e);return Qe&&ra(F,Te),ge}for(ve=c(ve);!$e.done;Te++,$e=Q.next())$e=J(ve,F,Te,$e.value,te),$e!==null&&(i&&$e.alternate!==null&&ve.delete($e.key===null?Te:$e.key),B=m($e,B,Te),Me===null?ge=$e:Me.sibling=$e,Me=$e);return i&&ve.forEach(function(rI){return a(F,rI)}),Qe&&ra(F,Te),ge}function _t(F,B,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===h&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:e:{for(var ge=Q.key;B!==null;){if(B.key===ge){if(ge=Q.type,ge===h){if(B.tag===7){l(F,B.sibling),te=g(B,Q.props.children),te.return=F,F=te;break e}}else if(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===V&&A_(ge)===B.type){l(F,B.sibling),te=g(B,Q.props),$l(te,Q),te.return=F,F=te;break e}l(F,B);break}else a(F,B);B=B.sibling}Q.type===h?(te=ga(Q.props.children,F.mode,te,Q.key),te.return=F,F=te):(te=Af(Q.type,Q.key,Q.props,null,F.mode,te),$l(te,Q),te.return=F,F=te)}return T(F);case f:e:{for(ge=Q.key;B!==null;){if(B.key===ge)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){l(F,B.sibling),te=g(B,Q.children||[]),te.return=F,F=te;break e}else{l(F,B);break}else a(F,B);B=B.sibling}te=op(Q,F.mode,te),te.return=F,F=te}return T(F);case V:return ge=Q._init,Q=ge(Q._payload),_t(F,B,Q,te)}if(ce(Q))return me(F,B,Q,te);if(oe(Q)){if(ge=oe(Q),typeof ge!="function")throw Error(r(150));return Q=ge.call(Q),Re(F,B,Q,te)}if(typeof Q.then=="function")return _t(F,B,rf(Q),te);if(Q.$$typeof===A)return _t(F,B,Ef(F,Q),te);sf(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(l(F,B.sibling),te=g(B,Q),te.return=F,F=te):(l(F,B),te=ap(Q,F.mode,te),te.return=F,F=te),T(F)):l(F,B)}return function(F,B,Q,te){try{Ql=0;var ge=_t(F,B,Q,te);return mo=null,ge}catch(ve){if(ve===ql)throw ve;var Me=Kn(29,ve,null,F.mode);return Me.lanes=te,Me.return=F,Me}finally{}}}var sa=S_(!0),w_=S_(!1),yo=qe(null),af=qe(0);function R_(i,a){i=oi,Je(af,i),Je(yo,a),oi=i|a.baseLanes}function hg(){Je(af,oi),Je(yo,yo.current)}function gg(){oi=af.current,pt(yo),pt(af)}var $n=qe(null),wr=null;function Qi(i){var a=i.alternate;Je(Pt,Pt.current&1),Je($n,i),wr===null&&(a===null||yo.current!==null||a.memoizedState!==null)&&(wr=i)}function C_(i){if(i.tag===22){if(Je(Pt,Pt.current),Je($n,i),wr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(wr=i)}}else $i()}function $i(){Je(Pt,Pt.current),Je($n,$n.current)}function Xr(i){pt($n),wr===i&&(wr=null),pt(Pt)}var Pt=qe(0);function of(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var qD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},GD=n.unstable_scheduleCallback,QD=n.unstable_NormalPriority,Vt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new qD,data:new Map,refCount:0}}function Wl(i){i.refCount--,i.refCount===0&&GD(QD,function(){i.controller.abort()})}var Yl=null,mg=0,vo=0,_o=null;function $D(i,a){if(Yl===null){var l=Yl=[];mg=0,vo=Tp(),_o={status:"pending",value:void 0,then:function(c){l.push(c)}}}return mg++,a.then(D_,D_),a}function D_(){if(--mg===0&&Yl!==null){_o!==null&&(_o.status="fulfilled");var i=Yl;Yl=null,vo=0,_o=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function WD(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var I_=D.S;D.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&$D(i,a),I_!==null&&I_(i,a)};var aa=qe(null);function yg(){var i=aa.current;return i!==null?i:rt.pooledCache}function lf(i,a){a===null?Je(aa,aa.current):Je(aa,a.pool)}function x_(){var i=yg();return i===null?null:{parent:Vt._currentValue,pool:i}}var Wi=0,Oe=null,et=null,Rt=null,uf=!1,Eo=!1,oa=!1,cf=0,Kl=0,bo=null,YD=0;function Tt(){throw Error(r(321))}function vg(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Dn(i[l],a[l]))return!1;return!0}function _g(i,a,l,c,g,m){return Wi=m,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,D.H=i===null||i.memoizedState===null?la:Yi,oa=!1,m=l(c,g),oa=!1,Eo&&(m=N_(a,l,c,g)),O_(i),m}function O_(i){D.H=Rr;var a=et!==null&&et.next!==null;if(Wi=0,Rt=et=Oe=null,uf=!1,Kl=0,bo=null,a)throw Error(r(300));i===null||Ft||(i=i.dependencies,i!==null&&_f(i)&&(Ft=!0))}function N_(i,a,l,c){Oe=i;var g=0;do{if(Eo&&(bo=null),Kl=0,Eo=!1,25<=g)throw Error(r(301));if(g+=1,Rt=et=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}D.H=ua,m=a(l,c)}while(Eo);return m}function KD(){var i=D.H,a=i.useState()[0];return a=typeof a.then=="function"?Xl(a):a,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Oe.flags|=1024),a}function Eg(){var i=cf!==0;return cf=0,i}function bg(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Tg(i){if(uf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}uf=!1}Wi=0,Rt=et=Oe=null,Eo=!1,Kl=cf=0,bo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Oe.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Ct(){if(et===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var a=Rt===null?Oe.memoizedState:Rt.next;if(a!==null)Rt=a,et=i;else{if(i===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Oe.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}var ff;ff=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xl(i){var a=Kl;return Kl+=1,bo===null&&(bo=[]),i=b_(bo,i,a),a=Oe,(Rt===null?a.memoizedState:Rt.next)===null&&(a=a.alternate,D.H=a===null||a.memoizedState===null?la:Yi),i}function df(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===A)return rn(i)}throw Error(r(438,String(i)))}function Ag(i){var a=null,l=Oe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ff(),Oe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=Z;return a.index++,l}function Zr(i,a){return typeof a=="function"?a(i):a}function hf(i){var a=Ct();return Sg(a,et,i)}function Sg(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,m=c.pending;if(m!==null){if(g!==null){var T=g.next;g.next=m.next,m.next=T}a.baseQueue=g=m,c.pending=null}if(m=i.baseState,g===null)i.memoizedState=m;else{a=g.next;var S=T=null,N=null,z=a,ee=!1;do{var ie=z.lane&-536870913;if(ie!==z.lane?(ze&ie)===ie:(Wi&ie)===ie){var W=z.revertLane;if(W===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ie===vo&&(ee=!0);else if((Wi&W)===W){z=z.next,W===vo&&(ee=!0);continue}else ie={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=ie,T=m):N=N.next=ie,Oe.lanes|=W,is|=W;ie=z.action,oa&&l(m,ie),m=z.hasEagerState?z.eagerState:l(m,ie)}else W={lane:ie,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(S=N=W,T=m):N=N.next=W,Oe.lanes|=ie,is|=ie;z=z.next}while(z!==null&&z!==a);if(N===null?T=m:N.next=S,!Dn(m,i.memoizedState)&&(Ft=!0,ee&&(l=_o,l!==null)))throw l;i.memoizedState=m,i.baseState=T,i.baseQueue=N,c.lastRenderedState=m}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function wg(i){var a=Ct(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,m=a.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do m=i(m,T.action),T=T.next;while(T!==g);Dn(m,a.memoizedState)||(Ft=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),l.lastRenderedState=m}return[m,c]}function M_(i,a,l){var c=Oe,g=Ct(),m=Qe;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!Dn((et||g).memoizedState,l);if(T&&(g.memoizedState=l,Ft=!0),g=g.queue,Dg(V_.bind(null,c,g,i),[i]),g.getSnapshot!==a||T||Rt!==null&&Rt.memoizedState.tag&1){if(c.flags|=2048,To(9,P_.bind(null,c,g,l,a),{destroy:void 0},null),rt===null)throw Error(r(349));m||(Wi&60)!==0||k_(c,a,l)}return l}function k_(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Oe.updateQueue,a===null?(a=ff(),Oe.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function P_(i,a,l,c){a.value=l,a.getSnapshot=c,L_(a)&&U_(i)}function V_(i,a,l){return l(function(){L_(a)&&U_(i)})}function L_(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Dn(i,l)}catch{return!0}}function U_(i){var a=Gi(i,2);a!==null&&yn(a,i,2)}function Rg(i){var a=Tn();if(typeof i=="function"){var l=i;if(i=l(),oa){hr(!0);try{l()}finally{hr(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:i},a}function H_(i,a,l,c){return i.baseState=l,Sg(i,et,typeof c=="function"?c:Zr)}function XD(i,a,l,c,g){if(mf(i))throw Error(r(485));if(i=a.action,i!==null){var m={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};D.T!==null?l(!0):m.isTransition=!1,c(m),l=a.pending,l===null?(m.next=a.pending=m,B_(a,m)):(m.next=l.next,a.pending=l.next=m)}}function B_(i,a){var l=a.action,c=a.payload,g=i.state;if(a.isTransition){var m=D.T,T={};D.T=T;try{var S=l(g,c),N=D.S;N!==null&&N(T,S),z_(i,a,S)}catch(z){Cg(i,a,z)}finally{D.T=m}}else try{m=l(g,c),z_(i,a,m)}catch(z){Cg(i,a,z)}}function z_(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){j_(i,a,c)},function(c){return Cg(i,a,c)}):j_(i,a,l)}function j_(i,a,l){a.status="fulfilled",a.value=l,F_(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,B_(i,l)))}function Cg(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,F_(a),a=a.next;while(a!==c)}i.action=null}function F_(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function q_(i,a){return a}function G_(i,a){if(Qe){var l=rt.formState;if(l!==null){e:{var c=Oe;if(Qe){if(Yt){t:{for(var g=Yt,m=Sr;g.nodeType!==8;){if(!m){g=null;break t}if(g=ar(g.nextSibling),g===null){g=null;break t}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){Yt=ar(g.nextSibling),c=g.data==="F!";break e}}ia(c)}c=!1}c&&(a=l[0])}}return l=Tn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q_,lastRenderedState:a},l.queue=c,l=uE.bind(null,Oe,c),c.dispatch=l,c=Rg(!1),m=Mg.bind(null,Oe,!1,c.queue),c=Tn(),g={state:a,dispatch:null,action:i,pending:null},c.queue=g,l=XD.bind(null,Oe,g,m,l),g.dispatch=l,c.memoizedState=i,[a,l,!1]}function Q_(i){var a=Ct();return $_(a,et,i)}function $_(i,a,l){a=Sg(i,a,q_)[0],i=hf(Zr)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Xl(a):a;var c=Ct(),g=c.queue,m=g.dispatch;return l!==c.memoizedState&&(Oe.flags|=2048,To(9,ZD.bind(null,g,l),{destroy:void 0},null)),[a,m,i]}function ZD(i,a){i.action=a}function W_(i){var a=Ct(),l=et;if(l!==null)return $_(a,l,i);Ct(),a=a.memoizedState,l=Ct();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function To(i,a,l,c){return i={tag:i,create:a,inst:l,deps:c,next:null},a=Oe.updateQueue,a===null&&(a=ff(),Oe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Y_(){return Ct().memoizedState}function gf(i,a,l,c){var g=Tn();Oe.flags|=i,g.memoizedState=To(1|a,l,{destroy:void 0},c===void 0?null:c)}function pf(i,a,l,c){var g=Ct();c=c===void 0?null:c;var m=g.memoizedState.inst;et!==null&&c!==null&&vg(c,et.memoizedState.deps)?g.memoizedState=To(a,l,m,c):(Oe.flags|=i,g.memoizedState=To(1|a,l,m,c))}function K_(i,a){gf(8390656,8,i,a)}function Dg(i,a){pf(2048,8,i,a)}function X_(i,a){return pf(4,2,i,a)}function Z_(i,a){return pf(4,4,i,a)}function J_(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function eE(i,a,l){l=l!=null?l.concat([i]):null,pf(4,4,J_.bind(null,a,i),l)}function Ig(){}function tE(i,a){var l=Ct();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&vg(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function nE(i,a){var l=Ct();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&vg(a,c[1]))return c[0];if(c=i(),oa){hr(!0);try{i()}finally{hr(!1)}}return l.memoizedState=[c,a],c}function xg(i,a,l){return l===void 0||(Wi&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=i0(),Oe.lanes|=i,is|=i,l)}function rE(i,a,l,c){return Dn(l,a)?l:yo.current!==null?(i=xg(i,l,c),Dn(i,a)||(Ft=!0),i):(Wi&42)===0?(Ft=!0,i.memoizedState=l):(i=i0(),Oe.lanes|=i,is|=i,a)}function iE(i,a,l,c,g){var m=fe.p;fe.p=m!==0&&8>m?m:8;var T=D.T,S={};D.T=S,Mg(i,!1,a,l);try{var N=g(),z=D.S;if(z!==null&&z(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ee=WD(N,c);Zl(i,a,ee,Nn(i))}else Zl(i,a,c,Nn(i))}catch(ie){Zl(i,a,{then:function(){},status:"rejected",reason:ie},Nn())}finally{fe.p=m,D.T=T}}function JD(){}function Og(i,a,l,c){if(i.tag!==5)throw Error(r(476));var g=sE(i).queue;iE(i,g,a,xe,l===null?JD:function(){return aE(i),l(c)})}function sE(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:xe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function aE(i){var a=sE(i).next.queue;Zl(i,a,{},Nn())}function Ng(){return rn(vu)}function oE(){return Ct().memoizedState}function lE(){return Ct().memoizedState}function e1(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Nn();i=Zi(l);var c=Ji(a,i,l);c!==null&&(yn(c,a,l),tu(c,a,l)),a={cache:pg()},i.payload=a;return}a=a.return}}function t1(i,a,l){var c=Nn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mf(i)?cE(a,l):(l=lg(i,a,l,c),l!==null&&(yn(l,i,c),fE(l,a,c)))}function uE(i,a,l){var c=Nn();Zl(i,a,l,c)}function Zl(i,a,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mf(i))cE(a,g);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var T=a.lastRenderedState,S=m(T,l);if(g.hasEagerState=!0,g.eagerState=S,Dn(S,T))return Zc(i,a,g,0),rt===null&&Xc(),!1}catch{}finally{}if(l=lg(i,a,g,c),l!==null)return yn(l,i,c),fE(l,a,c),!0}return!1}function Mg(i,a,l,c){if(c={lane:2,revertLane:Tp(),action:c,hasEagerState:!1,eagerState:null,next:null},mf(i)){if(a)throw Error(r(479))}else a=lg(i,l,c,2),a!==null&&yn(a,i,2)}function mf(i){var a=i.alternate;return i===Oe||a!==null&&a===Oe}function cE(i,a){Eo=uf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function fE(i,a,l){if((l&4194176)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Pi(i,l)}}var Rr={readContext:rn,use:df,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};Rr.useCacheRefresh=Tt,Rr.useMemoCache=Tt,Rr.useHostTransitionStatus=Tt,Rr.useFormState=Tt,Rr.useActionState=Tt,Rr.useOptimistic=Tt;var la={readContext:rn,use:df,useCallback:function(i,a){return Tn().memoizedState=[i,a===void 0?null:a],i},useContext:rn,useEffect:K_,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,gf(4194308,4,J_.bind(null,a,i),l)},useLayoutEffect:function(i,a){return gf(4194308,4,i,a)},useInsertionEffect:function(i,a){gf(4,2,i,a)},useMemo:function(i,a){var l=Tn();a=a===void 0?null:a;var c=i();if(oa){hr(!0);try{i()}finally{hr(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Tn();if(l!==void 0){var g=l(a);if(oa){hr(!0);try{l(a)}finally{hr(!1)}}}else g=a;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=t1.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var a=Tn();return i={current:i},a.memoizedState=i},useState:function(i){i=Rg(i);var a=i.queue,l=uE.bind(null,Oe,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Ig,useDeferredValue:function(i,a){var l=Tn();return xg(l,i,a)},useTransition:function(){var i=Rg(!1);return i=iE.bind(null,Oe,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Oe,g=Tn();if(Qe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),rt===null)throw Error(r(349));(ze&60)!==0||k_(c,a,l)}g.memoizedState=l;var m={value:l,getSnapshot:a};return g.queue=m,K_(V_.bind(null,c,m,i),[i]),c.flags|=2048,To(9,P_.bind(null,c,m,l,a),{destroy:void 0},null),l},useId:function(){var i=Tn(),a=rt.identifierPrefix;if(Qe){var l=Kr,c=Yr;l=(c&~(1<<32-hn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=cf++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=YD++,a=":"+a+"r"+l.toString(32)+":";return i.memoizedState=a},useCacheRefresh:function(){return Tn().memoizedState=e1.bind(null,Oe)}};la.useMemoCache=Ag,la.useHostTransitionStatus=Ng,la.useFormState=G_,la.useActionState=G_,la.useOptimistic=function(i){var a=Tn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Mg.bind(null,Oe,!0,l),l.dispatch=a,[i,a]};var Yi={readContext:rn,use:df,useCallback:tE,useContext:rn,useEffect:Dg,useImperativeHandle:eE,useInsertionEffect:X_,useLayoutEffect:Z_,useMemo:nE,useReducer:hf,useRef:Y_,useState:function(){return hf(Zr)},useDebugValue:Ig,useDeferredValue:function(i,a){var l=Ct();return rE(l,et.memoizedState,i,a)},useTransition:function(){var i=hf(Zr)[0],a=Ct().memoizedState;return[typeof i=="boolean"?i:Xl(i),a]},useSyncExternalStore:M_,useId:oE};Yi.useCacheRefresh=lE,Yi.useMemoCache=Ag,Yi.useHostTransitionStatus=Ng,Yi.useFormState=Q_,Yi.useActionState=Q_,Yi.useOptimistic=function(i,a){var l=Ct();return H_(l,et,i,a)};var ua={readContext:rn,use:df,useCallback:tE,useContext:rn,useEffect:Dg,useImperativeHandle:eE,useInsertionEffect:X_,useLayoutEffect:Z_,useMemo:nE,useReducer:wg,useRef:Y_,useState:function(){return wg(Zr)},useDebugValue:Ig,useDeferredValue:function(i,a){var l=Ct();return et===null?xg(l,i,a):rE(l,et.memoizedState,i,a)},useTransition:function(){var i=wg(Zr)[0],a=Ct().memoizedState;return[typeof i=="boolean"?i:Xl(i),a]},useSyncExternalStore:M_,useId:oE};ua.useCacheRefresh=lE,ua.useMemoCache=Ag,ua.useHostTransitionStatus=Ng,ua.useFormState=W_,ua.useActionState=W_,ua.useOptimistic=function(i,a){var l=Ct();return et!==null?H_(l,et,i,a):(l.baseState=i,[i,l.queue.dispatch])};function kg(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:k({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Pg={isMounted:function(i){return(i=i._reactInternals)?pe(i)===i:!1},enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Nn(),g=Zi(c);g.payload=a,l!=null&&(g.callback=l),a=Ji(i,g,c),a!==null&&(yn(a,i,c),tu(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Nn(),g=Zi(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ji(i,g,c),a!==null&&(yn(a,i,c),tu(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Nn(),c=Zi(l);c.tag=2,a!=null&&(c.callback=a),a=Ji(i,c,l),a!==null&&(yn(a,i,l),tu(a,i,l))}};function dE(i,a,l,c,g,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,m,T):a.prototype&&a.prototype.isPureReactComponent?!Hl(l,c)||!Hl(g,m):!0}function hE(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Pg.enqueueReplaceState(a,a.state,null)}function ca(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=k({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var yf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function gE(i){yf(i)}function pE(i){console.error(i)}function mE(i){yf(i)}function vf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function yE(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Vg(i,a,l){return l=Zi(l),l.tag=3,l.payload={element:null},l.callback=function(){vf(i,a)},l}function vE(i){return i=Zi(i),i.tag=3,i}function _E(i,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var m=c.value;i.payload=function(){return g(m)},i.callback=function(){yE(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){yE(a,l,c),typeof g!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function n1(i,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&eu(a,l,g,!0),l=$n.current,l!==null){switch(l.tag){case 13:return wr===null?yp():l.alternate===null&&vt===0&&(vt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===dg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),_p(i,c,g)),!1;case 22:return l.flags|=65536,c===dg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),_p(i,c,g)),!1}throw Error(r(435,l.tag))}return _p(i,c,g),yp(),!1}if(Qe)return a=$n.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==fg&&(i=Error(r(422),{cause:c}),Fl(qn(i,l)))):(c!==fg&&(a=Error(r(423),{cause:c}),Fl(qn(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=qn(c,l),g=Vg(i.stateNode,c,g),Xg(i,g),vt!==4&&(vt=2)),!1;var m=Error(r(520),{cause:c});if(m=qn(m,l),uu===null?uu=[m]:uu.push(m),vt!==4&&(vt=2),a===null)return!0;c=qn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Vg(l.stateNode,c,i),Xg(l,i),!1;case 1:if(a=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ss===null||!ss.has(m))))return l.flags|=65536,g&=-g,l.lanes|=g,g=vE(g),_E(g,i,l,c),Xg(l,g),!1}l=l.return}while(l!==null);return!1}var EE=Error(r(461)),Ft=!1;function Kt(i,a,l,c){a.child=i===null?w_(a,null,l,c):sa(a,i.child,l,c)}function bE(i,a,l,c,g){l=l.render;var m=a.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return da(a),c=_g(i,a,l,T,m,g),S=Eg(),i!==null&&!Ft?(bg(i,a,g),Jr(i,a,g)):(Qe&&S&&ug(a),a.flags|=1,Kt(i,a,c,g),a.child)}function TE(i,a,l,c,g){if(i===null){var m=l.type;return typeof m=="function"&&!sp(m)&&m.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=m,AE(i,a,m,c,g)):(i=Af(l.type,null,c,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(m=i.child,!Gg(i,g)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:Hl,l(T,c)&&i.ref===a.ref)return Jr(i,a,g)}return a.flags|=1,i=rs(m,c),i.ref=a.ref,i.return=a,a.child=i}function AE(i,a,l,c,g){if(i!==null){var m=i.memoizedProps;if(Hl(m,c)&&i.ref===a.ref)if(Ft=!1,a.pendingProps=c=m,Gg(i,g))(i.flags&131072)!==0&&(Ft=!0);else return a.lanes=i.lanes,Jr(i,a,g)}return Lg(i,a,l,c,g)}function SE(i,a,l){var c=a.pendingProps,g=c.children,m=(a.stateNode._pendingVisibility&2)!==0,T=i!==null?i.memoizedState:null;if(Jl(i,a),c.mode==="hidden"||m){if((a.flags&128)!==0){if(c=T!==null?T.baseLanes|l:l,i!==null){for(g=a.child=i.child,m=0;g!==null;)m=m|g.lanes|g.childLanes,g=g.sibling;a.childLanes=m&~c}else a.childLanes=0,a.child=null;return wE(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&lf(a,T!==null?T.cachePool:null),T!==null?R_(a,T):hg(),C_(a);else return a.lanes=a.childLanes=536870912,wE(i,a,T!==null?T.baseLanes|l:l,l)}else T!==null?(lf(a,T.cachePool),R_(a,T),$i(),a.memoizedState=null):(i!==null&&lf(a,null),hg(),$i());return Kt(i,a,g,l),a.child}function wE(i,a,l,c){var g=yg();return g=g===null?null:{parent:Vt._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&lf(a,null),hg(),C_(a),i!==null&&eu(i,a,c,!0),null}function Jl(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=2097664)}}function Lg(i,a,l,c,g){return da(a),l=_g(i,a,l,c,void 0,g),c=Eg(),i!==null&&!Ft?(bg(i,a,g),Jr(i,a,g)):(Qe&&c&&ug(a),a.flags|=1,Kt(i,a,l,g),a.child)}function RE(i,a,l,c,g,m){return da(a),a.updateQueue=null,l=N_(a,c,l,g),O_(i),c=Eg(),i!==null&&!Ft?(bg(i,a,m),Jr(i,a,m)):(Qe&&c&&ug(a),a.flags|=1,Kt(i,a,l,m),a.child)}function CE(i,a,l,c,g){if(da(a),a.stateNode===null){var m=ho,T=l.contextType;typeof T=="object"&&T!==null&&(m=rn(T)),m=new l(c,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Pg,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=c,m.state=a.memoizedState,m.refs={},Yg(a),T=l.contextType,m.context=typeof T=="object"&&T!==null?rn(T):ho,m.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(kg(a,l,T,c),m.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Pg.enqueueReplaceState(m,m.state,null),ru(a,c,m,g),nu(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){m=a.stateNode;var S=a.memoizedProps,N=ca(l,S);m.props=N;var z=m.context,ee=l.contextType;T=ho,typeof ee=="object"&&ee!==null&&(T=rn(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||z!==T)&&hE(a,m,c,T),Xi=!1;var W=a.memoizedState;m.state=W,ru(a,c,m,g),nu(),z=a.memoizedState,S||W!==z||Xi?(typeof ie=="function"&&(kg(a,l,ie,c),z=a.memoizedState),(N=Xi||dE(a,l,N,c,W,z,T))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=z),m.props=c,m.state=z,m.context=T,c=N):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{m=a.stateNode,Kg(i,a),T=a.memoizedProps,ee=ca(l,T),m.props=ee,ie=a.pendingProps,W=m.context,z=l.contextType,N=ho,typeof z=="object"&&z!==null&&(N=rn(z)),S=l.getDerivedStateFromProps,(z=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ie||W!==N)&&hE(a,m,c,N),Xi=!1,W=a.memoizedState,m.state=W,ru(a,c,m,g),nu();var J=a.memoizedState;T!==ie||W!==J||Xi||i!==null&&i.dependencies!==null&&_f(i.dependencies)?(typeof S=="function"&&(kg(a,l,S,c),J=a.memoizedState),(ee=Xi||dE(a,l,ee,c,W,J,N)||i!==null&&i.dependencies!==null&&_f(i.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,J,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,J,N)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=J),m.props=c,m.state=J,m.context=N,c=ee):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(a.flags|=1024),c=!1)}return m=c,Jl(i,a),c=(a.flags&128)!==0,m||c?(m=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,i!==null&&c?(a.child=sa(a,i.child,null,g),a.child=sa(a,null,l,g)):Kt(i,a,l,g),a.memoizedState=m.state,i=a.child):i=Jr(i,a,g),i}function DE(i,a,l,c){return jl(),a.flags|=256,Kt(i,a,l,c),a.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function Hg(i){return{baseLanes:i,cachePool:x_()}}function Bg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Xn),i}function IE(i,a,l){var c=a.pendingProps,g=!1,m=(a.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),T&&(g=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Qe){if(g?Qi(a):$i(),Qe){var S=Yt,N;if(N=S){e:{for(N=S,S=Sr;N.nodeType!==8;){if(!S){S=null;break e}if(N=ar(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(a.memoizedState={dehydrated:S,treeContext:na!==null?{id:Yr,overflow:Kr}:null,retryLane:536870912},N=Kn(18,null,null,0),N.stateNode=S,N.return=a,a.child=N,mn=a,Yt=null,N=!0):N=!1}N||ia(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?a.lanes=16:a.lanes=536870912,null;Xr(a)}return S=c.children,c=c.fallback,g?($i(),g=a.mode,S=jg({mode:"hidden",children:S},g),c=ga(c,g,l,null),S.return=a,c.return=a,S.sibling=c,a.child=S,g=a.child,g.memoizedState=Hg(l),g.childLanes=Bg(i,T,l),a.memoizedState=Ug,c):(Qi(a),zg(a,S))}if(N=i.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(m)a.flags&256?(Qi(a),a.flags&=-257,a=Fg(i,a,l)):a.memoizedState!==null?($i(),a.child=i.child,a.flags|=128,a=null):($i(),g=c.fallback,S=a.mode,c=jg({mode:"visible",children:c.children},S),g=ga(g,S,l,null),g.flags|=2,c.return=a,g.return=a,c.sibling=g,a.child=c,sa(a,i.child,null,l),c=a.child,c.memoizedState=Hg(l),c.childLanes=Bg(i,T,l),a.memoizedState=Ug,a=g);else if(Qi(a),S.data==="$!"){if(T=S.nextSibling&&S.nextSibling.dataset,T)var z=T.dgst;T=z,c=Error(r(419)),c.stack="",c.digest=T,Fl({value:c,source:null,stack:null}),a=Fg(i,a,l)}else if(Ft||eu(i,a,l,!1),T=(l&i.childLanes)!==0,Ft||T){if(T=rt,T!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==N.retryLane)throw N.retryLane=c,Gi(i,c),yn(T,i,c),EE}S.data==="$?"||yp(),a=Fg(i,a,l)}else S.data==="$?"?(a.flags|=128,a.child=i.child,a=y1.bind(null,i),S._reactRetry=a,a=null):(i=N.treeContext,Yt=ar(S.nextSibling),mn=a,Qe=!0,ir=null,Sr=!1,i!==null&&(Gn[Qn++]=Yr,Gn[Qn++]=Kr,Gn[Qn++]=na,Yr=i.id,Kr=i.overflow,na=a),a=zg(a,c.children),a.flags|=4096);return a}return g?($i(),g=c.fallback,S=a.mode,N=i.child,z=N.sibling,c=rs(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&31457280,z!==null?g=rs(z,g):(g=ga(g,S,l,null),g.flags|=2),g.return=a,c.return=a,c.sibling=g,a.child=c,c=g,g=a.child,S=i.child.memoizedState,S===null?S=Hg(l):(N=S.cachePool,N!==null?(z=Vt._currentValue,N=N.parent!==z?{parent:z,pool:z}:N):N=x_(),S={baseLanes:S.baseLanes|l,cachePool:N}),g.memoizedState=S,g.childLanes=Bg(i,T,l),a.memoizedState=Ug,c):(Qi(a),l=i.child,i=l.sibling,l=rs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function zg(i,a){return a=jg({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function jg(i,a){return t0(i,a,0,null)}function Fg(i,a,l){return sa(a,i.child,null,l),i=zg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function xE(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),$g(i.return,a,l)}function qg(i,a,l,c,g){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=g)}function OE(i,a,l){var c=a.pendingProps,g=c.revealOrder,m=c.tail;if(Kt(i,a,c.children,l),c=Pt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xE(i,l,a);else if(i.tag===19)xE(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Je(Pt,c),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&of(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),qg(a,!1,g,l,m);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&of(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}qg(a,!0,l,null,m);break;case"together":qg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Jr(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),is|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(eu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=rs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=rs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Gg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&_f(i)))}function r1(i,a,l){switch(a.tag){case 3:Ii(a,a.stateNode.containerInfo),Ki(a,Vt,i.memoizedState.cache),jl();break;case 27:case 5:vl(a);break;case 4:Ii(a,a.stateNode.containerInfo);break;case 10:Ki(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Qi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?IE(i,a,l):(Qi(a),i=Jr(i,a,l),i!==null?i.sibling:null);Qi(a);break;case 19:var g=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(eu(i,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return OE(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(Pt,Pt.current),c)break;return null;case 22:case 23:return a.lanes=0,SE(i,a,l);case 24:Ki(a,Vt,i.memoizedState.cache)}return Jr(i,a,l)}function NE(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ft=!0;else{if(!Gg(i,l)&&(a.flags&128)===0)return Ft=!1,r1(i,a,l);Ft=(i.flags&131072)!==0}else Ft=!1,Qe&&(a.flags&1048576)!==0&&m_(a,tf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,g=c._init;if(c=g(c._payload),a.type=c,typeof c=="function")sp(c)?(i=ca(c,i),a.tag=1,a=CE(null,a,c,i,l)):(a.tag=0,a=Lg(null,a,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===w){a.tag=11,a=bE(null,a,c,i,l);break e}else if(g===x){a.tag=14,a=TE(null,a,c,i,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return Lg(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=ca(c,a.pendingProps),CE(i,a,c,g,l);case 3:e:{if(Ii(a,a.stateNode.containerInfo),i===null)throw Error(r(387));var m=a.pendingProps;g=a.memoizedState,c=g.element,Kg(i,a),ru(a,m,null,l);var T=a.memoizedState;if(m=T.cache,Ki(a,Vt,m),m!==g.cache&&Wg(a,[Vt],l,!0),nu(),m=T.element,g.isDehydrated)if(g={element:m,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=DE(i,a,m,l);break e}else if(m!==c){c=qn(Error(r(424)),a),Fl(c),a=DE(i,a,m,l);break e}else for(Yt=ar(a.stateNode.containerInfo.firstChild),mn=a,Qe=!0,ir=null,Sr=!0,l=w_(a,null,m,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jl(),m===c){a=Jr(i,a,l);break e}Kt(i,a,m,l)}a=a.child}return a;case 26:return Jl(i,a),i===null?(l=P0(a.type,null,a.pendingProps,null))?a.memoizedState=l:Qe||(l=a.type,i=a.pendingProps,c=Pf(Vn.current).createElement(l),c[Bt]=a,c[Nt]=i,Xt(c,l,i),ct(c),a.stateNode=c):a.memoizedState=P0(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return vl(a),i===null&&Qe&&(c=a.stateNode=N0(a.type,a.pendingProps,Vn.current),mn=a,Sr=!0,Yt=ar(c.firstChild)),c=a.pendingProps.children,i!==null||Qe?Kt(i,a,c,l):a.child=sa(a,null,c,l),Jl(i,a),a.child;case 5:return i===null&&Qe&&((g=c=Yt)&&(c=M1(c,a.type,a.pendingProps,Sr),c!==null?(a.stateNode=c,mn=a,Yt=ar(c.firstChild),Sr=!1,g=!0):g=!1),g||ia(a)),vl(a),g=a.type,m=a.pendingProps,T=i!==null?i.memoizedProps:null,c=m.children,Op(g,m)?c=null:T!==null&&Op(g,T)&&(a.flags|=32),a.memoizedState!==null&&(g=_g(i,a,KD,null,null,l),vu._currentValue=g),Jl(i,a),Kt(i,a,c,l),a.child;case 6:return i===null&&Qe&&((i=l=Yt)&&(l=k1(l,a.pendingProps,Sr),l!==null?(a.stateNode=l,mn=a,Yt=null,i=!0):i=!1),i||ia(a)),null;case 13:return IE(i,a,l);case 4:return Ii(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=sa(a,null,c,l):Kt(i,a,c,l),a.child;case 11:return bE(i,a,a.type,a.pendingProps,l);case 7:return Kt(i,a,a.pendingProps,l),a.child;case 8:return Kt(i,a,a.pendingProps.children,l),a.child;case 12:return Kt(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ki(a,a.type,c.value),Kt(i,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,da(a),g=rn(g),c=c(g),a.flags|=1,Kt(i,a,c,l),a.child;case 14:return TE(i,a,a.type,a.pendingProps,l);case 15:return AE(i,a,a.type,a.pendingProps,l);case 19:return OE(i,a,l);case 22:return SE(i,a,l);case 24:return da(a),c=rn(Vt),i===null?(g=yg(),g===null&&(g=rt,m=pg(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=l),g=m),a.memoizedState={parent:c,cache:g},Yg(a),Ki(a,Vt,g)):((i.lanes&l)!==0&&(Kg(i,a),ru(a,null,null,l),nu()),g=i.memoizedState,m=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ki(a,Vt,c)):(c=m.cache,Ki(a,Vt,c),c!==g.cache&&Wg(a,[Vt],l,!0))),Kt(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var Qg=qe(null),fa=null,ei=null;function Ki(i,a,l){Je(Qg,a._currentValue),a._currentValue=l}function ti(i){i._currentValue=Qg.current,pt(Qg)}function $g(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function Wg(i,a,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var m=g.dependencies;if(m!==null){var T=g.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=g;for(var N=0;N<a.length;N++)if(S.context===a[N]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),$g(m.return,l,i),c||(T=null);break e}m=S.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(r(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),$g(T,l,i),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===i){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function eu(i,a,l,c){i=null;for(var g=a,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=g.type;Dn(g.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(g===Di.current){if(T=g.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}g=g.return}i!==null&&Wg(a,i,l,c),a.flags|=262144}function _f(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function da(i){fa=i,ei=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return ME(fa,i)}function Ef(i,a){return fa===null&&da(i),ME(i,a)}function ME(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ei===null){if(i===null)throw Error(r(308));ei=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ei=ei.next=a;return l}var Xi=!1;function Yg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ji(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(dt&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=Jc(i),g_(i,null,l),a}return Zc(i,c,a,l),Jc(i)}function tu(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Pi(i,l)}}function Xg(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?g=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?g=m=a:m=m.next=a}else g=m=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Zg=!1;function nu(){if(Zg){var i=_o;if(i!==null)throw i}}function ru(i,a,l,c){Zg=!1;var g=i.updateQueue;Xi=!1;var m=g.firstBaseUpdate,T=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var N=S,z=N.next;N.next=null,T===null?m=z:T.next=z,T=N;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==T&&(S===null?ee.firstBaseUpdate=z:S.next=z,ee.lastBaseUpdate=N))}if(m!==null){var ie=g.baseState;T=0,ee=z=N=null,S=m;do{var W=S.lane&-536870913,J=W!==S.lane;if(J?(ze&W)===W:(c&W)===W){W!==0&&W===vo&&(Zg=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,Re=S;W=a;var _t=l;switch(Re.tag){case 1:if(me=Re.payload,typeof me=="function"){ie=me.call(_t,ie,W);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Re.payload,W=typeof me=="function"?me.call(_t,ie,W):me,W==null)break e;ie=k({},ie,W);break e;case 2:Xi=!0}}W=S.callback,W!==null&&(i.flags|=64,J&&(i.flags|=8192),J=g.callbacks,J===null?g.callbacks=[W]:J.push(W))}else J={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(z=ee=J,N=ie):ee=ee.next=J,T|=W;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;J=S,S=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);ee===null&&(N=ie),g.baseState=N,g.firstBaseUpdate=z,g.lastBaseUpdate=ee,m===null&&(g.shared.lanes=0),is|=T,i.lanes=T,i.memoizedState=ie}}function kE(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function PE(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)kE(l[i],a)}function iu(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var m=l.create,T=l.inst;c=m(),T.destroy=c}l=l.next}while(l!==g)}}catch(S){nt(a,a.return,S)}}function es(i,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var m=g.next;c=m;do{if((c.tag&i)===i){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,g=a;var N=l;try{S()}catch(z){nt(g,N,z)}}}c=c.next}while(c!==m)}}catch(z){nt(a,a.return,z)}}function VE(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{PE(a,l)}catch(c){nt(i,i.return,c)}}}function LE(i,a,l){l.props=ca(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){nt(i,a,c)}}function ha(i,a){try{var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=c;break;default:g=c}typeof l=="function"?i.refCleanup=l(g):l.current=g}}catch(m){nt(i,a,m)}}function In(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){nt(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){nt(i,a,g)}else l.current=null}function UE(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){nt(i,i.return,g)}}function HE(i,a,l){try{var c=i.stateNode;D1(c,i.type,l,a),c[Nt]=a}catch(g){nt(i,i.return,g)}}function BE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Jg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||BE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ep(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(i,a):l.insertBefore(i,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(i,l)):(a=l,a.appendChild(i)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=kf));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(ep(i,a,l),i=i.sibling;i!==null;)ep(i,a,l),i=i.sibling}function bf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(bf(i,a,l),i=i.sibling;i!==null;)bf(i,a,l),i=i.sibling}var ni=!1,yt=!1,tp=!1,zE=typeof WeakSet=="function"?WeakSet:Set,qt=null,jE=!1;function i1(i,a){if(i=i.containerInfo,Ip=zf,i=s_(i),rg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,S=-1,N=-1,z=0,ee=0,ie=i,W=null;t:for(;;){for(var J;ie!==l||g!==0&&ie.nodeType!==3||(S=T+g),ie!==m||c!==0&&ie.nodeType!==3||(N=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(J=ie.firstChild)!==null;)W=ie,ie=J;for(;;){if(ie===i)break t;if(W===l&&++z===g&&(S=T),W===m&&++ee===c&&(N=T),(J=ie.nextSibling)!==null)break;ie=W,W=ie.parentNode}ie=J}l=S===-1||N===-1?null:{start:S,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(xp={focusedElem:i,selectionRange:l},zf=!1,qt=a;qt!==null;)if(a=qt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,qt=i;else for(;qt!==null;){switch(a=qt,m=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=a,g=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var me=ca(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(me,m),c.__reactInternalSnapshotBeforeUpdate=i}catch(Re){nt(l,l.return,Re)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)kp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,qt=i;break}qt=a.return}return me=jE,jE=!1,me}function FE(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ii(i,l),c&4&&iu(5,l);break;case 1:if(ii(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(S){nt(l,l.return,S)}else{var g=ca(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(S){nt(l,l.return,S)}}c&64&&VE(l),c&512&&ha(l,l.return);break;case 3:if(ii(i,l),c&64&&(c=l.updateQueue,c!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{PE(c,i)}catch(S){nt(l,l.return,S)}}break;case 26:ii(i,l),c&512&&ha(l,l.return);break;case 27:case 5:ii(i,l),a===null&&c&4&&UE(l),c&512&&ha(l,l.return);break;case 12:ii(i,l);break;case 13:ii(i,l),c&4&&QE(i,l);break;case 22:if(g=l.memoizedState!==null||ni,!g){a=a!==null&&a.memoizedState!==null||yt;var m=ni,T=yt;ni=g,(yt=a)&&!T?ts(i,l,(l.subtreeFlags&8772)!==0):ii(i,l),ni=m,yt=T}c&512&&(l.memoizedProps.mode==="manual"?ha(l,l.return):In(l,l.return));break;default:ii(i,l)}}function qE(i){var a=i.alternate;a!==null&&(i.alternate=null,qE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Fs(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,xn=!1;function ri(i,a,l){for(l=l.child;l!==null;)GE(i,a,l),l=l.sibling}function GE(i,a,l){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(xi,l)}catch{}switch(l.tag){case 26:yt||In(l,a),ri(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:yt||In(l,a);var c=Dt,g=xn;for(Dt=l.stateNode,ri(i,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);Fs(l),Dt=c,xn=g;break;case 5:yt||In(l,a);case 6:g=Dt;var m=xn;if(Dt=null,ri(i,a,l),Dt=g,xn=m,Dt!==null)if(xn)try{i=Dt,c=l.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(T){nt(l,a,T)}else try{Dt.removeChild(l.stateNode)}catch(T){nt(l,a,T)}break;case 18:Dt!==null&&(xn?(a=Dt,l=l.stateNode,a.nodeType===8?Mp(a.parentNode,l):a.nodeType===1&&Mp(a,l),Tu(a)):Mp(Dt,l.stateNode));break;case 4:c=Dt,g=xn,Dt=l.stateNode.containerInfo,xn=!0,ri(i,a,l),Dt=c,xn=g;break;case 0:case 11:case 14:case 15:yt||es(2,l,a),yt||es(4,l,a),ri(i,a,l);break;case 1:yt||(In(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&LE(l,a,c)),ri(i,a,l);break;case 21:ri(i,a,l);break;case 22:yt||In(l,a),yt=(c=yt)||l.memoizedState!==null,ri(i,a,l),yt=c;break;default:ri(i,a,l)}}function QE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tu(i)}catch(l){nt(a,a.return,l)}}function s1(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new zE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new zE),a;default:throw Error(r(435,i.tag))}}function np(i,a){var l=s1(i);a.forEach(function(c){var g=v1.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function Wn(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],m=i,T=a,S=T;e:for(;S!==null;){switch(S.tag){case 27:case 5:Dt=S.stateNode,xn=!1;break e;case 3:Dt=S.stateNode.containerInfo,xn=!0;break e;case 4:Dt=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(Dt===null)throw Error(r(160));GE(m,T,g),Dt=null,xn=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)$E(a,i),a=a.sibling}var sr=null;function $E(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wn(a,i),Yn(i),c&4&&(es(3,i,i.return),iu(3,i),es(5,i,i.return));break;case 1:Wn(a,i),Yn(i),c&512&&(yt||l===null||In(l,l.return)),c&64&&ni&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=sr;if(Wn(a,i),Yn(i),c&512&&(yt||l===null||In(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":m=g.getElementsByTagName("title")[0],(!m||m[Li]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(c),g.head.insertBefore(m,g.querySelector("head > title"))),Xt(m,c,l),m[Bt]=i,ct(m),c=m;break e;case"link":var T=U0("link","href",g).get(c+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(l.href==null?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break t}}m=g.createElement(c),Xt(m,c,l),g.head.appendChild(m);break;case"meta":if(T=U0("meta","content",g).get(c+(l.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break t}}m=g.createElement(c),Xt(m,c,l),g.head.appendChild(m);break;default:throw Error(r(468,c))}m[Bt]=i,ct(m),c=m}i.stateNode=c}else H0(g,i.type,i.stateNode);else i.stateNode=L0(g,c,i.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?H0(g,i.type,i.stateNode):L0(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&HE(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){g=i.stateNode,m=i.memoizedProps;try{for(var N=g.firstChild;N;){var z=N.nextSibling,ee=N.nodeName;N[Li]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&N.rel.toLowerCase()==="stylesheet"||g.removeChild(N),N=z}for(var ie=i.type,W=g.attributes;W.length;)g.removeAttributeNode(W[0]);Xt(g,ie,m),g[Bt]=i,g[Nt]=m}catch(me){nt(i,i.return,me)}}case 5:if(Wn(a,i),Yn(i),c&512&&(yt||l===null||In(l,l.return)),i.flags&32){g=i.stateNode;try{Hn(g,"")}catch(me){nt(i,i.return,me)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,HE(i,g,l!==null?l.memoizedProps:g)),c&1024&&(tp=!0);break;case 6:if(Wn(a,i),Yn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(me){nt(i,i.return,me)}}break;case 3:if(Uf=null,g=sr,sr=Vf(a.containerInfo),Wn(a,i),sr=g,Yn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Tu(a.containerInfo)}catch(me){nt(i,i.return,me)}tp&&(tp=!1,WE(i));break;case 4:c=sr,sr=Vf(i.stateNode.containerInfo),Wn(a,i),Yn(i),sr=c;break;case 12:Wn(a,i),Yn(i);break;case 13:Wn(a,i),Yn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fp=En()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,np(i,c)));break;case 22:if(c&512&&(yt||l===null||In(l,l.return)),N=i.memoizedState!==null,z=l!==null&&l.memoizedState!==null,ee=ni,ie=yt,ni=ee||N,yt=ie||z,Wn(a,i),yt=ie,ni=ee,Yn(i),a=i.stateNode,a._current=i,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=N?a._visibility&-2:a._visibility|1,N&&(a=ni||yt,l===null||z||a||Ao(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,a=i;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){z=l=a;try{if(g=z.stateNode,N)m=g.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=z.stateNode,S=z.memoizedProps.style;var J=S!=null&&S.hasOwnProperty("display")?S.display:null;T.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(me){nt(z,z.return,me)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=N?"":z.memoizedProps}catch(me){nt(z,z.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,np(i,l))));break;case 19:Wn(a,i),Yn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,np(i,c)));break;case 21:break;default:Wn(a,i),Yn(i)}}function Yn(i){var a=i.flags;if(a&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(BE(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var g=c.stateNode,m=Jg(i);bf(i,m,g);break;case 5:var T=c.stateNode;c.flags&32&&(Hn(T,""),c.flags&=-33);var S=Jg(i);bf(i,S,T);break;case 3:case 4:var N=c.stateNode.containerInfo,z=Jg(i);ep(i,z,N);break;default:throw Error(r(161))}}}catch(ee){nt(i,i.return,ee)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function WE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;WE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ii(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)FE(i,a.alternate,a),a=a.sibling}function Ao(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:es(4,a,a.return),Ao(a);break;case 1:In(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&LE(a,a.return,l),Ao(a);break;case 26:case 27:case 5:In(a,a.return),Ao(a);break;case 22:In(a,a.return),a.memoizedState===null&&Ao(a);break;default:Ao(a)}i=i.sibling}}function ts(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=i,m=a,T=m.flags;switch(m.tag){case 0:case 11:case 15:ts(g,m,l),iu(4,m);break;case 1:if(ts(g,m,l),c=m,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(z){nt(c,c.return,z)}if(c=m,g=c.updateQueue,g!==null){var S=c.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)kE(N[g],S)}catch(z){nt(c,c.return,z)}}l&&T&64&&VE(m),ha(m,m.return);break;case 26:case 27:case 5:ts(g,m,l),l&&c===null&&T&4&&UE(m),ha(m,m.return);break;case 12:ts(g,m,l);break;case 13:ts(g,m,l),l&&T&4&&QE(g,m);break;case 22:m.memoizedState===null&&ts(g,m,l),ha(m,m.return);break;default:ts(g,m,l)}a=a.sibling}}function rp(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Wl(l))}function ip(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wl(i))}function ns(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)YE(i,a,l,c),a=a.sibling}function YE(i,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:ns(i,a,l,c),g&2048&&iu(9,a);break;case 3:ns(i,a,l,c),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wl(i)));break;case 12:if(g&2048){ns(i,a,l,c),i=a.stateNode;try{var m=a.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){nt(a,a.return,N)}}else ns(i,a,l,c);break;case 23:break;case 22:m=a.stateNode,a.memoizedState!==null?m._visibility&4?ns(i,a,l,c):su(i,a):m._visibility&4?ns(i,a,l,c):(m._visibility|=4,So(i,a,l,c,(a.subtreeFlags&10256)!==0)),g&2048&&rp(a.alternate,a);break;case 24:ns(i,a,l,c),g&2048&&ip(a.alternate,a);break;default:ns(i,a,l,c)}}function So(i,a,l,c,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=i,T=a,S=l,N=c,z=T.flags;switch(T.tag){case 0:case 11:case 15:So(m,T,S,N,g),iu(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&4?So(m,T,S,N,g):su(m,T):(ee._visibility|=4,So(m,T,S,N,g)),g&&z&2048&&rp(T.alternate,T);break;case 24:So(m,T,S,N,g),g&&z&2048&&ip(T.alternate,T);break;default:So(m,T,S,N,g)}a=a.sibling}}function su(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,g=c.flags;switch(c.tag){case 22:su(l,c),g&2048&&rp(c.alternate,c);break;case 24:su(l,c),g&2048&&ip(c.alternate,c);break;default:su(l,c)}a=a.sibling}}var au=8192;function wo(i){if(i.subtreeFlags&au)for(i=i.child;i!==null;)KE(i),i=i.sibling}function KE(i){switch(i.tag){case 26:wo(i),i.flags&au&&i.memoizedState!==null&&$1(sr,i.memoizedState,i.memoizedProps);break;case 5:wo(i);break;case 3:case 4:var a=sr;sr=Vf(i.stateNode.containerInfo),wo(i),sr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=au,au=16777216,wo(i),au=a):wo(i));break;default:wo(i)}}function XE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ou(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qt=c,JE(c,i)}XE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ZE(i),i=i.sibling}function ZE(i){switch(i.tag){case 0:case 11:case 15:ou(i),i.flags&2048&&es(9,i,i.return);break;case 3:ou(i);break;case 12:ou(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&4&&(i.return===null||i.return.tag!==13)?(a._visibility&=-5,Tf(i)):ou(i);break;default:ou(i)}}function Tf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qt=c,JE(c,i)}XE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:es(8,a,a.return),Tf(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Tf(a));break;default:Tf(a)}i=i.sibling}}function JE(i,a){for(;qt!==null;){var l=qt;switch(l.tag){case 0:case 11:case 15:es(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Wl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,qt=c;else e:for(l=i;qt!==null;){c=qt;var g=c.sibling,m=c.return;if(qE(c),c===l){qt=null;break e}if(g!==null){g.return=m,qt=g;break e}qt=m}}}function a1(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,a,l,c){return new a1(i,a,l,c)}function sp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rs(i,a){var l=i.alternate;return l===null?(l=Kn(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function e0(i,a){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Af(i,a,l,c,g,m){var T=0;if(c=i,typeof i=="function")sp(i)&&(T=1);else if(typeof i=="string")T=G1(i,l,dn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case h:return ga(l.children,g,m,a);case p:T=8,g|=24;break;case y:return i=Kn(12,l,a,g|2),i.elementType=y,i.lanes=m,i;case O:return i=Kn(13,l,a,g),i.elementType=O,i.lanes=m,i;case I:return i=Kn(19,l,a,g),i.elementType=I,i.lanes=m,i;case H:return t0(l,g,m,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case A:T=10;break e;case E:T=9;break e;case w:T=11;break e;case x:T=14;break e;case V:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Kn(T,l,a,g),a.elementType=i,a.type=c,a.lanes=m,a}function ga(i,a,l,c){return i=Kn(7,i,c,a),i.lanes=l,i}function t0(i,a,l,c){i=Kn(22,i,c,a),i.elementType=H,i.lanes=l;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=g._current;if(m===null)throw Error(r(456));if((g._pendingVisibility&2)===0){var T=Gi(m,2);T!==null&&(g._pendingVisibility|=2,yn(T,m,2))}},attach:function(){var m=g._current;if(m===null)throw Error(r(456));if((g._pendingVisibility&2)!==0){var T=Gi(m,2);T!==null&&(g._pendingVisibility&=-3,yn(T,m,2))}}};return i.stateNode=g,i}function ap(i,a,l){return i=Kn(6,i,null,a),i.lanes=l,i}function op(i,a,l){return a=Kn(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function si(i){i.flags|=4}function n0(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!B0(a)){if(a=$n.current,a!==null&&((ze&4194176)===ze?wr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==wr))throw Gl=dg,__;i.flags|=8192}}function Sf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Mi():536870912,i.lanes|=a,Co|=a)}function lu(i,a){if(!Qe)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ft(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&31457280,c|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function o1(i,a,l){var c=a.pendingProps;switch(cg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(a),null;case 1:return ft(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ti(Vt),Ur(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(zl(a)?si(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ir!==null&&(pp(ir),ir=null))),ft(a),null;case 26:return l=a.memoizedState,i===null?(si(a),l!==null?(ft(a),n0(a,l)):(ft(a),a.flags&=-16777217)):l?l!==i.memoizedState?(si(a),ft(a),n0(a,l)):(ft(a),a.flags&=-16777217):(i.memoizedProps!==c&&si(a),ft(a),a.flags&=-16777217),null;case 27:Ga(a),l=Vn.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&si(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ft(a),null}i=dn.current,zl(a)?y_(a):(i=N0(g,c,l),a.stateNode=i,si(a))}return ft(a),null;case 5:if(Ga(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&si(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ft(a),null}if(i=dn.current,zl(a))y_(a);else{switch(g=Pf(Vn.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[Bt]=a,i[Nt]=c;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Xt(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&si(a)}}return ft(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&si(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Vn.current,zl(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,g=mn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Bt]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||R0(i.nodeValue,l)),i||ia(a)}else i=Pf(i).createTextNode(c),i[Bt]=a,a.stateNode=i}return ft(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=zl(a),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Bt]=a}else jl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),g=!1}else ir!==null&&(pp(ir),ir=null),g=!0;if(!g)return a.flags&256?(Xr(a),a):(Xr(a),null)}if(Xr(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==g&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Sf(a,a.updateQueue),ft(a),null;case 4:return Ur(),i===null&&Rp(a.stateNode.containerInfo),ft(a),null;case 10:return ti(a.type),ft(a),null;case 19:if(pt(Pt),g=a.memoizedState,g===null)return ft(a),null;if(c=(a.flags&128)!==0,m=g.rendering,m===null)if(c)lu(g,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(m=of(i),m!==null){for(a.flags|=128,lu(g,!1),i=m.updateQueue,a.updateQueue=i,Sf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)e0(l,i),l=l.sibling;return Je(Pt,Pt.current&1|2),a.child}i=i.sibling}g.tail!==null&&En()>wf&&(a.flags|=128,c=!0,lu(g,!1),a.lanes=4194304)}else{if(!c)if(i=of(m),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Sf(a,i),lu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!m.alternate&&!Qe)return ft(a),null}else 2*En()-g.renderingStartTime>wf&&l!==536870912&&(a.flags|=128,c=!0,lu(g,!1),a.lanes=4194304);g.isBackwards?(m.sibling=a.child,a.child=m):(i=g.last,i!==null?i.sibling=m:a.child=m,g.last=m)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=En(),a.sibling=null,i=Pt.current,Je(Pt,c?i&1|2:i&1),a):(ft(a),null);case 22:case 23:return Xr(a),gg(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(ft(a),a.subtreeFlags&6&&(a.flags|=8192)):ft(a),l=a.updateQueue,l!==null&&Sf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&pt(aa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ti(Vt),ft(a),null;case 25:return null}throw Error(r(156,a.tag))}function l1(i,a){switch(cg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ti(Vt),Ur(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ga(a),null;case 13:if(Xr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));jl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return pt(Pt),null;case 4:return Ur(),null;case 10:return ti(a.type),null;case 22:case 23:return Xr(a),gg(),i!==null&&pt(aa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ti(Vt),null;case 25:return null;default:return null}}function r0(i,a){switch(cg(a),a.tag){case 3:ti(Vt),Ur();break;case 26:case 27:case 5:Ga(a);break;case 4:Ur();break;case 13:Xr(a);break;case 19:pt(Pt);break;case 10:ti(a.type);break;case 22:case 23:Xr(a),gg(),i!==null&&pt(aa);break;case 24:ti(Vt)}}var u1={getCacheForType:function(i){var a=rn(Vt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},c1=typeof WeakMap=="function"?WeakMap:Map,dt=0,rt=null,ke=null,ze=0,it=0,On=null,ai=!1,Ro=!1,lp=!1,oi=0,vt=0,is=0,pa=0,up=0,Xn=0,Co=0,uu=null,Cr=null,cp=!1,fp=0,wf=1/0,Rf=null,ss=null,Cf=!1,ma=null,cu=0,dp=0,hp=null,fu=0,gp=null;function Nn(){if((dt&2)!==0&&ze!==0)return ze&-ze;if(D.T!==null){var i=vo;return i!==0?i:Tp()}return Nc()}function i0(){Xn===0&&(Xn=(ze&536870912)===0||Qe?Al():536870912);var i=$n.current;return i!==null&&(i.flags|=32),Xn}function yn(i,a,l){(i===rt&&it===2||i.cancelPendingCommit!==null)&&(Do(i,0),li(i,ze,Xn,!1)),bt(i,l),((dt&2)===0||i!==rt)&&(i===rt&&((dt&2)===0&&(pa|=l),vt===4&&li(i,ze,Xn,!1)),Dr(i))}function s0(i,a,l){if((dt&6)!==0)throw Error(r(327));var c=!l&&(a&60)===0&&(a&i.expiredLanes)===0||Ni(i,a),g=c?h1(i,a):vp(i,a,!0),m=c;do{if(g===0){Ro&&!c&&li(i,a,0,!1);break}else if(g===6)li(i,a,0,!ai);else{if(l=i.current.alternate,m&&!f1(l)){g=vp(i,a,!1),m=!1;continue}if(g===2){if(m=a,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var S=i;g=uu;var N=S.current.memoizedState.isDehydrated;if(N&&(Do(S,T).flags|=256),T=vp(S,T,!1),T!==2){if(lp&&!N){S.errorRecoveryDisabledLanes|=m,pa|=m,g=4;break e}m=Cr,Cr=g,m!==null&&pp(m)}g=T}if(m=!1,g!==2)continue}}if(g===1){Do(i,0),li(i,a,0,!0);break}e:{switch(c=i,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){li(c,a,Xn,!ai);break e}break;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(m=fp+300-En(),10<m)){if(li(c,a,Xn,!ai),Ln(c,0)!==0)break e;c.timeoutHandle=I0(a0.bind(null,c,l,Cr,Rf,cp,a,Xn,pa,Co,ai,2,-0,0),m);break e}a0(c,l,Cr,Rf,cp,a,Xn,pa,Co,ai,0,-0,0)}}break}while(!0);Dr(i)}function pp(i){Cr===null?Cr=i:Cr.push.apply(Cr,i)}function a0(i,a,l,c,g,m,T,S,N,z,ee,ie,W){var J=a.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(yu={stylesheets:null,count:0,unsuspend:Q1},KE(a),a=W1(),a!==null)){i.cancelPendingCommit=a(h0.bind(null,i,l,c,g,T,S,N,1,ie,W)),li(i,m,T,!z);return}h0(i,l,c,g,T,S,N,ee,ie,W)}function f1(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],m=g.getSnapshot;g=g.value;try{if(!Dn(m(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function li(i,a,l,c){a&=~up,a&=~pa,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var g=a;0<g;){var m=31-hn(g),T=1<<m;c[m]=-1,g&=~T}l!==0&&ki(i,l,a)}function Df(){return(dt&6)===0?(du(0),!1):!0}function mp(){if(ke!==null){if(it===0)var i=ke.return;else i=ke,ei=fa=null,Tg(i),mo=null,Ql=0,i=ke;for(;i!==null;)r0(i.alternate,i),i=i.return;ke=null}}function Do(i,a){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,x1(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),mp(),rt=i,ke=l=rs(i.current,null),ze=a,it=0,On=null,ai=!1,Ro=Ni(i,a),lp=!1,Co=Xn=up=pa=is=vt=0,Cr=uu=null,cp=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var g=31-hn(c),m=1<<g;a|=i[g],c&=~m}return oi=a,Xc(),l}function o0(i,a){Oe=null,D.H=Rr,a===ql?(a=T_(),it=3):a===__?(a=T_(),it=4):it=a===EE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,On=a,ke===null&&(vt=1,vf(i,qn(a,i.current)))}function l0(){var i=D.H;return D.H=Rr,i===null?Rr:i}function u0(){var i=D.A;return D.A=u1,i}function yp(){vt=4,ai||(ze&4194176)!==ze&&$n.current!==null||(Ro=!0),(is&134217727)===0&&(pa&134217727)===0||rt===null||li(rt,ze,Xn,!1)}function vp(i,a,l){var c=dt;dt|=2;var g=l0(),m=u0();(rt!==i||ze!==a)&&(Rf=null,Do(i,a)),a=!1;var T=vt;e:do try{if(it!==0&&ke!==null){var S=ke,N=On;switch(it){case 8:mp(),T=6;break e;case 3:case 2:case 6:$n.current===null&&(a=!0);var z=it;if(it=0,On=null,Io(i,S,N,z),l&&Ro){T=0;break e}break;default:z=it,it=0,On=null,Io(i,S,N,z)}}d1(),T=vt;break}catch(ee){o0(i,ee)}while(!0);return a&&i.shellSuspendCounter++,ei=fa=null,dt=c,D.H=g,D.A=m,ke===null&&(rt=null,ze=0,Xc()),T}function d1(){for(;ke!==null;)c0(ke)}function h1(i,a){var l=dt;dt|=2;var c=l0(),g=u0();rt!==i||ze!==a?(Rf=null,wf=En()+500,Do(i,a)):Ro=Ni(i,a);e:do try{if(it!==0&&ke!==null){a=ke;var m=On;t:switch(it){case 1:it=0,On=null,Io(i,a,m,1);break;case 2:if(E_(m)){it=0,On=null,f0(a);break}a=function(){it===2&&rt===i&&(it=7),Dr(i)},m.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:E_(m)?(it=0,On=null,f0(a)):(it=0,On=null,Io(i,a,m,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var S=ke;if(!T||B0(T)){it=0,On=null;var N=S.sibling;if(N!==null)ke=N;else{var z=S.return;z!==null?(ke=z,If(z)):ke=null}break t}}it=0,On=null,Io(i,a,m,5);break;case 6:it=0,On=null,Io(i,a,m,6);break;case 8:mp(),vt=6;break e;default:throw Error(r(462))}}g1();break}catch(ee){o0(i,ee)}while(!0);return ei=fa=null,D.H=c,D.A=g,dt=l,ke!==null?0:(rt=null,ze=0,Xc(),vt)}function g1(){for(;ke!==null&&!Qh();)c0(ke)}function c0(i){var a=NE(i.alternate,i,oi);i.memoizedProps=i.pendingProps,a===null?If(i):ke=a}function f0(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=RE(l,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=RE(l,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:Tg(a);default:r0(l,a),a=ke=e0(a,oi),a=NE(l,a,oi)}i.memoizedProps=i.pendingProps,a===null?If(i):ke=a}function Io(i,a,l,c){ei=fa=null,Tg(a),mo=null,Ql=0;var g=a.return;try{if(n1(i,g,a,l,ze)){vt=1,vf(i,qn(l,i.current)),ke=null;return}}catch(m){if(g!==null)throw ke=g,m;vt=1,vf(i,qn(l,i.current)),ke=null;return}a.flags&32768?(Qe||c===1?i=!0:Ro||(ze&536870912)!==0?i=!1:(ai=i=!0,(c===2||c===3||c===6)&&(c=$n.current,c!==null&&c.tag===13&&(c.flags|=16384))),d0(a,i)):If(a)}function If(i){var a=i;do{if((a.flags&32768)!==0){d0(a,ai);return}i=a.return;var l=o1(a.alternate,a,oi);if(l!==null){ke=l;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=i}while(a!==null);vt===0&&(vt=5)}function d0(i,a){do{var l=l1(i.alternate,i);if(l!==null){l.flags&=32767,ke=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){ke=i;return}ke=i=l}while(i!==null);vt=6,ke=null}function h0(i,a,l,c,g,m,T,S,N,z){var ee=D.T,ie=fe.p;try{fe.p=2,D.T=null,p1(i,a,l,c,ie,g,m,T,S,N,z)}finally{D.T=ee,fe.p=ie}}function p1(i,a,l,c,g,m,T,S){do xo();while(ma!==null);if((dt&6)!==0)throw Error(r(327));var N=i.finishedWork;if(c=i.finishedLanes,N===null)return null;if(i.finishedWork=null,i.finishedLanes=0,N===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var z=N.lanes|N.childLanes;if(z|=og,xc(i,c,z,m,T,S),i===rt&&(ke=rt=null,ze=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Cf||(Cf=!0,dp=z,hp=l,_1(Hr,function(){return xo(),null})),l=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||l?(l=D.T,D.T=null,m=fe.p,fe.p=2,T=dt,dt|=4,i1(i,N),$E(N,i),HD(xp,i.containerInfo),zf=!!Ip,xp=Ip=null,i.current=N,FE(i,N.alternate,N),_l(),dt=T,fe.p=m,D.T=l):i.current=N,Cf?(Cf=!1,ma=i,cu=c):g0(i,z),z=i.pendingLanes,z===0&&(ss=null),bl(N.stateNode),Dr(i),a!==null)for(g=i.onRecoverableError,N=0;N<a.length;N++)z=a[N],g(z.value,{componentStack:z.stack});return(cu&3)!==0&&xo(),z=i.pendingLanes,(c&4194218)!==0&&(z&42)!==0?i===gp?fu++:(fu=0,gp=i):fu=0,du(0),null}function g0(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Wl(a)))}function xo(){if(ma!==null){var i=ma,a=dp;dp=0;var l=Oc(cu),c=D.T,g=fe.p;try{if(fe.p=32>l?32:l,D.T=null,ma===null)var m=!1;else{l=hp,hp=null;var T=ma,S=cu;if(ma=null,cu=0,(dt&6)!==0)throw Error(r(331));var N=dt;if(dt|=4,ZE(T.current),YE(T,T.current,S,l),dt=N,du(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(xi,T)}catch{}m=!0}return m}finally{fe.p=g,D.T=c,g0(i,a)}}return!1}function p0(i,a,l){a=qn(l,a),a=Vg(i.stateNode,a,2),i=Ji(i,a,2),i!==null&&(bt(i,2),Dr(i))}function nt(i,a,l){if(i.tag===3)p0(i,i,l);else for(;a!==null;){if(a.tag===3){p0(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ss===null||!ss.has(c))){i=qn(l,i),l=vE(2),c=Ji(a,l,2),c!==null&&(_E(l,c,a,i),bt(c,2),Dr(c));break}}a=a.return}}function _p(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new c1;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(lp=!0,g.add(l),i=m1.bind(null,i,a,l),a.then(i,i))}function m1(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,rt===i&&(ze&l)===l&&(vt===4||vt===3&&(ze&62914560)===ze&&300>En()-fp?(dt&2)===0&&Do(i,0):up|=l,Co===ze&&(Co=0)),Dr(i)}function m0(i,a){a===0&&(a=Mi()),i=Gi(i,a),i!==null&&(bt(i,a),Dr(i))}function y1(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),m0(i,l)}function v1(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),m0(i,l)}function _1(i,a){return Bs(i,a)}var xf=null,Oo=null,Ep=!1,Of=!1,bp=!1,ya=0;function Dr(i){i!==Oo&&i.next===null&&(Oo===null?xf=Oo=i:Oo=Oo.next=i),Of=!0,Ep||(Ep=!0,b1(E1))}function du(i,a){if(!bp&&Of){bp=!0;do for(var l=!1,c=xf;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var m=0;else{var T=c.suspendedLanes,S=c.pingedLanes;m=(1<<31-hn(42|i)+1)-1,m&=g&~(T&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(l=!0,_0(c,m))}else m=ze,m=Ln(c,c===rt?m:0),(m&3)===0||Ni(c,m)||(l=!0,_0(c,m));c=c.next}while(l);bp=!1}}function E1(){Of=Ep=!1;var i=0;ya!==0&&(I1()&&(i=ya),ya=0);for(var a=En(),l=null,c=xf;c!==null;){var g=c.next,m=y0(c,a);m===0?(c.next=null,l===null?xf=g:l.next=g,g===null&&(Oo=l)):(l=c,(i!==0||(m&3)!==0)&&(Of=!0)),c=g}du(i)}function y0(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-hn(m),S=1<<T,N=g[T];N===-1?((S&l)===0||(S&c)!==0)&&(g[T]=Wa(S,a)):N<=a&&(i.expiredLanes|=S),m&=~S}if(a=rt,l=ze,l=Ln(i,i===a?l:0),c=i.callbackNode,l===0||i===a&&it===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&$a(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ni(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&$a(c),Oc(l)){case 2:case 8:l=Ht;break;case 32:l=Hr;break;case 268435456:l=El;break;default:l=Hr}return c=v0.bind(null,i),l=Bs(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&$a(c),i.callbackPriority=2,i.callbackNode=null,2}function v0(i,a){var l=i.callbackNode;if(xo()&&i.callbackNode!==l)return null;var c=ze;return c=Ln(i,i===rt?c:0),c===0?null:(s0(i,c,a),y0(i,En()),i.callbackNode!=null&&i.callbackNode===l?v0.bind(null,i):null)}function _0(i,a){if(xo())return null;s0(i,a,!0)}function b1(i){O1(function(){(dt&6)!==0?Bs(Ot,i):i()})}function Tp(){return ya===0&&(ya=Al()),ya}function E0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yr(""+i)}function b0(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function T1(i,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var m=E0((g[Nt]||null).action),T=c.submitter;T&&(a=(a=T[Nt]||null)?E0(a.formAction):T.getAttribute("formAction"),a!==null&&(m=a,T=null));var S=new to("action","action",null,c,g);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ya!==0){var N=T?b0(g,T):new FormData(g);Og(l,{pending:!0,data:N,method:g.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=T?b0(g,T):new FormData(g),Og(l,{pending:!0,data:N,method:g.method,action:m},m,N))},currentTarget:g}]})}}for(var Ap=0;Ap<h_.length;Ap++){var Sp=h_[Ap],A1=Sp.toLowerCase(),S1=Sp[0].toUpperCase()+Sp.slice(1);rr(A1,"on"+S1)}rr(l_,"onAnimationEnd"),rr(u_,"onAnimationIteration"),rr(c_,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(zD,"onTransitionRun"),rr(jD,"onTransitionStart"),rr(FD,"onTransitionCancel"),rr(f_,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function T0(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var m=void 0;if(a)for(var T=c.length-1;0<=T;T--){var S=c[T],N=S.instance,z=S.currentTarget;if(S=S.listener,N!==m&&g.isPropagationStopped())break e;m=S,g.currentTarget=z;try{m(g)}catch(ee){yf(ee)}g.currentTarget=null,m=N}else for(T=0;T<c.length;T++){if(S=c[T],N=S.instance,z=S.currentTarget,S=S.listener,N!==m&&g.isPropagationStopped())break e;m=S,g.currentTarget=z;try{m(g)}catch(ee){yf(ee)}g.currentTarget=null,m=N}}}}function Ue(i,a){var l=a[js];l===void 0&&(l=a[js]=new Set);var c=i+"__bubble";l.has(c)||(A0(a,i,2,!1),l.add(c))}function wp(i,a,l){var c=0;a&&(c|=4),A0(l,i,c,a)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[Nf]){i[Nf]=!0,wl.forEach(function(l){l!=="selectionchange"&&(w1.has(l)||wp(l,!1,i),wp(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Nf]||(a[Nf]=!0,wp("selectionchange",!1,a))}}function A0(i,a,l,c){switch(Q0(a)){case 2:var g=X1;break;case 8:g=Z1;break;default:g=Hp}l=g.bind(null,a,l,i),g=void 0,!zn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function Cp(i,a,l,c,g){var m=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===g||S.nodeType===8&&S.parentNode===g)break;if(T===4)for(T=c.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===g||N.nodeType===8&&N.parentNode===g))return;T=T.return}for(;S!==null;){if(T=nr(S),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){c=m=T;continue e}S=S.parentNode}}c=c.return}Vc(function(){var z=m,ee=eo(l),ie=[];e:{var W=d_.get(i);if(W!==void 0){var J=to,me=i;switch(i){case"keypress":if(_r(l)===0)break e;case"keydown":case"keyup":J=oo;break;case"focusin":me="focus",J=io;break;case"focusout":me="blur",J=io;break;case"beforeblur":case"afterblur":J=io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=qc;break;case l_:case u_:case c_:J=so;break;case f_:J=Qc;break;case"scroll":case"scrollend":J=Lc;break;case"wheel":J=lo;break;case"copy":case"cut":case"paste":J=ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ll;break;case"toggle":case"beforetoggle":J=Wc}var Re=(a&4)!==0,_t=!Re&&(i==="scroll"||i==="scrollend"),F=Re?W!==null?W+"Capture":null:W;Re=[];for(var B=z,Q;B!==null;){var te=B;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||F===null||(te=$s(B,F),te!=null&&Re.push(gu(B,te,Q))),_t)break;B=B.return}0<Re.length&&(W=new J(W,me,null,l,ee),ie.push({event:W,listeners:Re}))}}if((a&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",W&&l!==Bn&&(me=l.relatedTarget||l.fromElement)&&(nr(me)||me[Br]))break e;if((J||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,J?(me=l.relatedTarget||l.toElement,J=z,me=me?nr(me):null,me!==null&&(_t=pe(me),Re=me.tag,me!==_t||Re!==5&&Re!==27&&Re!==6)&&(me=null)):(J=null,me=z),J!==me)){if(Re=jn,te="onMouseLeave",F="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Re=Ll,te="onPointerLeave",F="onPointerEnter",B="pointer"),_t=J==null?W:Ui(J),Q=me==null?W:Ui(me),W=new Re(te,B+"leave",J,l,ee),W.target=_t,W.relatedTarget=Q,te=null,nr(ee)===z&&(Re=new Re(F,B+"enter",me,l,ee),Re.target=Q,Re.relatedTarget=_t,te=Re),_t=te,J&&me)t:{for(Re=J,F=me,B=0,Q=Re;Q;Q=No(Q))B++;for(Q=0,te=F;te;te=No(te))Q++;for(;0<B-Q;)Re=No(Re),B--;for(;0<Q-B;)F=No(F),Q--;for(;B--;){if(Re===F||F!==null&&Re===F.alternate)break t;Re=No(Re),F=No(F)}Re=null}else Re=null;J!==null&&S0(ie,W,J,Re,!1),me!==null&&_t!==null&&S0(ie,_t,me,Re,!0)}}e:{if(W=z?Ui(z):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var ge=Xv;else if(kt(W))if(Zv)ge=LD;else{ge=PD;var Me=kD}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?z&&xl(z.elementType)&&(ge=Xv):ge=VD;if(ge&&(ge=ge(i,z))){Wr(ie,ge,l,ee);break e}Me&&Me(i,W,z),i==="focusout"&&z&&W.type==="number"&&z.memoizedProps.value!=null&&Ja(W,"number",W.value)}switch(Me=z?Ui(z):window,i){case"focusin":(kt(Me)||Me.contentEditable==="true")&&(uo=Me,ig=z,Bl=null);break;case"focusout":Bl=ig=uo=null;break;case"mousedown":sg=!0;break;case"contextmenu":case"mouseup":case"dragend":sg=!1,a_(ie,l,ee);break;case"selectionchange":if(BD)break;case"keydown":case"keyup":a_(ie,l,ee)}var ve;if(Tr)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else He?K(i,l)&&(Te="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(b&&l.locale!=="ko"&&(He||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&He&&(ve=Nl()):(vr=ee,qi="value"in vr?vr.value:vr.textContent,He=!0)),Me=Mf(z,Te),0<Me.length&&(Te=new Pl(Te,i,null,l,ee),ie.push({event:Te,listeners:Me}),ve?Te.data=ve:(ve=le(l),ve!==null&&(Te.data=ve)))),(ve=v?Mt(i,l):Be(i,l))&&(Te=Mf(z,"onBeforeInput"),0<Te.length&&(Me=new Pl("onBeforeInput","beforeinput",null,l,ee),ie.push({event:Me,listeners:Te}),Me.data=ve)),T1(ie,i,z,l,ee)}T0(ie,a)})}function gu(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Mf(i,a){for(var l=a+"Capture",c=[];i!==null;){var g=i,m=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=$s(i,l),g!=null&&c.unshift(gu(i,g,m)),g=$s(i,a),g!=null&&c.push(gu(i,g,m))),i=i.return}return c}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function S0(i,a,l,c,g){for(var m=a._reactName,T=[];l!==null&&l!==c;){var S=l,N=S.alternate,z=S.stateNode;if(S=S.tag,N!==null&&N===c)break;S!==5&&S!==26&&S!==27||z===null||(N=z,g?(z=$s(l,m),z!=null&&T.unshift(gu(l,z,N))):g||(z=$s(l,m),z!=null&&T.push(gu(l,z,N)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var R1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function w0(i){return(typeof i=="string"?i:""+i).replace(R1,`
`).replace(C1,"")}function R0(i,a){return a=w0(a),w0(i)===a}function kf(){}function tt(i,a,l,c,g,m){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Hn(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Hn(i,""+c);break;case"className":zi(i,"class",c);break;case"tabIndex":zi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(i,l,c);break;case"style":Pc(i,c,m);break;case"data":if(a!=="object"){zi(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=yr(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(a!=="input"&&tt(i,a,"name",g.name,g,null),tt(i,a,"formEncType",g.formEncType,g,null),tt(i,a,"formMethod",g.formMethod,g,null),tt(i,a,"formTarget",g.formTarget,g,null)):(tt(i,a,"encType",g.encType,g,null),tt(i,a,"method",g.method,g,null),tt(i,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=yr(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=kf);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=yr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Bi(i,"popover",c);break;case"xlinkActuate":Un(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Un(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Un(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Un(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Un(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Un(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Un(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Un(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Un(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Bi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xh.get(l)||l,Bi(i,l,c))}}function Dp(i,a,l,c,g,m){switch(l){case"style":Pc(i,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Hn(i,c):(typeof c=="number"||typeof c=="bigint")&&Hn(i,""+c);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"onClick":c!=null&&(i.onclick=kf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),m=i[Nt]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(a,m,g),typeof c=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Bi(i,l,c)}}}function Xt(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var c=!1,g=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tt(i,a,m,T,l,null)}}g&&tt(i,a,"srcSet",l.srcSet,l,null),c&&tt(i,a,"src",l.src,l,null);return;case"input":Ue("invalid",i);var S=m=T=g=null,N=null,z=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":g=ee;break;case"type":T=ee;break;case"checked":N=ee;break;case"defaultChecked":z=ee;break;case"value":m=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:tt(i,a,c,ee,l,null)}}Gs(i,m,S,N,z,T,g,!1),qs(i);return;case"select":Ue("invalid",i),c=T=m=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:tt(i,a,g,S,l,null)}a=m,l=T,i.multiple=!!c,a!=null?Ge(i,!!c,a,!1):l!=null&&Ge(i,!!c,l,!0);return;case"textarea":Ue("invalid",i),m=g=c=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":g=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:tt(i,a,T,S,l,null)}Fi(i,c,g,m),qs(i);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(c=l[N],c!=null))switch(N){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,a,N,c,l,null)}return;case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(c=0;c<hu.length;c++)Ue(hu[c],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tt(i,a,z,c,l,null)}return;default:if(xl(a)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&Dp(i,a,ee,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&tt(i,a,S,c,l,null))}function D1(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,T=null,S=null,N=null,z=null,ee=null;for(J in l){var ie=l[J];if(l.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ie;default:c.hasOwnProperty(J)||tt(i,a,J,null,c,ie)}}for(var W in c){var J=c[W];if(ie=l[W],c.hasOwnProperty(W)&&(J!=null||ie!=null))switch(W){case"type":m=J;break;case"name":g=J;break;case"checked":z=J;break;case"defaultChecked":ee=J;break;case"value":T=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:J!==ie&&tt(i,a,W,J,c,ie)}}ji(i,T,S,N,z,ee,m,g);return;case"select":J=T=S=W=null;for(m in l)if(N=l[m],l.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":J=N;default:c.hasOwnProperty(m)||tt(i,a,m,null,c,N)}for(g in c)if(m=c[g],N=l[g],c.hasOwnProperty(g)&&(m!=null||N!=null))switch(g){case"value":W=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==N&&tt(i,a,g,m,c,N)}a=S,l=T,c=J,W!=null?Ge(i,!!l,W,!1):!!c!=!!l&&(a!=null?Ge(i,!!l,a,!0):Ge(i,!!l,l?[]:"",!1));return;case"textarea":J=W=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(i,a,S,null,c,g)}for(T in c)if(g=c[T],m=l[T],c.hasOwnProperty(T)&&(g!=null||m!=null))switch(T){case"value":W=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==m&&tt(i,a,T,g,c,m)}Qs(i,W,J);return;case"option":for(var me in l)if(W=l[me],l.hasOwnProperty(me)&&W!=null&&!c.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:tt(i,a,me,null,c,W)}for(N in c)if(W=c[N],J=l[N],c.hasOwnProperty(N)&&W!==J&&(W!=null||J!=null))switch(N){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:tt(i,a,N,W,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)W=l[Re],l.hasOwnProperty(Re)&&W!=null&&!c.hasOwnProperty(Re)&&tt(i,a,Re,null,c,W);for(z in c)if(W=c[z],J=l[z],c.hasOwnProperty(z)&&W!==J&&(W!=null||J!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:tt(i,a,z,W,c,J)}return;default:if(xl(a)){for(var _t in l)W=l[_t],l.hasOwnProperty(_t)&&W!==void 0&&!c.hasOwnProperty(_t)&&Dp(i,a,_t,void 0,c,W);for(ee in c)W=c[ee],J=l[ee],!c.hasOwnProperty(ee)||W===J||W===void 0&&J===void 0||Dp(i,a,ee,W,c,J);return}}for(var F in l)W=l[F],l.hasOwnProperty(F)&&W!=null&&!c.hasOwnProperty(F)&&tt(i,a,F,null,c,W);for(ie in c)W=c[ie],J=l[ie],!c.hasOwnProperty(ie)||W===J||W==null&&J==null||tt(i,a,ie,W,c,J)}var Ip=null,xp=null;function Pf(i){return i.nodeType===9?i:i.ownerDocument}function C0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D0(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Op(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Np=null;function I1(){var i=window.event;return i&&i.type==="popstate"?i===Np?!1:(Np=i,!0):(Np=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(i){return x0.resolve(null).then(i).catch(N1)}:I0;function N1(i){setTimeout(function(){throw i})}function Mp(i,a){var l=a,c=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(c===0){i.removeChild(g),Tu(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=g}while(l);Tu(a)}function kp(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kp(l),Fs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function M1(i,a,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Li])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=ar(i.nextSibling),i===null)break}return null}function k1(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ar(i.nextSibling),i===null))return null;return i}function ar(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}function O0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function N0(i,a,l){switch(a=Pf(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Zn=new Map,M0=new Set;function Vf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ui=fe.d;fe.d={f:P1,r:V1,D:L1,C:U1,L:H1,m:B1,X:j1,S:z1,M:F1};function P1(){var i=ui.f(),a=Df();return i||a}function V1(i){var a=zr(i);a!==null&&a.tag===5&&a.type==="form"?aE(a):ui.r(i)}var Mo=typeof document>"u"?null:document;function k0(i,a,l){var c=Mo;if(c&&typeof a=="string"&&a){var g=mt(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),M0.has(g)||(M0.add(g),i={rel:i,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),Xt(a,"link",i),ct(a),c.head.appendChild(a)))}}function L1(i){ui.D(i),k0("dns-prefetch",i,null)}function U1(i,a){ui.C(i,a),k0("preconnect",i,a)}function H1(i,a,l){ui.L(i,a,l);var c=Mo;if(c&&i&&a){var g='link[rel="preload"][as="'+mt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+mt(l.imageSizes)+'"]')):g+='[href="'+mt(i)+'"]';var m=g;switch(a){case"style":m=ko(i);break;case"script":m=Po(i)}Zn.has(m)||(i=k({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Zn.set(m,i),c.querySelector(g)!==null||a==="style"&&c.querySelector(pu(m))||a==="script"&&c.querySelector(mu(m))||(a=c.createElement("link"),Xt(a,"link",i),ct(a),c.head.appendChild(a)))}}function B1(i,a){ui.m(i,a);var l=Mo;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+mt(c)+'"][href="'+mt(i)+'"]',m=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Po(i)}if(!Zn.has(m)&&(i=k({rel:"modulepreload",href:i},a),Zn.set(m,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mu(m)))return}c=l.createElement("link"),Xt(c,"link",i),ct(c),l.head.appendChild(c)}}}function z1(i,a,l){ui.S(i,a,l);var c=Mo;if(c&&i){var g=Hi(c).hoistableStyles,m=ko(i);a=a||"default";var T=g.get(m);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(pu(m)))S.loading=5;else{i=k({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Zn.get(m))&&Pp(i,l);var N=T=c.createElement("link");ct(N),Xt(N,"link",i),N._p=new Promise(function(z,ee){N.onload=z,N.onerror=ee}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lf(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:S},g.set(m,T)}}}function j1(i,a){ui.X(i,a);var l=Mo;if(l&&i){var c=Hi(l).hoistableScripts,g=Po(i),m=c.get(g);m||(m=l.querySelector(mu(g)),m||(i=k({src:i,async:!0},a),(a=Zn.get(g))&&Vp(i,a),m=l.createElement("script"),ct(m),Xt(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(g,m))}}function F1(i,a){ui.M(i,a);var l=Mo;if(l&&i){var c=Hi(l).hoistableScripts,g=Po(i),m=c.get(g);m||(m=l.querySelector(mu(g)),m||(i=k({src:i,async:!0,type:"module"},a),(a=Zn.get(g))&&Vp(i,a),m=l.createElement("script"),ct(m),Xt(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(g,m))}}function P0(i,a,l,c){var g=(g=Vn.current)?Vf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ko(l.href),l=Hi(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ko(l.href);var m=Hi(g).hoistableStyles,T=m.get(i);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=g.querySelector(pu(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Zn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zn.set(i,l),m||q1(g,i,l,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Po(l),l=Hi(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ko(i){return'href="'+mt(i)+'"'}function pu(i){return'link[rel="stylesheet"]['+i+"]"}function V0(i){return k({},i,{"data-precedence":i.precedence,precedence:null})}function q1(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Xt(a,"link",l),ct(a),i.head.appendChild(a))}function Po(i){return'[src="'+mt(i)+'"]'}function mu(i){return"script[async]"+i}function L0(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+mt(l.href)+'"]');if(c)return a.instance=c,ct(c),c;var g=k({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ct(c),Xt(c,"style",g),Lf(c,l.precedence,i),a.instance=c;case"stylesheet":g=ko(l.href);var m=i.querySelector(pu(g));if(m)return a.state.loading|=4,a.instance=m,ct(m),m;c=V0(l),(g=Zn.get(g))&&Pp(c,g),m=(i.ownerDocument||i).createElement("link"),ct(m);var T=m;return T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Xt(m,"link",c),a.state.loading|=4,Lf(m,l.precedence,i),a.instance=m;case"script":return m=Po(l.src),(g=i.querySelector(mu(m)))?(a.instance=g,ct(g),g):(c=l,(g=Zn.get(m))&&(c=k({},l),Vp(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),ct(g),Xt(g,"link",c),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Lf(c,l.precedence,i));return a.instance}function Lf(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,m=g,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===a)m=S;else if(m!==g)break}m?m.parentNode.insertBefore(i,m.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Pp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Vp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Uf=null;function U0(i,a,l){if(Uf===null){var c=new Map,g=Uf=new Map;g.set(l,c)}else g=Uf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var m=l[g];if(!(m[Li]||m[Bt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(a)||"";T=i+T;var S=c.get(T);S?S.push(m):c.set(T,[m])}}return c}function H0(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function G1(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function B0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yu=null;function Q1(){}function $1(i,a,l){if(yu===null)throw Error(r(475));var c=yu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=ko(l.href),m=i.querySelector(pu(g));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Hf.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=m,ct(m);return}m=i.ownerDocument||i,l=V0(l),(g=Zn.get(g))&&Pp(l,g),m=m.createElement("link"),ct(m);var T=m;T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Xt(m,"link",l),a.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Hf.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function W1(){if(yu===null)throw Error(r(475));var i=yu;return i.stylesheets&&i.count===0&&Lp(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Lp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Hf(){if(this.count--,this.count===0){if(this.stylesheets)Lp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bf=null;function Lp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bf=new Map,a.forEach(Y1,i),Bf=null,Hf.call(i))}function Y1(i,a){if(!(a.state.loading&4)){var l=Bf.get(i);if(l)var c=l.get(null);else{l=new Map,Bf.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var T=g[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}g=a.instance,T=g.getAttribute("data-precedence"),m=l.get(T)||c,m===c&&l.set(null,g),l.set(T,g),this.count++,c=Hf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),m?m.parentNode.insertBefore(g,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var vu={$$typeof:A,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function K1(i,a,l,c,g,m,T,S){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function z0(i,a,l,c,g,m,T,S,N,z,ee,ie){return i=new K1(i,a,l,T,S,N,z,ie),a=1,m===!0&&(a|=24),m=Kn(3,null,null,a),i.current=m,m.stateNode=i,a=pg(),a.refCount++,i.pooledCache=a,a.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:a},Yg(m),i}function j0(i){return i?(i=ho,i):ho}function F0(i,a,l,c,g,m){g=j0(g),c.context===null?c.context=g:c.pendingContext=g,c=Zi(a),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=Ji(i,c,a),l!==null&&(yn(l,i,a),tu(l,i,a))}function q0(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Up(i,a){q0(i,a),(i=i.alternate)&&q0(i,a)}function G0(i){if(i.tag===13){var a=Gi(i,67108864);a!==null&&yn(a,i,67108864),Up(i,67108864)}}var zf=!0;function X1(i,a,l,c){var g=D.T;D.T=null;var m=fe.p;try{fe.p=2,Hp(i,a,l,c)}finally{fe.p=m,D.T=g}}function Z1(i,a,l,c){var g=D.T;D.T=null;var m=fe.p;try{fe.p=8,Hp(i,a,l,c)}finally{fe.p=m,D.T=g}}function Hp(i,a,l,c){if(zf){var g=Bp(c);if(g===null)Cp(i,a,c,jf,l),$0(i,c);else if(eI(g,i,a,l,c))c.stopPropagation();else if($0(i,c),a&4&&-1<J1.indexOf(i)){for(;g!==null;){var m=zr(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=tr(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var N=1<<31-hn(T);S.entanglements[1]|=N,T&=~N}Dr(m),(dt&6)===0&&(wf=En()+500,du(0))}}break;case 13:S=Gi(m,2),S!==null&&yn(S,m,2),Df(),Up(m,2)}if(m=Bp(c),m===null&&Cp(i,a,c,jf,l),m===g)break;g=m}g!==null&&c.stopPropagation()}else Cp(i,a,c,null,l)}}function Bp(i){return i=eo(i),zp(i)}var jf=null;function zp(i){if(jf=null,i=nr(i),i!==null){var a=pe(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=Ke(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return jf=i,null}function Q0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case Ot:return 2;case Ht:return 8;case Hr:case Cc:return 32;case El:return 268435456;default:return 32}default:return 32}}var jp=!1,as=null,os=null,ls=null,_u=new Map,Eu=new Map,us=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(i,a){switch(i){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":_u.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(a.pointerId)}}function bu(i,a,l,c,g,m){return i===null||i.nativeEvent!==m?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[g]},a!==null&&(a=zr(a),a!==null&&G0(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function eI(i,a,l,c,g){switch(a){case"focusin":return as=bu(as,i,a,l,c,g),!0;case"dragenter":return os=bu(os,i,a,l,c,g),!0;case"mouseover":return ls=bu(ls,i,a,l,c,g),!0;case"pointerover":var m=g.pointerId;return _u.set(m,bu(_u.get(m)||null,i,a,l,c,g)),!0;case"gotpointercapture":return m=g.pointerId,Eu.set(m,bu(Eu.get(m)||null,i,a,l,c,g)),!0}return!1}function W0(i){var a=nr(i.target);if(a!==null){var l=pe(a);if(l!==null){if(a=l.tag,a===13){if(a=Ke(l),a!==null){i.blockedOn=a,Vi(i.priority,function(){if(l.tag===13){var c=Nn(),g=Gi(l,c);g!==null&&yn(g,l,c),Up(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ff(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Bp(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Bn=c,l.target.dispatchEvent(c),Bn=null}else return a=zr(l),a!==null&&G0(a),i.blockedOn=l,!1;a.shift()}return!0}function Y0(i,a,l){Ff(i)&&l.delete(a)}function tI(){jp=!1,as!==null&&Ff(as)&&(as=null),os!==null&&Ff(os)&&(os=null),ls!==null&&Ff(ls)&&(ls=null),_u.forEach(Y0),Eu.forEach(Y0)}function qf(i,a){i.blockedOn===a&&(i.blockedOn=null,jp||(jp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tI)))}var Gf=null;function K0(i){Gf!==i&&(Gf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gf===i&&(Gf=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],g=i[a+2];if(typeof c!="function"){if(zp(c||l)===null)continue;break}var m=zr(l);m!==null&&(i.splice(a,3),a-=3,Og(m,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Tu(i){function a(N){return qf(N,i)}as!==null&&qf(as,i),os!==null&&qf(os,i),ls!==null&&qf(ls,i),_u.forEach(a),Eu.forEach(a);for(var l=0;l<us.length;l++){var c=us[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<us.length&&(l=us[0],l.blockedOn===null);)W0(l),l.blockedOn===null&&us.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],m=l[c+1],T=g[Nt]||null;if(typeof m=="function")T||K0(l);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(g=m,T=m[Nt]||null)S=T.formAction;else if(zp(g)!==null)continue}else S=T.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),K0(l)}}}function Fp(i){this._internalRoot=i}Qf.prototype.render=Fp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Nn();F0(l,c,i,a,null,null)},Qf.prototype.unmount=Fp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;i.tag===0&&xo(),F0(i.current,2,null,i,null,null),Df(),a[Br]=null}};function Qf(i){this._internalRoot=i}Qf.prototype.unstable_scheduleHydration=function(i){if(i){var a=Nc();i={blockedOn:null,target:i,priority:a};for(var l=0;l<us.length&&a!==0&&a<us[l].priority;l++);us.splice(l,0,i),l===0&&W0(i)}};var X0=e.version;if(X0!=="19.0.0")throw Error(r(527,X0,"19.0.0"));fe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ae(a),i=i!==null?ye(i):null,i=i===null?null:i.stateNode,i};var nI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:nr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{xi=$f.inject(nI),nn=$f}catch{}}return Su.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",g=gE,m=pE,T=mE,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=z0(i,1,!1,null,null,l,c,g,m,T,S,null),i[Br]=a.current,Rp(i.nodeType===8?i.parentNode:i),new Fp(a)},Su.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,g="",m=gE,T=pE,S=mE,N=null,z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks),l.formState!==void 0&&(z=l.formState)),a=z0(i,1,!0,a,l??null,c,g,m,T,S,N,z),a.context=j0(null),l=a.current,c=Nn(),g=Zi(c),g.callback=null,Ji(l,g,c),a.current.lanes=c,bt(a,c),Dr(a),i[Br]=a.current,Rp(i),new Qf(a)},Su.version="19.0.0",Su}var ob;function dI(){if(ob)return Gp.exports;ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gp.exports=fI(),Gp.exports}var hI=dI(),q=vy();const Le=iI(q),gI=()=>{};var lb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},pI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],f=n[t++],h=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},KA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,f=u?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;h||(A=64,u||(E=64)),r.push(t[y],t[_],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||f==null||p==null||_==null)throw new mI;const E=o<<2|f>>4;if(r.push(E),p!==64){const A=f<<4&240|p>>2;if(r.push(A),_!==64){const w=p<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yI=function(n){const e=YA(n);return KA.encodeByteArray(e,!0)},Rd=function(n){return yI(n).replace(/\./g,"")},XA=function(n){try{return KA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=()=>vI().__FIREBASE_DEFAULTS__,EI=()=>{if(typeof process>"u"||typeof lb>"u")return;const n=lb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&XA(n[1]);return e&&JSON.parse(e)},lh=()=>{try{return gI()||_I()||EI()||bI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZA=n=>{var e,t;return(t=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TI=n=>{const e=ZA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},JA=()=>{var n;return(n=lh())===null||n===void 0?void 0:n.config},eS=n=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rd(JSON.stringify(t)),Rd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function RI(){var n;const e=(n=lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function II(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OI(){return!RI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NI(){try{return typeof indexedDB=="object"}catch{return!1}}function MI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="FirebaseError";class wi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kI,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?PI(o,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new wi(s,f,r)}}function PI(n,e){return n.replace(VI,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VI=/\{\$([^}]+)}/g;function LI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Da(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(ub(o)&&ub(u)){if(!Da(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function ub(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function UI(n,e){const t=new HI(n,e);return t.subscribe.bind(t)}class HI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");BI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Kp),s.error===void 0&&(s.error=Kp),s.complete===void 0&&(s.complete=Kp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(n){return n&&n._delegate?n._delegate:n}class Ia{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new AI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FI(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jI(n){return n===va?void 0:n}function FI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const GI={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},QI=Pe.INFO,$I={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},WI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=$I[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _y{constructor(e){this.name=e,this._logLevel=QI,this._logHandler=WI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const YI=(n,e)=>e.some(t=>n instanceof t);let cb,fb;function KI(){return cb||(cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return fb||(fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,wm=new WeakMap,nS=new WeakMap,Xp=new WeakMap,Ey=new WeakMap;function ZI(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(_s(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&tS.set(t,n)}).catch(()=>{}),Ey.set(e,n),e}function JI(n){if(wm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});wm.set(n,e)}let Rm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ex(n){Rm=n(Rm)}function tx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zp(this),e,...t);return nS.set(r,e.sort?e.sort():[e]),_s(r)}:XI().includes(n)?function(...e){return n.apply(Zp(this),e),_s(tS.get(this))}:function(...e){return _s(n.apply(Zp(this),e))}}function nx(n){return typeof n=="function"?tx(n):(n instanceof IDBTransaction&&JI(n),YI(n,KI())?new Proxy(n,Rm):n)}function _s(n){if(n instanceof IDBRequest)return ZI(n);if(Xp.has(n))return Xp.get(n);const e=nx(n);return e!==n&&(Xp.set(n,e),Ey.set(e,n)),e}const Zp=n=>Ey.get(n);function rx(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),f=_s(u);return r&&u.addEventListener("upgradeneeded",h=>{r(_s(u.result),h.oldVersion,h.newVersion,_s(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const ix=["get","getKey","getAll","getAllKeys","count"],sx=["put","add","delete","clear"],Jp=new Map;function db(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=sx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ix.includes(t)))return;const o=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),s&&h.done]))[0]};return Jp.set(e,o),o}ex(n=>({...n,get:(e,t,r)=>db(e,t)||n.get(e,t,r),has:(e,t)=>!!db(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ox(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ox(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",hb="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new _y("@firebase/app"),lx="@firebase/app-compat",ux="@firebase/analytics-compat",cx="@firebase/analytics",fx="@firebase/app-check-compat",dx="@firebase/app-check",hx="@firebase/auth",gx="@firebase/auth-compat",px="@firebase/database",mx="@firebase/data-connect",yx="@firebase/database-compat",vx="@firebase/functions",_x="@firebase/functions-compat",Ex="@firebase/installations",bx="@firebase/installations-compat",Tx="@firebase/messaging",Ax="@firebase/messaging-compat",Sx="@firebase/performance",wx="@firebase/performance-compat",Rx="@firebase/remote-config",Cx="@firebase/remote-config-compat",Dx="@firebase/storage",Ix="@firebase/storage-compat",xx="@firebase/firestore",Ox="@firebase/vertexai",Nx="@firebase/firestore-compat",Mx="firebase",kx="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",Px={[Cm]:"fire-core",[lx]:"fire-core-compat",[cx]:"fire-analytics",[ux]:"fire-analytics-compat",[dx]:"fire-app-check",[fx]:"fire-app-check-compat",[hx]:"fire-auth",[gx]:"fire-auth-compat",[px]:"fire-rtdb",[mx]:"fire-data-connect",[yx]:"fire-rtdb-compat",[vx]:"fire-fn",[_x]:"fire-fn-compat",[Ex]:"fire-iid",[bx]:"fire-iid-compat",[Tx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Sx]:"fire-perf",[wx]:"fire-perf-compat",[Rx]:"fire-rc",[Cx]:"fire-rc-compat",[Dx]:"fire-gcs",[Ix]:"fire-gcs-compat",[xx]:"fire-fst",[Nx]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[Mx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Map,Vx=new Map,Im=new Map;function gb(n,e){try{n.container.addComponent(e)}catch(t){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wo(n){const e=n.name;if(Im.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,n);for(const t of Cd.values())gb(t,n);for(const t of Vx.values())gb(t,n);return!0}function by(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new ic("app","Firebase",Lx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=kx;function rS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Es.create("bad-app-name",{appName:String(s)});if(t||(t=JA()),!t)throw Es.create("no-options");const o=Cd.get(s);if(o){if(Da(t,o.options)&&Da(r,o.config))return o;throw Es.create("duplicate-app",{appName:s})}const u=new qI(s);for(const h of Im.values())u.addComponent(h);const f=new Ux(t,r,u);return Cd.set(s,f),f}function iS(n=Dm){const e=Cd.get(n);if(!e&&n===Dm&&JA())return rS();if(!e)throw Es.create("no-app",{appName:n});return e}function bs(n,e,t){var r;let s=(r=Px[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(f.join(" "));return}Wo(new Ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firebase-heartbeat-database",Bx=1,Fu="firebase-heartbeat-store";let em=null;function sS(){return em||(em=rx(Hx,Bx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),em}async function zx(n){try{const t=(await sS()).transaction(Fu),r=await t.objectStore(Fu).get(aS(n));return await t.done,r}catch(e){if(e instanceof wi)yi.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(t.message)}}}async function pb(n,e){try{const r=(await sS()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,aS(n)),await r.done}catch(t){if(t instanceof wi)yi.warn(t.message);else{const r=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});yi.warn(r.message)}}}function aS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=1024,Fx=30;class qx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>Fx){const u=$x(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mb(),{heartbeatsToSend:r,unsentEntries:s}=Gx(this._heartbeatsCache.heartbeats),o=Rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yi.warn(t),""}}}function mb(){return new Date().toISOString().substring(0,10)}function Gx(n,e=jx){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),yb(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),yb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NI()?MI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yb(n){return Rd(JSON.stringify({version:2,heartbeats:n})).length}function $x(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(n){Wo(new Ia("platform-logger",e=>new ax(e),"PRIVATE")),Wo(new Ia("heartbeat",e=>new qx(e),"PRIVATE")),bs(Cm,hb,n),bs(Cm,hb,"esm2017"),bs("fire-js","")}Wx("");function Ty(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function oS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yx=oS,lS=new ic("auth","Firebase",oS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new _y("@firebase/auth");function Kx(n,...e){Dd.logLevel<=Pe.WARN&&Dd.warn(`Auth (${sl}): ${n}`,...e)}function ud(n,...e){Dd.logLevel<=Pe.ERROR&&Dd.error(`Auth (${sl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw Sy(n,...e)}function or(n,...e){return Sy(n,...e)}function Ay(n,e,t){const r=Object.assign(Object.assign({},Yx()),{[e]:t});return new ic("auth","Firebase",r).create(e,{appName:n.name})}function gi(n){return Ay(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xx(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(n,"argument-error"),Ay(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lS.create(n,...e)}function Ae(n,e,...t){if(!n)throw Sy(e,...t)}function fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ud(e),new Error(e)}function vi(n,e){n||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Zx(){return vb()==="http:"||vb()==="https:"}function vb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zx()||DI()||"connection"in navigator)?navigator.onLine:!0}function eO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,vi(t>e,"Short delay should be less than long delay!"),this.isMobile=wI()||II()}get(){return Jx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e){vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new ac(3e4,6e4);function Ms(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ks(n,e,t,r,s={}){return cS(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=sc(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return CI()||(p.referrerPolicy="no-referrer"),uS.fetch()(fS(n,n.config.apiHost,t,f),p)})}async function cS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tO),e);try{const s=new iO(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Wf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wf(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Wf(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Wf(n,"user-disabled",u);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ay(n,y,p);er(n,y)}}catch(s){if(s instanceof wi)throw s;er(n,"network-request-failed",{message:String(s)})}}async function oc(n,e,t,r,s={}){const o=await ks(n,e,t,r,s);return"mfaPendingCredential"in o&&er(n,"multi-factor-auth-required",{_serverResponse:o}),o}function fS(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?wy(n.config,s):`${n.config.apiScheme}://${s}`}function rO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),nO.get())})}}function Wf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=or(n,e,r);return s.customData._tokenResponse=t,s}function _b(n){return n!==void 0&&n.enterprise!==void 0}class sO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aO(n,e){return ks(n,"GET","/v2/recaptchaConfig",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,e){return ks(n,"POST","/v1/accounts:delete",e)}async function dS(n,e){return ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lO(n,e=!1){const t=en(n),r=await t.getIdToken(e),s=Ry(r);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Mu(tm(s.auth_time)),issuedAtTime:Mu(tm(s.iat)),expirationTime:Mu(tm(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function tm(n){return Number(n)*1e3}function Ry(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const s=XA(t);return s?JSON.parse(s):(ud("Failed to decode base64 JWT payload"),null)}catch(s){return ud("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Eb(n){const e=Ry(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wi&&uO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(n){var e;const t=n.auth,r=await n.getIdToken(),s=await qu(n,dS(t,{idToken:r}));Ae(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hS(o.providerUserInfo):[],f=dO(n.providerData,u),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),y=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function fO(n){const e=en(n);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dO(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hS(n){return n.map(e=>{var{providerId:t}=e,r=Ty(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(n,e){const t=await cS(n,{},async()=>{const r=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=fS(n,s,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",uS.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gO(n,e){return ks(n,"POST","/v2/accounts:revokeToken",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Eb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=Eb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await hO(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new jo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lO(this,e)}reload(){return fO(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await qu(this,oO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,f,h,p,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,A=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,x=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:Z,isAnonymous:se,providerData:oe,stsTokenManager:M}=t;Ae(H&&M,e,"internal-error");const C=jo.fromJSON(this.name,M);Ae(typeof H=="string",e,"internal-error"),fs(_,e.name),fs(E,e.name),Ae(typeof Z=="boolean",e,"internal-error"),Ae(typeof se=="boolean",e,"internal-error"),fs(A,e.name),fs(w,e.name),fs(O,e.name),fs(I,e.name),fs(x,e.name),fs(V,e.name);const D=new di({uid:H,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:se,photoURL:w,phoneNumber:A,tenantId:O,stsTokenManager:C,createdAt:x,lastLoginAt:V});return oe&&Array.isArray(oe)&&(D.providerData=oe.map(k=>Object.assign({},k))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new jo;s.updateFromServerResponse(t);const o=new di({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Id(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?hS(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),f=new jo;f.updateFromIdToken(r);const h=new di({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Om(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function hi(n){vi(n instanceof Function,"Expected a class definition");let e=bb.get(n);return e?(vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gS.type="NONE";const Tb=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=cd(this.userKey,s.apiKey,o),this.fullPersistenceKey=cd("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fo(hi(Tb),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||hi(Tb);const u=cd(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(u);if(y){const _=di._fromJSON(e,y);p!==o&&(f=_),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Fo(o,e,r):(o=h[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Fo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(bS(e))return"Webos";if(mS(e))return"Safari";if((e.includes("chrome/")||yS(e))&&!e.includes("edge/"))return"Chrome";if(_S(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pS(n=fn()){return/firefox\//i.test(n)}function mS(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yS(n=fn()){return/crios\//i.test(n)}function vS(n=fn()){return/iemobile/i.test(n)}function _S(n=fn()){return/android/i.test(n)}function ES(n=fn()){return/blackberry/i.test(n)}function bS(n=fn()){return/webos/i.test(n)}function Cy(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pO(n=fn()){var e;return Cy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mO(){return xI()&&document.documentMode===10}function TS(n=fn()){return Cy(n)||_S(n)||bS(n)||ES(n)||/windows phone/i.test(n)||vS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(n,e=[]){let t;switch(n){case"Browser":t=Ab(fn());break;case"Worker":t=`${Ab(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,f)=>{try{const h=e(o);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(n,e={}){return ks(n,"GET","/v2/passwordPolicy",Ms(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=6;class EO{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:_O,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new yO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dS(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(gi(this));const t=e?en(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vO(this),t=new EO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Kx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ps(n){return en(n)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=UI(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TO(n){uh=n}function SS(n){return uh.loadJS(n)}function AO(){return uh.recaptchaEnterpriseScript}function SO(){return uh.gapiScript}function wO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RO{constructor(){this.enterprise=new CO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DO="recaptcha-enterprise",wS="NO_RECAPTCHA";class IO{constructor(e){this.type=DO,this.auth=Ps(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{aO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new sO(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(h=>{f(h)})})}function s(o,u,f){const h=window.grecaptcha;_b(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(wS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RO().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(f=>{if(!t&&_b(window.grecaptcha))s(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=AO();h.length!==0&&(h+=f),SS(h).then(()=>{s(f,o,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function wb(n,e,t,r=!1,s=!1){const o=new IO(n);let u;if(s)u=wS;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Nm(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await wb(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await wb(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n,e){const t=by(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Da(o,e??{}))return s;er(s,"already-initialized")}return t.initialize({options:e})}function OO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(hi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NO(n,e,t){const r=Ps(n);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=RS(e),{host:u,port:f}=MO(e),h=f===null?"":`:${f}`,p={url:`${o}//${u}${h}/`},y=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Da(p,r.config.emulator)&&Da(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,kO()}function RS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MO(n){const e=RS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Rb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Rb(u)}}}function Rb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,t){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function PO(n,e){return ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e){return oc(n,"POST","/v1/accounts:signInWithPassword",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,e){return oc(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}async function UO(n,e){return oc(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Dy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Gu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Gu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,t,"signInWithPassword",VO);case"emailLink":return LO(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,r,"signUpPassword",PO);case"emailLink":return UO(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,e){return oc(n,"POST","/v1/accounts:signInWithIdp",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="http://localhost";class xa extends Dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Ty(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new xa(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,qo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:HO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zO(n){const e=Cu(Du(n)).link,t=e?Cu(Du(e)).deep_link_id:null,r=Cu(Du(n)).deep_link_id;return(r?Cu(Du(r)).link:null)||r||t||e||n}class Iy{constructor(e){var t,r,s,o,u,f;const h=Cu(Du(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,_=BO((s=h.mode)!==null&&s!==void 0?s:null);Ae(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=zO(e);try{return new Iy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,t){return Gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Iy.parseLink(t);return Ae(r,"argument-error"),Gu._fromEmailAndCode(e,r.code,r.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends lc{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ci.credential(t,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends lc{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends lc{constructor(){super("twitter.com")}static credential(e,t){return xa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return gs.credential(t,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(n,e){return oc(n,"POST","/v1/accounts:signUp",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await di._fromIdTokenResponse(e,r,s),u=Cb(r);return new Oa({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Cb(r);return new Oa({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Cb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends wi{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new xd(e,t,r,s)}}function CS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(n,o,e,r):o})}async function FO(n,e,t=!1){const r=await qu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Oa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,e,t=!1){const{auth:r}=n;if(Mn(r.app))return Promise.reject(gi(r));const s="reauthenticate";try{const o=await qu(n,CS(r,s,e,n),t);Ae(o.idToken,r,"internal-error");const u=Ry(o.idToken);Ae(u,r,"internal-error");const{sub:f}=u;return Ae(n.uid===f,r,"user-mismatch"),Oa._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(n,e,t=!1){if(Mn(n.app))return Promise.reject(gi(n));const r="signIn",s=await CS(n,r,e),o=await Oa._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function GO(n,e){return DS(Ps(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(n){const e=Ps(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QO(n,e,t){if(Mn(n.app))return Promise.reject(gi(n));const r=Ps(n),u=await Nm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&IS(n),h}),f=await Oa._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function $O(n,e,t){return Mn(n.app)?Promise.reject(gi(n)):GO(en(n),al.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IS(n),r})}function WO(n,e,t,r){return en(n).onIdTokenChanged(e,t,r)}function YO(n,e,t){return en(n).beforeAuthStateChanged(e,t)}function KO(n,e,t,r){return en(n).onAuthStateChanged(e,t,r)}const Od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=1e3,ZO=10;class OS extends xS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);mO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZO):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OS.type="LOCAL";const JO=OS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends xS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NS.type="SESSION";const MS=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async p=>p(t.origin,o)),h=await eN(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((f,h)=>{const p=Oy("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(E.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function nN(n){Or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function rN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sN(){return kS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebaseLocalStorageDb",aN=1,Nd="firebaseLocalStorage",VS="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fh(n,e){return n.transaction([Nd],e?"readwrite":"readonly").objectStore(Nd)}function oN(){const n=indexedDB.deleteDatabase(PS);return new uc(n).toPromise()}function Mm(){const n=indexedDB.open(PS,aN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nd,{keyPath:VS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nd)?e(r):(r.close(),await oN(),e(await Mm()))})})}async function Db(n,e,t){const r=fh(n,!0).put({[VS]:e,value:t});return new uc(r).toPromise()}async function lN(n,e){const t=fh(n,!1).get(e),r=await new uc(t).toPromise();return r===void 0?null:r.value}function Ib(n,e){const t=fh(n,!0).delete(e);return new uc(t).toPromise()}const uN=800,cN=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(sN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rN(),!this.activeServiceWorker)return;this.sender=new tN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await Db(e,Od,"1"),await Ib(e,Od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Db(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=fh(s,!1).getAll();return new uc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const fN=LS;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n,e){return e?hi(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends Dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dN(n){return DS(n.auth,new Ny(n),n.bypassAuthState)}function hN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),qO(t,new Ny(n),n.bypassAuthState)}async function gN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),FO(t,new Ny(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:er(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new ac(2e3,1e4);async function mN(n,e,t){if(Mn(n.app))return Promise.reject(or(n,"operation-not-supported-in-this-environment"));const r=Ps(n);Xx(n,e,xy);const s=US(r,t);return new Ta(r,"signInViaPopup",e,s).executeNotNull()}class Ta extends HS{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="pendingRedirect",fd=new Map;class vN extends HS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const r=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(n,e){const t=TN(e),r=bN(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function EN(n,e){fd.set(n._key(),e)}function bN(n){return hi(n._redirectPersistence)}function TN(n){return cd(yN,n.config.apiKey,n.name)}async function AN(n,e,t=!1){if(Mn(n.app))return Promise.reject(gi(n));const r=Ps(n),s=US(r,e),u=await new vN(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=10*60*1e3;class wN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(or(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SN&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,e={}){return ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IN=/^https?/;async function xN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await CN(n);for(const t of e)try{if(ON(t))return}catch{}er(n,"unauthorized-domain")}function ON(n){const e=xm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!IN.test(t))return!1;if(DN.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new ac(3e4,6e4);function Ob(){const n=Or().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MN(n){return new Promise((e,t)=>{var r,s,o;function u(){Ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ob(),t(or(n,"network-request-failed"))},timeout:NN.get()})}if(!((s=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Or().gapi)===null||o===void 0)&&o.load)u();else{const f=wO("iframefcb");return Or()[f]=()=>{gapi.load?u():t(or(n,"network-request-failed"))},SS(`${SO()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw dd=null,e})}let dd=null;function kN(n){return dd=dd||MN(n),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new ac(5e3,15e3),VN="__/auth/iframe",LN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wy(e,LN):`https://${n.config.authDomain}/${VN}`,r={apiKey:e.apiKey,appName:n.name,v:sl},s=HN.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${sc(r).slice(1)}`}async function zN(n){const e=await kN(n),t=Or().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:BN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=or(n,"network-request-failed"),f=Or().setTimeout(()=>{o(u)},PN.get());function h(){Or().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,qN=600,GN="_blank",QN="http://localhost";class Nb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $N(n,e,t,r=FN,s=qN){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},jN),{width:r.toString(),height:s.toString(),top:o,left:u}),p=fn().toLowerCase();t&&(f=yS(p)?GN:t),pS(p)&&(e=e||QN,h.scrollbars="yes");const y=Object.entries(h).reduce((E,[A,w])=>`${E}${A}=${w},`,"");if(pO(p)&&f!=="_self")return WN(e||"",f),new Nb(null);const _=window.open(e||"",f,y);Ae(_,n,"popup-blocked");try{_.focus()}catch{}return new Nb(_)}function WN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__/auth/handler",KN="emulator/auth/handler",XN=encodeURIComponent("fac");async function Mb(n,e,t,r,s,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:sl,eventId:s};if(e instanceof xy){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",LI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof lc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await n._getAppCheckToken(),p=h?`#${XN}=${encodeURIComponent(h)}`:"";return`${ZN(n)}?${sc(f).slice(1)}${p}`}function ZN({config:n}){return n.emulator?wy(n,KN):`https://${n.authDomain}/${YN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class JN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MS,this._completeRedirectFn=AN,this._overrideRedirectResult=EN}async _openPopup(e,t,r,s){var o;vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Mb(e,t,r,xm(),s);return $N(e,u,Oy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Mb(e,t,r,xm(),s);return nN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(vi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await zN(e),r=new wN(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nm,{type:nm},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[nm];u!==void 0&&t(!!u),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TS()||mS()||Cy()}}const eM=JN;var kb="@firebase/auth",Pb="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rM(n){Wo(new Ia("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(n)},p=new bO(r,s,o,h);return OO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new Ia("auth-internal",e=>{const t=Ps(e.getProvider("auth").getImmediate());return(r=>new tM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(kb,Pb,nM(n)),bs(kb,Pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=5*60,sM=eS("authIdTokenMaxAge")||iM;let Vb=null;const aM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>sM)return;const s=t==null?void 0:t.token;Vb!==s&&(Vb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oM(n=iS()){const e=by(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xO(n,{popupRedirectResolver:eM,persistence:[fN,JO,MS]}),r=eS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=aM(o.toString());YO(t,u,()=>u(t.currentUser)),WO(t,f=>u(f))}}const s=ZA("auth");return s&&NO(t,`http://${s}`),t}function lM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=or("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",lM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rM("Browser");var uM="firebase",cM="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(uM,cM,"app");var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,zS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function D(){}D.prototype=C.prototype,M.D=C.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(k,L,j){for(var P=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)P[Et-2]=arguments[Et];return C.prototype[L].apply(k,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,C,D){D||(D=0);var k=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)k[L]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(L=0;16>L;++L)k[L]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=M.g[0],D=M.g[1],L=M.g[2];var j=M.g[3],P=C+(j^D&(L^j))+k[0]+3614090360&4294967295;C=D+(P<<7&4294967295|P>>>25),P=j+(L^C&(D^L))+k[1]+3905402710&4294967295,j=C+(P<<12&4294967295|P>>>20),P=L+(D^j&(C^D))+k[2]+606105819&4294967295,L=j+(P<<17&4294967295|P>>>15),P=D+(C^L&(j^C))+k[3]+3250441966&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(j^D&(L^j))+k[4]+4118548399&4294967295,C=D+(P<<7&4294967295|P>>>25),P=j+(L^C&(D^L))+k[5]+1200080426&4294967295,j=C+(P<<12&4294967295|P>>>20),P=L+(D^j&(C^D))+k[6]+2821735955&4294967295,L=j+(P<<17&4294967295|P>>>15),P=D+(C^L&(j^C))+k[7]+4249261313&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(j^D&(L^j))+k[8]+1770035416&4294967295,C=D+(P<<7&4294967295|P>>>25),P=j+(L^C&(D^L))+k[9]+2336552879&4294967295,j=C+(P<<12&4294967295|P>>>20),P=L+(D^j&(C^D))+k[10]+4294925233&4294967295,L=j+(P<<17&4294967295|P>>>15),P=D+(C^L&(j^C))+k[11]+2304563134&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(j^D&(L^j))+k[12]+1804603682&4294967295,C=D+(P<<7&4294967295|P>>>25),P=j+(L^C&(D^L))+k[13]+4254626195&4294967295,j=C+(P<<12&4294967295|P>>>20),P=L+(D^j&(C^D))+k[14]+2792965006&4294967295,L=j+(P<<17&4294967295|P>>>15),P=D+(C^L&(j^C))+k[15]+1236535329&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(L^j&(D^L))+k[1]+4129170786&4294967295,C=D+(P<<5&4294967295|P>>>27),P=j+(D^L&(C^D))+k[6]+3225465664&4294967295,j=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(j^C))+k[11]+643717713&4294967295,L=j+(P<<14&4294967295|P>>>18),P=D+(j^C&(L^j))+k[0]+3921069994&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(L^j&(D^L))+k[5]+3593408605&4294967295,C=D+(P<<5&4294967295|P>>>27),P=j+(D^L&(C^D))+k[10]+38016083&4294967295,j=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(j^C))+k[15]+3634488961&4294967295,L=j+(P<<14&4294967295|P>>>18),P=D+(j^C&(L^j))+k[4]+3889429448&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(L^j&(D^L))+k[9]+568446438&4294967295,C=D+(P<<5&4294967295|P>>>27),P=j+(D^L&(C^D))+k[14]+3275163606&4294967295,j=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(j^C))+k[3]+4107603335&4294967295,L=j+(P<<14&4294967295|P>>>18),P=D+(j^C&(L^j))+k[8]+1163531501&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(L^j&(D^L))+k[13]+2850285829&4294967295,C=D+(P<<5&4294967295|P>>>27),P=j+(D^L&(C^D))+k[2]+4243563512&4294967295,j=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(j^C))+k[7]+1735328473&4294967295,L=j+(P<<14&4294967295|P>>>18),P=D+(j^C&(L^j))+k[12]+2368359562&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(D^L^j)+k[5]+4294588738&4294967295,C=D+(P<<4&4294967295|P>>>28),P=j+(C^D^L)+k[8]+2272392833&4294967295,j=C+(P<<11&4294967295|P>>>21),P=L+(j^C^D)+k[11]+1839030562&4294967295,L=j+(P<<16&4294967295|P>>>16),P=D+(L^j^C)+k[14]+4259657740&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(D^L^j)+k[1]+2763975236&4294967295,C=D+(P<<4&4294967295|P>>>28),P=j+(C^D^L)+k[4]+1272893353&4294967295,j=C+(P<<11&4294967295|P>>>21),P=L+(j^C^D)+k[7]+4139469664&4294967295,L=j+(P<<16&4294967295|P>>>16),P=D+(L^j^C)+k[10]+3200236656&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(D^L^j)+k[13]+681279174&4294967295,C=D+(P<<4&4294967295|P>>>28),P=j+(C^D^L)+k[0]+3936430074&4294967295,j=C+(P<<11&4294967295|P>>>21),P=L+(j^C^D)+k[3]+3572445317&4294967295,L=j+(P<<16&4294967295|P>>>16),P=D+(L^j^C)+k[6]+76029189&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(D^L^j)+k[9]+3654602809&4294967295,C=D+(P<<4&4294967295|P>>>28),P=j+(C^D^L)+k[12]+3873151461&4294967295,j=C+(P<<11&4294967295|P>>>21),P=L+(j^C^D)+k[15]+530742520&4294967295,L=j+(P<<16&4294967295|P>>>16),P=D+(L^j^C)+k[2]+3299628645&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(L^(D|~j))+k[0]+4096336452&4294967295,C=D+(P<<6&4294967295|P>>>26),P=j+(D^(C|~L))+k[7]+1126891415&4294967295,j=C+(P<<10&4294967295|P>>>22),P=L+(C^(j|~D))+k[14]+2878612391&4294967295,L=j+(P<<15&4294967295|P>>>17),P=D+(j^(L|~C))+k[5]+4237533241&4294967295,D=L+(P<<21&4294967295|P>>>11),P=C+(L^(D|~j))+k[12]+1700485571&4294967295,C=D+(P<<6&4294967295|P>>>26),P=j+(D^(C|~L))+k[3]+2399980690&4294967295,j=C+(P<<10&4294967295|P>>>22),P=L+(C^(j|~D))+k[10]+4293915773&4294967295,L=j+(P<<15&4294967295|P>>>17),P=D+(j^(L|~C))+k[1]+2240044497&4294967295,D=L+(P<<21&4294967295|P>>>11),P=C+(L^(D|~j))+k[8]+1873313359&4294967295,C=D+(P<<6&4294967295|P>>>26),P=j+(D^(C|~L))+k[15]+4264355552&4294967295,j=C+(P<<10&4294967295|P>>>22),P=L+(C^(j|~D))+k[6]+2734768916&4294967295,L=j+(P<<15&4294967295|P>>>17),P=D+(j^(L|~C))+k[13]+1309151649&4294967295,D=L+(P<<21&4294967295|P>>>11),P=C+(L^(D|~j))+k[4]+4149444226&4294967295,C=D+(P<<6&4294967295|P>>>26),P=j+(D^(C|~L))+k[11]+3174756917&4294967295,j=C+(P<<10&4294967295|P>>>22),P=L+(C^(j|~D))+k[2]+718787259&4294967295,L=j+(P<<15&4294967295|P>>>17),P=D+(j^(L|~C))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+j&4294967295}r.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var D=C-this.blockSize,k=this.B,L=this.h,j=0;j<C;){if(L==0)for(;j<=D;)s(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<C;)if(k[L++]=M.charCodeAt(j++),L==this.blockSize){s(this,k),L=0;break}}else for(;j<C;)if(k[L++]=M[j++],L==this.blockSize){s(this,k),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var D=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=D&255,D/=256;for(this.u(M),M=Array(16),C=D=0;4>C;++C)for(var k=0;32>k;k+=8)M[D++]=this.g[C]>>>k&255;return M};function o(M,C){var D=f;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=C(M)}function u(M,C){this.h=C;for(var D=[],k=!0,L=M.length-1;0<=L;L--){var j=M[L]|0;k&&j==C||(D[L]=j,k=!1)}this.g=D}var f={};function h(M){return-128<=M&&128>M?o(M,function(C){return new u([C|0],0>C?-1:0)}):new u([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return I(p(-M));for(var C=[],D=1,k=0;M>=D;k++)C[k]=M/D|0,D*=4294967296;return new u(C,0)}function y(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return I(y(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(C,8)),k=_,L=0;L<M.length;L+=8){var j=Math.min(8,M.length-L),P=parseInt(M.substring(L,L+j),C);8>j?(j=p(Math.pow(C,j)),k=k.j(j).add(p(P))):(k=k.j(D),k=k.add(p(P)))}return k}var _=h(0),E=h(1),A=h(16777216);n=u.prototype,n.m=function(){if(O(this))return-I(this).m();for(var M=0,C=1,D=0;D<this.g.length;D++){var k=this.i(D);M+=(0<=k?k:4294967296+k)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(O(this))return"-"+I(this).toString(M);for(var C=p(Math.pow(M,6)),D=this,k="";;){var L=Z(D,C).g;D=x(D,L.j(C));var j=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=L,w(D))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function O(M){return M.h==-1}n.l=function(M){return M=x(this,M),O(M)?-1:w(M)?0:1};function I(M){for(var C=M.g.length,D=[],k=0;k<C;k++)D[k]=~M.g[k];return new u(D,~M.h).add(E)}n.abs=function(){return O(this)?I(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0,L=0;L<=C;L++){var j=k+(this.i(L)&65535)+(M.i(L)&65535),P=(j>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);k=P>>>16,j&=65535,P&=65535,D[L]=P<<16|j}return new u(D,D[D.length-1]&-2147483648?-1:0)};function x(M,C){return M.add(I(C))}n.j=function(M){if(w(this)||w(M))return _;if(O(this))return O(M)?I(this).j(I(M)):I(I(this).j(M));if(O(M))return I(this.j(I(M)));if(0>this.l(A)&&0>M.l(A))return p(this.m()*M.m());for(var C=this.g.length+M.g.length,D=[],k=0;k<2*C;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<M.g.length;L++){var j=this.i(k)>>>16,P=this.i(k)&65535,Et=M.i(L)>>>16,ut=M.i(L)&65535;D[2*k+2*L]+=P*ut,V(D,2*k+2*L),D[2*k+2*L+1]+=j*ut,V(D,2*k+2*L+1),D[2*k+2*L+1]+=P*Et,V(D,2*k+2*L+1),D[2*k+2*L+2]+=j*Et,V(D,2*k+2*L+2)}for(k=0;k<C;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=C;k<2*C;k++)D[k]=0;return new u(D,0)};function V(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function H(M,C){this.g=M,this.h=C}function Z(M,C){if(w(C))throw Error("division by zero");if(w(M))return new H(_,_);if(O(M))return C=Z(I(M),C),new H(I(C.g),I(C.h));if(O(C))return C=Z(M,I(C)),new H(I(C.g),C.h);if(30<M.g.length){if(O(M)||O(C))throw Error("slowDivide_ only works with positive integers.");for(var D=E,k=C;0>=k.l(M);)D=se(D),k=se(k);var L=oe(D,1),j=oe(k,1);for(k=oe(k,2),D=oe(D,2);!w(k);){var P=j.add(k);0>=P.l(M)&&(L=L.add(D),j=P),k=oe(k,1),D=oe(D,1)}return C=x(M,L.j(C)),new H(L,C)}for(L=_;0<=M.l(C);){for(D=Math.max(1,Math.floor(M.m()/C.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=p(D),P=j.j(C);O(P)||0<P.l(M);)D-=k,j=p(D),P=j.j(C);w(j)&&(j=E),L=L.add(j),M=x(M,P)}return new H(L,M)}n.A=function(M){return Z(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0;k<C;k++)D[k]=this.i(k)&M.i(k);return new u(D,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0;k<C;k++)D[k]=this.i(k)|M.i(k);return new u(D,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0;k<C;k++)D[k]=this.i(k)^M.i(k);return new u(D,this.h^M.h)};function se(M){for(var C=M.g.length+1,D=[],k=0;k<C;k++)D[k]=M.i(k)<<1|M.i(k-1)>>>31;return new u(D,M.h)}function oe(M,C){var D=C>>5;C%=32;for(var k=M.g.length-D,L=[],j=0;j<k;j++)L[j]=0<C?M.i(j+D)>>>C|M.i(j+D+1)<<32-C:M.i(j+D);return new u(L,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ts=u}).apply(typeof Lb<"u"?Lb:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jS,Iu,FS,hd,km,qS,GS,QS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function s(d,v){if(v)e:{var b=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var G=d[R];if(!(G in b))break e;b=b[G]}d=d[d.length-1],R=b[d],v=v(R),v!=R&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var b=0,R=!1,G={next:function(){if(!R&&b<d.length){var K=b++;return{value:v(K,d[K]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(d){return d||function(){return o(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,b){return d.call.apply(d.bind,arguments)}function _(d,v,b){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),d.apply(v,G)}}return function(){return d.apply(v,arguments)}}function E(d,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function A(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function w(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(R,G,K){for(var le=Array(arguments.length-2),He=2;He<arguments.length;He++)le[He-2]=arguments[He];return v.prototype[G].apply(R,le)}}function O(d){const v=d.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=d[R];return b}return[]}function I(d,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(h(R)){const G=d.length||0,K=R.length||0;d.length=G+K;for(let le=0;le<K;le++)d[G+le]=R[le]}else d.push(R)}}class x{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var se=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function oe(d,v,b){for(const R in d)v.call(b,d[R],R,d)}function M(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function C(d){const v={};for(const b in d)v[b]=d[b];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)d[b]=R[b];for(let K=0;K<D.length;K++)b=D[K],Object.prototype.hasOwnProperty.call(R,b)&&(d[b]=R[b])}}function L(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function j(d){f.setTimeout(()=>{throw d},0)}function P(){var d=Ke;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Et{constructor(){this.h=this.g=null}add(v,b){const R=ut.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var ut=new x(()=>new ue,d=>d.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,Ke=new Et,U=()=>{const d=f.Promise.resolve(void 0);Ee=()=>{d.then(ae)}};var ae=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(b){j(b)}var v=ut;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}pe=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return d}();function xe(d,v){if(ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(se){e:{try{Z(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xe.aa.h.call(this)}}w(xe,ce);var De={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function pt(d,v,b,R,G){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=G,this.key=++qe,this.da=this.fa=!1}function Je(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function dn(d){this.src=d,this.g={},this.h=0}dn.prototype.add=function(d,v,b,R,G){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var le=Vn(d,v,R,G);return-1<le?(v=d[le],b||(v.fa=!1)):(v=new pt(v,this.src,K,!!R,G),v.fa=b,d.push(v)),v};function Lr(d,v){var b=v.type;if(b in d.g){var R=d.g[b],G=Array.prototype.indexOf.call(R,v,void 0),K;(K=0<=G)&&Array.prototype.splice.call(R,G,1),K&&(Je(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Vn(d,v,b,R){for(var G=0;G<d.length;++G){var K=d[G];if(!K.da&&K.listener==v&&K.capture==!!b&&K.ha==R)return G}return-1}var Di="closure_lm_"+(1e6*Math.random()|0),Ii={};function Ur(d,v,b,R,G){if(Array.isArray(v)){for(var K=0;K<v.length;K++)Ur(d,v[K],b,R,G);return null}return b=Rc(b),d&&d[wt]?d.K(v,b,p(R)?!!R.capture:!1,G):vl(d,v,b,!1,R,G)}function vl(d,v,b,R,G,K){if(!v)throw Error("Invalid event type");var le=p(G)?!!G.capture:!!G,He=_l(d);if(He||(d[Di]=He=new dn(d)),b=He.add(v,b,R,le,K),b.proxy)return b;if(R=Ga(),b.proxy=R,R.src=d,R.listener=b,d.addEventListener)fe||(G=le),G===void 0&&(G=!1),d.addEventListener(v.toString(),R,G);else if(d.attachEvent)d.attachEvent($a(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ga(){function d(b){return v.call(d.src,d.listener,b)}const v=Qh;return d}function Qa(d,v,b,R,G){if(Array.isArray(v))for(var K=0;K<v.length;K++)Qa(d,v[K],b,R,G);else R=p(R)?!!R.capture:!!R,b=Rc(b),d&&d[wt]?(d=d.i,v=String(v).toString(),v in d.g&&(K=d.g[v],b=Vn(K,b,R,G),-1<b&&(Je(K[b]),Array.prototype.splice.call(K,b,1),K.length==0&&(delete d.g[v],d.h--)))):d&&(d=_l(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Vn(v,b,R,G)),(b=-1<d?v[d]:null)&&Bs(b))}function Bs(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[wt])Lr(v.i,d);else{var b=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(b,R,d.capture):v.detachEvent?v.detachEvent($a(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=_l(v))?(Lr(b,d),b.h==0&&(b.src=null,v[Di]=null)):Je(d)}}}function $a(d){return d in Ii?Ii[d]:Ii[d]="on"+d}function Qh(d,v){if(d.da)d=!0;else{v=new xe(v,this);var b=d.listener,R=d.ha||d.src;d.fa&&Bs(d),d=b.call(R,v)}return d}function _l(d){return d=d[Di],d instanceof dn?d:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(d){return typeof d=="function"?d:(d[En]||(d[En]=function(v){return d.handleEvent(v)}),d[En])}function Ot(){ye.call(this),this.i=new dn(this),this.M=this,this.F=null}w(Ot,ye),Ot.prototype[wt]=!0,Ot.prototype.removeEventListener=function(d,v,b,R){Qa(this,d,v,b,R)};function Ht(d,v){var b,R=d.F;if(R)for(b=[];R;R=R.F)b.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new ce(v,d);else if(v instanceof ce)v.target=v.target||d;else{var G=v;v=new ce(R,d),k(v,G)}if(G=!0,b)for(var K=b.length-1;0<=K;K--){var le=v.g=b[K];G=Hr(le,R,!0,v)&&G}if(le=v.g=d,G=Hr(le,R,!0,v)&&G,G=Hr(le,R,!1,v)&&G,b)for(K=0;K<b.length;K++)le=v.g=b[K],G=Hr(le,R,!1,v)&&G}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],R=0;R<b.length;R++)Je(b[R]);delete d.g[v],d.h--}}this.F=null},Ot.prototype.K=function(d,v,b,R){return this.i.add(String(d),v,!1,b,R)},Ot.prototype.L=function(d,v,b,R){return this.i.add(String(d),v,!0,b,R)};function Hr(d,v,b,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,K=0;K<v.length;++K){var le=v[K];if(le&&!le.da&&le.capture==b){var He=le.listener,Mt=le.ha||le.src;le.fa&&Lr(d.i,le),G=He.call(Mt,R)!==!1&&G}}return G&&!R.defaultPrevented}function Cc(d,v,b){if(typeof d=="function")b&&(d=E(d,b));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function El(d){d.g=Cc(()=>{d.g=null,d.i&&(d.i=!1,El(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class $h extends ye{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:El(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(d){ye.call(this),this.h=d,this.g={}}w(zs,ye);var xi=[];function nn(d){oe(d.g,function(v,b){this.g.hasOwnProperty(b)&&Bs(v)},d),d.g={}}zs.prototype.N=function(){zs.aa.N.call(this),nn(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bl=f.JSON.stringify,hr=f.JSON.parse,hn=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Tl(){}Tl.prototype.h=null;function Dc(d){return d.h||(d.h=d.i())}function Ic(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){ce.call(this,"d")}w(Oi,ce);function tr(){ce.call(this,"c")}w(tr,ce);var Ln={},Ni=null;function Wa(){return Ni=Ni||new Ot}Ln.La="serverreachability";function Al(d){ce.call(this,Ln.La,d)}w(Al,ce);function Mi(d){const v=Wa();Ht(v,new Al(v))}Ln.STAT_EVENT="statevent";function Ya(d,v){ce.call(this,Ln.STAT_EVENT,d),this.stat=v}w(Ya,ce);function bt(d){const v=Wa();Ht(v,new Ya(v,d))}Ln.Ma="timingevent";function xc(d,v){ce.call(this,Ln.Ma,d),this.size=v}w(xc,ce);function ki(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function Pi(){this.g=!0}Pi.prototype.xa=function(){this.g=!1};function Oc(d,v,b,R,G,K){d.info(function(){if(d.g)if(K)for(var le="",He=K.split("&"),Mt=0;Mt<He.length;Mt++){var Be=He[Mt].split("=");if(1<Be.length){var jt=Be[0];Be=Be[1];var kt=jt.split("_");le=2<=kt.length&&kt[1]=="type"?le+(jt+"="+Be+"&"):le+(jt+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+b+`
`+le})}function Nc(d,v,b,R,G,K,le){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+b+`
`+K+" "+le})}function Vi(d,v,b,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bt(d,b)+(R?" "+R:"")})}function pr(d,v){d.info(function(){return"TIMEOUT: "+v})}Pi.prototype.info=function(){};function Bt(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var R=b[d];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var K=G[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<G.length;le++)G[le]=""}}}}return bl(b)}catch{return v}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},js;function Ka(){}w(Ka,Tl),Ka.prototype.g=function(){return new XMLHttpRequest},Ka.prototype.i=function(){return{}},js=new Ka;function mr(d,v,b,R){this.j=d,this.i=v,this.l=b,this.R=R||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sl}function Sl(){this.i=null,this.g="",this.h=!1}var Li={},Fs={};function nr(d,v,b){d.L=1,d.v=Qs(mt(v)),d.m=b,d.P=!0,zr(d,null)}function zr(d,v){d.F=Date.now(),ct(d),d.A=mt(d.v);var b=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),qr(b.i,"t",R),d.C=0,b=d.j.J,d.h=new Sl,d.g=Qc(d.j,b?v:null,!d.m),0<d.O&&(d.M=new $h(E(d.Y,d,d.g),d.O)),v=d.U,b=d.g,R=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(xi[0]=G.toString()),G=xi);for(var K=0;K<G.length;K++){var le=Ur(b,G[K],R||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Mi(),Oc(d.i,d.u,d.A,d.l,d.R,d.m)}mr.prototype.ca=function(d){d=d.target;const v=this.M;v&&jn(d)==3?v.j():this.Y(d)},mr.prototype.Y=function(d){try{if(d==this.g)e:{const kt=jn(this.g);var v=this.g.Ba();const Wr=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Uc(this.g)))){this.J||kt!=4||v==7||(v==8||0>=Wr?Mi(3):Mi(2)),Xa(this);var b=this.g.Z();this.X=b;t:if(Ui(this)){var R=Uc(this.g);d="";var G=R.length,K=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Rn(this);var le="";break t}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(K&&v==G-1)});R.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=b==200,Nc(this.i,this.u,this.A,this.l,this.R,kt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Mt=this.g;if((He=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(He)){var Be=He;break t}}Be=null}if(b=Be)Vi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cn(this,b);else{this.o=!1,this.s=3,bt(12),bn(this),Rn(this);break e}}if(this.P){b=!0;let Wt;for(;!this.J&&this.C<le.length;)if(Wt=Hi(this,le),Wt==Fs){kt==4&&(this.s=4,bt(14),b=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Li){this.s=4,bt(15),Vi(this.i,this.l,le,"[Invalid Chunk]"),b=!1;break}else Vi(this.i,this.l,Wt,null),Cn(this,Wt);if(Ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||le.length!=0||this.h.h||(this.s=1,bt(16),b=!1),this.o=this.o&&b,!b)Vi(this.i,this.l,le,"[Invalid Chunked Response]"),bn(this),Rn(this);else if(0<le.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Js(jt),jt.M=!0,bt(11))}}else Vi(this.i,this.l,le,null),Cn(this,le);kt==4&&bn(this),this.o&&!this.J&&(kt==4?Fc(this.j,this):(this.o=!1,ct(this)))}else Jh(this.g),b==400&&0<le.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),bn(this),Rn(this)}}}catch{}finally{}};function Ui(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Hi(d,v){var b=d.C,R=v.indexOf(`
`,b);return R==-1?Fs:(b=Number(v.substring(b,R)),isNaN(b)?Li:(R+=1,R+b>v.length?Fs:(v=v.slice(R,R+b),d.C=R+b,v)))}mr.prototype.cancel=function(){this.J=!0,bn(this)};function ct(d){d.S=Date.now()+d.I,wl(d,d.I)}function wl(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ki(E(d.ba,d),v)}function Xa(d){d.B&&(f.clearTimeout(d.B),d.B=null)}mr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(pr(this.i,this.A),this.L!=2&&(Mi(),bt(17)),bn(this),this.s=2,Rn(this)):wl(this,this.S-d)};function Rn(d){d.j.G==0||d.J||Fc(d.j,d)}function bn(d){Xa(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,nn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Cn(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||Bi(b.h,d))){if(!d.K&&Bi(b.h,d)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)oo(b),so(b);else break e;Vl(b),bt(18)}}else b.za=G[1],0<b.za-b.T&&37500>G[2]&&b.F&&b.v==0&&!b.C&&(b.C=ki(E(b.Za,b),6e3));if(1>=Mc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else $r(b,11)}else if((d.K||b.g==d)&&oo(b),!V(v))for(G=b.Da.g.parse(v),v=0;v<G.length;v++){let Be=G[v];if(b.T=Be[0],Be=Be[1],b.G==2)if(Be[0]=="c"){b.K=Be[1],b.ia=Be[2];const jt=Be[3];jt!=null&&(b.la=jt,b.j.info("VER="+b.la));const kt=Be[4];kt!=null&&(b.Aa=kt,b.j.info("SVER="+b.Aa));const Wr=Be[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(R=1.5*Wr,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Wt=d.g;if(Wt){const Ar=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var K=R.h;K.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(zi(K,K.h),K.h=null))}if(R.D){const Ul=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ul&&(R.ya=Ul,Ge(R.I,R.D,Ul))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var le=d;if(R.qa=Gc(R,R.J?R.ia:null,R.W),le.K){Un(R.h,le);var He=le,Mt=R.L;Mt&&(He.I=Mt),He.B&&(Xa(He),ct(He)),R.g=le}else zc(R);0<b.i.length&&ao(b)}else Be[0]!="stop"&&Be[0]!="close"||$r(b,7);else b.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?$r(b,7):kl(b):Be[0]!="noop"&&b.l&&b.l.ta(Be),b.v=0)}}Mi(4)}catch{}}var Wh=class{constructor(d,v){this.g=d,this.map=v}};function Rl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Mc(d){return d.h?1:d.g?d.g.size:0}function Bi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function zi(d,v){d.g?d.g.add(v):d.h=v}function Un(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Rl.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function gn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return O(d.i)}function kc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],b=d.length,R=0;R<b;R++)v.push(d[R]);return v}v=[],b=0;for(R in d)v[b++]=d[R];return v}function Yh(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const R in d)v[b++]=R;return v}}}function qs(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=Yh(d),R=kc(d),G=R.length,K=0;K<G;K++)v.call(void 0,R[K],b&&b[K],d)}var Dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var R=d[b].indexOf("="),G=null;if(0<=R){var K=d[b].substring(0,R);G=d[b].substring(R+1)}else K=d[b];v(K,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function jr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof jr){this.h=d.h,ji(this,d.j),this.o=d.o,this.g=d.g,Gs(this,d.s),this.l=d.l;var v=d.i,b=new yr;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Ja(this,b),this.m=d.m}else d&&(v=String(d).match(Dl))?(this.h=!1,ji(this,v[1]||"",!0),this.o=Fi(v[2]||""),this.g=Fi(v[3]||"",!0),Gs(this,v[4]),this.l=Fi(v[5]||"",!0),Ja(this,v[6]||"",!0),this.m=Fi(v[7]||"")):(this.h=!1,this.i=new yr(null,this.h))}jr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Hn(v,Il,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Hn(v,Il,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Hn(b,b.charAt(0)=="/"?xl:Pc,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Hn(b,Zh)),d.join("")};function mt(d){return new jr(d)}function ji(d,v,b){d.j=b?Fi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Gs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ja(d,v,b){v instanceof yr?(d.i=v,Ol(d.i,d.h)):(b||(v=Hn(v,Xh)),d.i=new yr(v,d.h))}function Ge(d,v,b){d.i.set(v,b)}function Qs(d){return Ge(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Hn(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Kh),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Kh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Il=/[#\/\?@]/g,Pc=/[#\?:]/g,xl=/[#\?]/g,Xh=/[#\?@]/g,Zh=/#/g;function yr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Bn(d){d.g||(d.g=new Map,d.h=0,d.i&&Za(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=yr.prototype,n.add=function(d,v){Bn(this),this.i=null,d=Gr(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function eo(d,v){Bn(d),v=Gr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Fr(d,v){return Bn(d),v=Gr(d,v),d.g.has(v)}n.forEach=function(d,v){Bn(this),this.g.forEach(function(b,R){b.forEach(function(G){d.call(v,G,R,this)},this)},this)},n.na=function(){Bn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const G=d[R];for(let K=0;K<G.length;K++)b.push(v[R])}return b},n.V=function(d){Bn(this);let v=[];if(typeof d=="string")Fr(this,d)&&(v=v.concat(this.g.get(Gr(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},n.set=function(d,v){return Bn(this),this.i=null,d=Gr(this,d),Fr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function qr(d,v,b){eo(d,v),0<b.length&&(d.i=null,d.g.set(Gr(d,v),O(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const K=encodeURIComponent(String(R)),le=this.V(R);for(R=0;R<le.length;R++){var G=K;le[R]!==""&&(G+="="+encodeURIComponent(String(le[R]))),d.push(G)}}return this.i=d.join("&")};function Gr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ol(d,v){v&&!d.j&&(Bn(d),d.i=null,d.g.forEach(function(b,R){var G=R.toLowerCase();R!=G&&(eo(this,R),qr(this,G,b))},d)),d.j=v}function Vc(d,v){const b=new Pi;if(f.Image){const R=new Image;R.onload=A(zn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=A(zn,b,"TestLoadImage: error",!1,v,R),R.onabort=A(zn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=A(zn,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function $s(d,v){const b=new Pi,R=new AbortController,G=setTimeout(()=>{R.abort(),zn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(K=>{clearTimeout(G),K.ok?zn(b,"TestPingServer: ok",!0,v):zn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),zn(b,"TestPingServer: error",!1,v)})}function zn(d,v,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function Ws(){this.g=new hn}function vr(d,v,b){const R=b||"";try{qs(d,function(G,K){let le=G;p(G)&&(le=bl(G)),v.push(R+K+"="+encodeURIComponent(le))})}catch(G){throw v.push(R+"type="+encodeURIComponent("_badmap")),G}}function qi(d){this.l=d.Ub||null,this.j=d.eb||!1}w(qi,Tl),qi.prototype.g=function(){return new Qr(this.l,this.j)},qi.prototype.i=function(d){return function(){return d}}({});function Qr(d,v){Ot.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Qr,Ot),n=Qr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Er(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?_r(this):Er(this),this.readyState==3&&Nl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,_r(this))},n.Qa=function(d){this.g&&(this.response=d,_r(this))},n.ga=function(){this.g&&_r(this)};function _r(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Er(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function Er(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ml(d){let v="";return oe(d,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function zt(d,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Ml(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):Ge(d,v,b))}function Xe(d){Ot.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Xe,Ot);var to=/^https?$/i,Ys=["POST","PUT"];n=Xe.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():js.g(),this.v=this.o?Dc(this.o):Dc(js),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(K){Lc(this,K);return}if(d=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())b.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),G=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ys,v,void 0))||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of b)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){Lc(this,K)}};function Lc(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,no(d),br(d)}function no(d){d.A||(d.A=!0,Ht(d,"complete"),Ht(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ht(this,"complete"),Ht(this,"abort"),br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},n.bb=function(){ro(this)};function ro(d){if(d.h&&typeof u<"u"&&(!d.v[1]||jn(d)!=4||d.Z()!=2)){if(d.u&&jn(d)==4)Cc(d.Ea,0,d);else if(Ht(d,"readystatechange"),jn(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=le===0){var G=String(d.D).match(Dl)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),R=!to.test(G?G.toLowerCase():"")}b=R}if(b)Ht(d,"complete"),Ht(d,"success");else{d.m=6;try{var K=2<jn(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",no(d)}}finally{br(d)}}}}function br(d,v){if(d.g){Ks(d);const b=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ht(d,"ready");try{b.onreadystatechange=R}catch{}}}function Ks(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function jn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),hr(v)}};function Uc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(d){const v={};d=(d.g&&2<=jn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(V(d[R]))continue;var b=L(d[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=v[G]||[];v[G]=K,K.push(b)}M(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function io(d){this.Aa=0,this.i=[],this.j=new Pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,d),this.cb=Xs("retryDelaySeedMs",1e4,d),this.Wa=Xs("forwardChannelMaxRetries",2,d),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Rl(d&&d.concurrentRequestLimit),this.Da=new Ws,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=io.prototype,n.la=8,n.G=1,n.connect=function(d,v,b,R){bt(0),this.W=d,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=Gc(this,null,this.W),ao(this)};function kl(d){if(Hc(d),d.G==3){var v=d.U++,b=mt(d.I);if(Ge(b,"SID",d.K),Ge(b,"RID",v),Ge(b,"TYPE","terminate"),Zs(d,b),v=new mr(d,d.j,v),v.L=2,v.v=Qs(mt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=Qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ct(v)}qc(d)}function so(d){d.g&&(Js(d),d.g.cancel(),d.g=null)}function Hc(d){so(d),d.u&&(f.clearTimeout(d.u),d.u=null),oo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function ao(d){if(!Cl(d.h)&&!d.s){d.s=!0;var v=d.Ga;Ee||U(),pe||(Ee(),pe=!0),Ke.add(v,d),d.B=0}}function eg(d,v){return Mc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ki(E(d.Ga,d,v),Ll(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new mr(this,this.j,d);let K=this.o;if(this.S&&(K?(K=C(K),k(K,this.S)):K=this.S),this.m!==null||this.O||(G.H=K,K=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Bc(this,G,v),b=mt(this.I),Ge(b,"RID",d),Ge(b,"CVER",22),this.D&&Ge(b,"X-HTTP-Session-Id",this.D),Zs(this,b),K&&(this.O?v="headers="+encodeURIComponent(String(Ml(K)))+"&"+v:this.m&&zt(b,this.m,K)),zi(this.h,G),this.Ua&&Ge(b,"TYPE","init"),this.P?(Ge(b,"$req",v),Ge(b,"SID","null"),G.T=!0,nr(G,b,null)):nr(G,b,v),this.G=2}}else this.G==3&&(d?Pl(this,d):this.i.length==0||Cl(this.h)||Pl(this))};function Pl(d,v){var b;v?b=v.l:b=d.U++;const R=mt(d.I);Ge(R,"SID",d.K),Ge(R,"RID",b),Ge(R,"AID",d.T),Zs(d,R),d.m&&d.o&&zt(R,d.m,d.o),b=new mr(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Bc(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zi(d.h,b),nr(b,R,v)}function Zs(d,v){d.H&&oe(d.H,function(b,R){Ge(v,R,b)}),d.l&&qs({},function(b,R){Ge(v,R,b)})}function Bc(d,v,b){b=Math.min(d.i.length,b);var R=d.l?E(d.l.Na,d.l,d):null;e:{var G=d.i;let K=-1;for(;;){const le=["count="+b];K==-1?0<b?(K=G[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let He=!0;for(let Mt=0;Mt<b;Mt++){let Be=G[Mt].g;const jt=G[Mt].map;if(Be-=K,0>Be)K=Math.max(0,G[Mt].g-100),He=!1;else try{vr(jt,le,"req"+Be+"_")}catch{R&&R(jt)}}if(He){R=le.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,R}function zc(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Ee||U(),pe||(Ee(),pe=!0),Ke.add(v,d),d.v=0}}function Vl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ki(E(d.Fa,d),Ll(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ki(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),so(this),jc(this))};function Js(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function jc(d){d.g=new mr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=mt(d.qa);Ge(v,"RID","rpc"),Ge(v,"SID",d.K),Ge(v,"AID",d.T),Ge(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ge(v,"TO",d.ja),Ge(v,"TYPE","xmlhttp"),Zs(d,v),d.m&&d.o&&zt(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Qs(mt(v)),b.m=null,b.P=!0,zr(b,d)}n.Za=function(){this.C!=null&&(this.C=null,so(this),Vl(this),bt(19))};function oo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Fc(d,v){var b=null;if(d.g==v){oo(d),Js(d),d.g=null;var R=2}else if(Bi(d.h,v))b=v.D,Un(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var G=d.B;R=Wa(),Ht(R,new xc(R,b)),ao(d)}else zc(d);else if(G=v.s,G==3||G==0&&0<v.X||!(R==1&&eg(d,v)||R==2&&Vl(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),G){case 1:$r(d,5);break;case 4:$r(d,10);break;case 3:$r(d,6);break;default:$r(d,2)}}}function Ll(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function $r(d,v){if(d.j.info("Error code "+v),v==2){var b=E(d.fb,d),R=d.Xa;const G=!R;R=new jr(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ji(R,"https"),Qs(R),G?Vc(R.toString(),b):$s(R.toString(),b)}else bt(2);d.G=0,d.l&&d.l.sa(v),qc(d),Hc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function qc(d){if(d.G=0,d.ka=[],d.l){const v=gn(d.h);(v.length!=0||d.i.length!=0)&&(I(d.ka,v),I(d.ka,d.i),d.h.i.length=0,O(d.i),d.i.length=0),d.l.ra()}}function Gc(d,v,b){var R=b instanceof jr?mt(b):new jr(b);if(R.g!="")v&&(R.g=v+"."+R.g),Gs(R,R.s);else{var G=f.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var K=new jr(null);R&&ji(K,R),v&&(K.g=v),G&&Gs(K,G),b&&(K.l=b),R=K}return b=d.D,v=d.ya,b&&v&&Ge(R,b,v),Ge(R,"VER",d.la),Zs(d,R),R}function Qc(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Xe(new qi({eb:b})):new Xe(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}n=$c.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(d,v){return new pn(d,v)};function pn(d,v){Ot.call(this),this.g=new io(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!V(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Tr(this)}w(pn,Ot),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){kl(this.g)},pn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=bl(d),d=b);v.i.push(new Wh(v.Ya++,d)),v.G==3&&ao(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,pn.aa.N.call(this)};function Wc(d){Oi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}w(Wc,Oi);function Yc(){tr.call(this),this.status=1}w(Yc,tr);function Tr(d){this.g=d}w(Tr,$c),Tr.prototype.ua=function(){Ht(this.g,"a")},Tr.prototype.ta=function(d){Ht(this.g,new Wc(d))},Tr.prototype.sa=function(d){Ht(this.g,new Yc)},Tr.prototype.ra=function(){Ht(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,QS=function(){return new lo},GS=function(){return Wa()},qS=Ln,km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,hd=Nt,Br.COMPLETE="complete",FS=Br,Ic.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Iu=Ic,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,jS=Xe}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const Ub="@firebase/firestore",Hb="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new _y("@firebase/firestore");function Vo(){return Na.logLevel}function de(n,...e){if(Na.logLevel<=Pe.DEBUG){const t=e.map(My);Na.debug(`Firestore (${ol}): ${n}`,...t)}}function _i(n,...e){if(Na.logLevel<=Pe.ERROR){const t=e.map(My);Na.error(`Firestore (${ol}): ${n}`,...t)}}function Yo(n,...e){if(Na.logLevel<=Pe.WARN){const t=e.map(My);Na.warn(`Firestore (${ol}): ${n}`,...t)}}function My(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+n;throw _i(e),new Error(e)}function Ze(n,e){n||Se()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class dM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new $S(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new on(e)}}class gM{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pM{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new gM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Bb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new Bb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=yM(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function Pm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ne(r,s);{const o=WS(),u=vM(o.encode(zb(n,t)),o.encode(zb(e,t)));return u!==0?u:Ne(r,s)}}t+=r>65535?2:1}return Ne(n.length,e.length)}function zb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ne(n[t],e[t]);return Ne(n.length,e.length)}function Ko(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=-62135596800,Fb=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Fb);return new Lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jb)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fb}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Lt(0,0))}static max(){return new we(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__name__";class Ir{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(),r===void 0?r=e.length-t:r>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Ir.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Ne(e.length,t.length)}static compareSegments(e,t){const r=Ir.isNumericId(e),s=Ir.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ir.extractNumericId(e).compare(Ir.extractNumericId(t)):Pm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class st extends Ir{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new st(t)}static emptyPath(){return new st([])}}const _M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ir{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return _M.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qb}static keyField(){return new Jt([qb])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new he(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new he(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(o(),s++)}if(o(),u)throw new he(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function EM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new Lt(t+1,0):new Lt(t,r));return new ws(s,_e.empty(),e)}function bM(n){return new ws(n.readTime,n.key,Qu)}class ws{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ws(we.min(),_e.empty(),Qu)}static max(){return new ws(we.max(),_e.empty(),Qu)}}function TM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==AM)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let s=0,o=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++o,u&&o===s&&t()},h=>r(h))}),u=!0,o===s&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(s=>s?ne.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,s)=>{const o=e.length,u=new Array(o);let f=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(y=>{u[p]=y,++f,f===o&&r(u)},y=>s(y))}})}static doWhile(e,t){return new ne((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function wM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}dh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-1;function hh(n){return n==null}function Md(n){return n===0&&1/n==-1/0}function RM(n){return typeof n=="number"&&Number.isInteger(n)&&!Md(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="";function CM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gb(e)),e=DM(n.get(t),e);return Gb(e)}function DM(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case KS:t+="";break;default:t+=o}}return t}function Gb(n){return n+KS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kf(this.root,e,this.comparator,!0)}}class Kf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Zt(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,r,s,o){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(e){return new $b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class $b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Ut(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZS("Invalid base64 string: "+o):o}}(e);return new tn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const IM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=IM.exec(n);if(Ze(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="server_timestamp",ew="__type__",tw="__previous_value__",nw="__local_write_time__";function Py(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ew])===null||t===void 0?void 0:t.stringValue)===JS}function gh(n){const e=n.mapValue.fields[tw];return Py(e)?gh(e):e}function $u(n){const e=Rs(n.mapValue.fields[nw].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t,r,s,o,u,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p}}const kd="(default)";class Wu{constructor(e,t){this.projectId=e,this.database=t||kd}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===kd}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__type__",OM="__max__",Xf={mapValue:{}},iw="__vector__",Pd="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Py(n)?4:MM(n)?9007199254740991:NM(n)?10:11:Se()}function kr(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $u(n).isEqual($u(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Rs(s.timestampValue),f=Rs(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return Cs(s.bytesValue).isEqual(Cs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return At(s.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return At(s.integerValue)===At(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=At(s.doubleValue),f=At(o.doubleValue);return u===f?Md(u)===Md(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(Qb(u)!==Qb(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!kr(u[h],f[h])))return!1;return!0}(n,e);default:return Se()}}function Yu(n,e){return(n.values||[]).find(t=>kr(t,e))!==void 0}function Xo(n,e){if(n===e)return 0;const t=Ds(n),r=Ds(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=At(o.integerValue||o.doubleValue),h=At(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return Wb(n.timestampValue,e.timestampValue);case 4:return Wb($u(n),$u(e));case 5:return Pm(n.stringValue,e.stringValue);case 6:return function(o,u){const f=Cs(o),h=Cs(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),h=u.split("/");for(let p=0;p<f.length&&p<h.length;p++){const y=Ne(f[p],h[p]);if(y!==0)return y}return Ne(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Ne(At(o.latitude),At(u.latitude));return f!==0?f:Ne(At(o.longitude),At(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Yb(n.arrayValue,e.arrayValue);case 10:return function(o,u){var f,h,p,y;const _=o.fields||{},E=u.fields||{},A=(f=_[Pd])===null||f===void 0?void 0:f.arrayValue,w=(h=E[Pd])===null||h===void 0?void 0:h.arrayValue,O=Ne(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=w==null?void 0:w.values)===null||y===void 0?void 0:y.length)||0);return O!==0?O:Yb(A,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Xf.mapValue&&u===Xf.mapValue)return 0;if(o===Xf.mapValue)return 1;if(u===Xf.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),p=u.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const E=Pm(h[_],y[_]);if(E!==0)return E;const A=Xo(f[h[_]],p[y[_]]);if(A!==0)return A}return Ne(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Se()}}function Wb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Rs(n),r=Rs(e),s=Ne(t.seconds,r.seconds);return s!==0?s:Ne(t.nanos,r.nanos)}function Yb(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Xo(t[s],r[s]);if(o)return o}return Ne(t.length,r.length)}function Zo(n){return Vm(n)}function Vm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Rs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Vm(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Vm(t.fields[u])}`;return s+"}"}(n.mapValue):Se()}function gd(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(n);return e?16+gd(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+gd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Vs(r.fields,(o,u)=>{s+=o.length+gd(u)}),s}(n.mapValue);default:throw Se()}}function Kb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lm(n){return!!n&&"integerValue"in n}function Vy(n){return!!n&&"arrayValue"in n}function Xb(n){return!!n&&"nullValue"in n}function Zb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pd(n){return!!n&&"mapValue"in n}function NM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rw])===null||t===void 0?void 0:t.stringValue)===iw}function ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ku(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=Jt.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=ku(u):s.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());pd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];pd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Vs(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Sn(ku(this.value))}}function sw(n){const e=[];return Vs(n.fields,(t,r)=>{const s=new Jt([t]);if(pd(r)){const o=sw(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,s,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,we.min(),we.min(),we.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,s){return new ln(e,1,t,we.min(),r,s,0)}static newNoDocument(e,t){return new ln(e,2,t,we.min(),we.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,we.min(),we.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.position=e,this.inclusive=t}}function Jb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=Xo(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t="asc"){this.field=e,this.dir=t}}function kM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aw=class{};class xt extends aw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new VM(e,t,r):t==="array-contains"?new HM(e,r):t==="in"?new BM(e,r):t==="not-in"?new zM(e,r):t==="array-contains-any"?new jM(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LM(e,r):new UM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xo(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends aw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ur(e,t)}matches(e){return ow(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ow(n){return n.op==="and"}function lw(n){return PM(n)&&ow(n)}function PM(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function Um(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Zo(n.value);if(lw(n))return n.filters.map(e=>Um(e)).join(",");{const e=n.filters.map(t=>Um(t)).join(",");return`${n.op}(${e})`}}function uw(n,e){return n instanceof xt?function(r,s){return s instanceof xt&&r.op===s.op&&r.field.isEqual(s.field)&&kr(r.value,s.value)}(n,e):n instanceof ur?function(r,s){return s instanceof ur&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,f)=>o&&uw(u,s.filters[f]),!0):!1}(n,e):void Se()}function cw(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`}(n):n instanceof ur?function(t){return t.op.toString()+" {"+t.getFilters().map(cw).join(" ,")+"}"}(n):"Filter"}class VM extends xt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class LM extends xt{constructor(e,t){super(e,"in",t),this.keys=fw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UM extends xt{constructor(e,t){super(e,"not-in",t),this.keys=fw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class HM extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vy(t)&&Yu(t.arrayValue,this.value)}}class BM extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class zM extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Yu(this.value.arrayValue,t)}}class jM extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t=null,r=[],s=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.le=null}}function tT(n,e=null,t=[],r=[],s=null,o=null,u=null){return new FM(n,e,t,r,s,o,u)}function Ly(n){const e=Ce(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Um(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zo(r)).join(",")),e.le=t}return e.le}function Uy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eT(n.startAt,e.startAt)&&eT(n.endAt,e.endAt)}function Hm(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t=null,r=[],s=[],o=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function qM(n,e,t,r,s,o,u,f){return new cc(n,e,t,r,s,o,u,f)}function Hy(n){return new cc(n)}function nT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dw(n){return n.collectionGroup!==null}function Pu(n){const e=Ce(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ut(Jt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Ld(o,r))}),t.has(Jt.keyField().canonicalString())||e.he.push(new Ld(Jt.keyField(),r))}return e.he}function Nr(n){const e=Ce(n);return e.Pe||(e.Pe=GM(e,Pu(n))),e.Pe}function GM(n,e){if(n.limitType==="F")return tT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Ld(s.field,o)});const t=n.endAt?new Vd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Vd(n.startAt.position,n.startAt.inclusive):null;return tT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bm(n,e){const t=n.filters.concat([e]);return new cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zm(n,e,t){return new cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ph(n,e){return Uy(Nr(n),Nr(e))&&n.limitType===e.limitType}function hw(n){return`${Ly(Nr(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>cw(s)).join(", ")}]`),hh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Zo(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Zo(s)).join(",")),`Target(${r})`}(Nr(n))}; limitType=${n.limitType})`}function mh(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Pu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,f,h){const p=Jb(u,f,h);return u.inclusive?p<=0:p<0}(r.startAt,Pu(r),s)||r.endAt&&!function(u,f,h){const p=Jb(u,f,h);return u.inclusive?p>=0:p>0}(r.endAt,Pu(r),s))}(n,e)}function QM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gw(n){return(e,t)=>{let r=!1;for(const s of Pu(n)){const o=$M(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function $M(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,f){const h=u.data.field(o),p=f.data.field(o);return h!==null&&p!==null?Xo(h,p):Se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return XS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new ht(_e.comparator);function Ei(){return WM}const pw=new ht(_e.comparator);function xu(...n){let e=pw;for(const t of n)e=e.insert(t.key,t);return e}function mw(n){let e=pw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Aa(){return Vu()}function yw(){return Vu()}function Vu(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const YM=new ht(_e.comparator),KM=new Ut(_e.comparator);function Ve(...n){let e=KM;for(const t of n)e=e.add(t);return e}const XM=new Ut(Ne);function ZM(){return XM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Md(e)?"-0":e}}function vw(n){return{integerValue:""+n}}function JM(n,e){return RM(e)?vw(e):By(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function e2(n,e,t){return n instanceof Ud?function(s,o){const u={fields:{[ew]:{stringValue:JS},[nw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Py(o)&&(o=gh(o)),o&&(u.fields[tw]=o),{mapValue:u}}(t,e):n instanceof Ku?Ew(n,e):n instanceof Xu?bw(n,e):function(s,o){const u=_w(s,o),f=rT(u)+rT(s.Ie);return Lm(u)&&Lm(s.Ie)?vw(f):By(s.serializer,f)}(n,e)}function t2(n,e,t){return n instanceof Ku?Ew(n,e):n instanceof Xu?bw(n,e):t}function _w(n,e){return n instanceof Hd?function(r){return Lm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ud extends yh{}class Ku extends yh{constructor(e){super(),this.elements=e}}function Ew(n,e){const t=Tw(e);for(const r of n.elements)t.some(s=>kr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Xu extends yh{constructor(e){super(),this.elements=e}}function bw(n,e){let t=Tw(e);for(const r of n.elements)t=t.filter(s=>!kr(s,r));return{arrayValue:{values:t}}}class Hd extends yh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function rT(n){return At(n.integerValue||n.doubleValue)}function Tw(n){return Vy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function n2(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Ku&&s instanceof Ku||r instanceof Xu&&s instanceof Xu?Ko(r.elements,s.elements,kr):r instanceof Hd&&s instanceof Hd?kr(r.Ie,s.Ie):r instanceof Ud&&s instanceof Ud}(n.transform,e.transform)}class r2{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vh{}function Aw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zy(n.key,Jn.none()):new fc(n.key,n.data,Jn.none());{const t=n.data,r=Sn.empty();let s=new Ut(Jt.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Ls(n.key,r,new kn(s.toArray()),Jn.none())}}function i2(n,e,t){n instanceof fc?function(s,o,u){const f=s.value.clone(),h=sT(s.fieldTransforms,o,u.transformResults);f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ls?function(s,o,u){if(!md(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=sT(s.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(Sw(s)),h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Lu(n,e,t,r){return n instanceof fc?function(o,u,f,h){if(!md(o.precondition,u))return f;const p=o.value.clone(),y=aT(o.fieldTransforms,h,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ls?function(o,u,f,h){if(!md(o.precondition,u))return f;const p=aT(o.fieldTransforms,h,u),y=u.data;return y.setAll(Sw(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,f){return md(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function s2(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=_w(r.transform,s||null);o!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,o))}return t||null}function iT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ko(r,s,(o,u)=>n2(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fc extends vh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ls extends vh{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Sw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sT(n,e,t){const r=new Map;Ze(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,f=e.data.field(o.field);r.set(o.field,t2(u,f,t[s]))}return r}function aT(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,e2(o,u,e))}return r}class zy extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a2 extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&i2(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=yw();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(s.key)?null:f;const h=Aw(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,r)=>iT(t,r))&&Ko(this.baseMutations,e.baseMutations,(t,r)=>iT(t,r))}}class jy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ze(e.mutations.length===r.length);let s=function(){return YM}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new jy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,je;function c2(n){switch(n){case re.OK:return Se();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se()}}function ww(n){if(n===void 0)return _i("GRPC error has no .code"),re.UNKNOWN;switch(n){case It.OK:return re.OK;case It.CANCELLED:return re.CANCELLED;case It.UNKNOWN:return re.UNKNOWN;case It.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case It.INTERNAL:return re.INTERNAL;case It.UNAVAILABLE:return re.UNAVAILABLE;case It.UNAUTHENTICATED:return re.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case It.NOT_FOUND:return re.NOT_FOUND;case It.ALREADY_EXISTS:return re.ALREADY_EXISTS;case It.PERMISSION_DENIED:return re.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case It.ABORTED:return re.ABORTED;case It.OUT_OF_RANGE:return re.OUT_OF_RANGE;case It.UNIMPLEMENTED:return re.UNIMPLEMENTED;case It.DATA_LOSS:return re.DATA_LOSS;default:return Se()}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Ts([4294967295,4294967295],0);function oT(n){const e=WS().encode(n),t=new zS;return t.update(e),new Uint8Array(t.digest())}function lT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ts([t,r],0),new Ts([s,o],0)]}class Fy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ts.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(Ts.fromNumber(r)));return s.compare(f2)===1&&(s=new Ts([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=oT(e),[r,s]=lT(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,s,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Fy(o,s,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=oT(e),[r,s]=lT(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,s,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _h(we.min(),s,new ht(Ne),Ei(),Ve())}}class dc{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dc(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class Rw{constructor(e,t){this.targetId=e,this.ge=t}}class Cw{constructor(e,t,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class uT{constructor(){this.pe=0,this.ye=cT(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),r=Ve();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new dc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=cT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class d2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ei(),this.$e=Zf(),this.Ue=Zf(),this.Ke=new ht(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(Hm(o))if(r===0){const u=new _e(o.path);this.ze(t,u,ln.newNoDocument(u,we.min()))}else Ze(r===1);else{const u=this.et(t);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,f;try{u=Cs(r).toUint8Array()}catch(h){if(h instanceof ZS)return Yo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Fy(u,s,o)}catch(h){return Yo(h instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const f=this.Xe(u);if(f){if(o.current&&Hm(f.target)){const h=new _e(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,ln.newNoDocument(h,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Ve();this.Ue.forEach((o,u)=>{let f=!0;u.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const s=new _h(e,t,this.Ke,this.Qe,r);return this.Qe=Ei(),this.$e=Zf(),this.Ue=Zf(),this.Ke=new ht(Ne),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new uT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ut(Ne),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ut(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new uT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Zf(){return new ht(_e.comparator)}function cT(){return new ht(_e.comparator)}const h2={asc:"ASCENDING",desc:"DESCENDING"},g2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p2={and:"AND",or:"OR"};class m2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jm(n,e){return n.useProto3Json||hh(e)?e:{value:e}}function Bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function y2(n,e){return Bd(n,e.toTimestamp())}function Mr(n){return Ze(!!n),we.fromTimestamp(function(t){const r=Rs(t);return new Lt(r.seconds,r.nanos)}(n))}function qy(n,e){return Fm(n,e).canonicalString()}function Fm(n,e){const t=function(s){return new st(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Iw(n){const e=st.fromString(n);return Ze(kw(e)),e}function qm(n,e){return qy(n.databaseId,e.path)}function rm(n,e){const t=Iw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Ow(t))}function xw(n,e){return qy(n.databaseId,e)}function v2(n){const e=Iw(n);return e.length===4?st.emptyPath():Ow(e)}function Gm(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ow(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fT(n,e,t){return{name:qm(n,e),fields:t.value.mapValue.fields}}function _2(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string"),tn.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array),tn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const y=p.code===void 0?re.UNKNOWN:ww(p.code);return new he(y,p.message||"")}(u);t=new Cw(r,s,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=rm(n,r.document.name),o=Mr(r.document.updateTime),u=r.document.createTime?Mr(r.document.createTime):we.min(),f=new Sn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(s,o,u,f),p=r.targetIds||[],y=r.removedTargetIds||[];t=new yd(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=rm(n,r.document),o=r.readTime?Mr(r.readTime):we.min(),u=ln.newNoDocument(s,o),f=r.removedTargetIds||[];t=new yd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=rm(n,r.document),o=r.removedTargetIds||[];t=new yd([],o,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new u2(s,o),f=r.targetId;t=new Rw(f,u)}}return t}function E2(n,e){let t;if(e instanceof fc)t={update:fT(n,e.key,e.value)};else if(e instanceof zy)t={delete:qm(n,e.key)};else if(e instanceof Ls)t={update:fT(n,e.key,e.data),updateMask:I2(e.fieldMask)};else{if(!(e instanceof a2))return Se();t={verify:qm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof Ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ku)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Xu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Hd)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:y2(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se()}(n,e.precondition)),t}function b2(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(s,o){let u=s.updateTime?Mr(s.updateTime):Mr(o);return u.isEqual(we.min())&&(u=Mr(o)),new r2(u,s.transformResults||[])}(t,e))):[]}function T2(n,e){return{documents:[xw(n,e.path)]}}function A2(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=xw(n,s);const o=function(p){if(p.length!==0)return Mw(ur.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Uo(E.field),direction:R2(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=jm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function S2(n){let e=v2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ze(r===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(_){const E=Nw(_);return E instanceof ur&&lw(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(E=>function(w){return new Ld(Ho(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,hh(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(_){const E=!!_.before,A=_.values||[];return new Vd(A,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,A=_.values||[];return new Vd(A,E)}(t.endAt)),qM(e,s,u,o,f,"F",h,p)}function w2(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Nw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ho(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(t.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ho(t.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ho(t.unaryFilter.field);return xt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return xt.create(Ho(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ur.create(t.compositeFilter.filters.map(r=>Nw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function R2(n){return h2[n]}function C2(n){return g2[n]}function D2(n){return p2[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return Jt.fromServerFormat(n.fieldPath)}function Mw(n){return n instanceof xt?function(t){if(t.op==="=="){if(Zb(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NAN"}};if(Xb(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zb(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NAN"}};if(Xb(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(t.field),op:C2(t.op),value:t.value}}}(n):n instanceof ur?function(t){const r=t.getFilters().map(s=>Mw(s));return r.length===1?r[0]:{compositeFilter:{op:D2(t.op),filters:r}}}(n):Se()}function I2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,r,s,o=we.min(),u=we.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.Tt=e}}function O2(n){const e=S2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.Tn=new M2}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ws.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class M2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ut(st.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pw=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(Pw,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Jo(0)}static Kn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",k2=1048576;function gT([n,e],[t,r]){const s=Ne(n,t);return s===0?Ne(e,r):s}class P2{constructor(e){this.Hn=e,this.buffer=new Ut(gT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class V2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(hT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ul(t)?de(hT,"Ignoring IndexedDB error during garbage collection: ",t):await ll(t)}await this.er(3e5)})}}class L2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(dh.ae);const r=new P2(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(dT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,o,u,f,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Vo()<=Pe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function U2(n,e){return new L2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Lu(r.mutation,s,kn.empty(),Lt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const s=Aa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=xu();return o.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,s){let o=Ei();const u=Vu(),f=function(){return Vu()}();return t.forEach((h,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Ls)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Lu(y.mutation,p,y.mutation.getFieldMask(),Lt.now())):u.set(p.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var _;return f.set(p,new B2(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Vu();let s=new ht((u,f)=>u-f),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||kn.empty();y=f.applyToLocalView(p,y),r.set(h,y);const _=(s.get(f.batchId)||Ve()).add(h);s=s.insert(f.batchId,_)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,y=h.value,_=yw();y.forEach(E=>{if(!o.has(E)){const A=Aw(t.get(E),r.get(E));A!==null&&_.set(E,A),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ne.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):ne.resolve(Aa());let f=Qu,h=o;return u.next(p=>ne.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{h=h.insert(y,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,Ve())).next(y=>({batchId:f,changes:mw(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let s=xu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=xu();return this.indexManager.getCollectionParents(e,o).next(f=>ne.forEach(f,h=>{const p=function(_,E){return new cc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((h,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ln.newInvalidDocument(y)))});let f=xu();return u.forEach((h,p)=>{const y=o.get(h);y!==void 0&&Lu(y.mutation,p,kn.empty(),Lt.now()),mh(t,p)&&(f=f.insert(h,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:O2(s.bundledQuery),readTime:Mr(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.overlays=new ht(_e.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Aa();return ne.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Et(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const s=Aa(),o=t.length+1,u=new _e(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new ht((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=Aa(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Aa(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=s)););return ne.resolve(f)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new l2(t,r));let o=this.Rr.get(t);o===void 0&&(o=Ve(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Vr=new Ut(Qt.mr),this.gr=new Ut(Qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Qt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new st([])),r=new Qt(t,e),s=new Qt(t,e+1),o=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new st([])),r=new Qt(t,e),s=new Qt(t,e+1);let o=Ve();return this.gr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Qt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ut(Qt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new o2(o,t,r,s);this.mutationQueue.push(u);for(const f of s)this.Mr=this.Mr.add(new Qt(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ky:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),s=new Qt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,s],u=>{const f=this.Or(u.Cr);o.push(f)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ut(Ne);return t.forEach(s=>{const o=new Qt(s,0),u=new Qt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],f=>{r=r.add(f.Cr)})}),ne.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new Qt(new _e(o),0);let f=new Ut(Ne);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(f=f.add(h.Cr)),!0)},u),ne.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ne.forEach(t.mutations,s=>{const o=new Qt(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Qt(t,0),s=this.Mr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.kr=e,this.docs=function(){return new ht(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Ei();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ln.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Ei();const u=t.path,f=new _e(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||TM(bM(y),r)<=0||(s.has(y.key)||mh(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Se()}qr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $2(this)}getSize(e){return ne.resolve(this.size)}}class $2 extends H2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.persistence=e,this.Qr=new La(t=>Ly(t),Uy),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Gy,this.targetCount=0,this.Kr=Jo.Un()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ne.waitFor(o).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new dh(0),this.zr=!1,this.zr=!0,this.jr=new q2,this.referenceDelegate=e(this),this.Hr=new W2(this),this.indexManager=new N2,this.remoteDocumentCache=function(s){return new Q2(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new x2(t),this.Yr=new j2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new F2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new G2(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new Y2(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return ne.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Y2 extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.ti=new Gy,this.ni=null}static ri(e){return new Qy(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,r=>{const s=_e.fromPath(r);return this.si(e,s).next(o=>{o||t.removeEntry(s,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class zd{constructor(e,t){this.persistence=e,this.oi=new La(r=>CM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=U2(this,t)}static ri(e,t){return new zd(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(o=>o?ne.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(f=>{f||(r++,o.removeEntry(u,we.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gd(e.data.value)),t}ar(e,t,r){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Ve(),s=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new $y(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return OI()?8:wM(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new K2;return this._s(e,t,u).next(f=>{if(o.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>o.result)}us(e,t,r,s){return r.documentReadCount<this.es?(Vo()<=Pe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(Vo()<=Pe.DEBUG&&de("QueryEngine","Query:",Lo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Vo()<=Pe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):ne.resolve())}rs(e,t){if(nT(t))return ne.resolve(null);let r=Nr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=zm(t,null,"F"),r=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,f);return this.ls(t,p,u,h.readTime)?this.rs(e,zm(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,s){return nT(t)||s.isEqual(we.min())?ne.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,s)?ne.resolve(null):(Vo()<=Pe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lo(t)),this.hs(e,u,t,EM(s,Qu)).next(f=>f))})}cs(e,t){let r=new Ut(gw(e));return t.forEach((s,o)=>{mh(e,o)&&(r=r.add(o))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,r){return Vo()<=Pe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ns.getDocumentsMatchingQuery(e,t,ws.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",Z2=3e8;class J2{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new ht(Ne),this.Is=new La(o=>Ly(o),Uy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ek(n,e,t,r){return new J2(n,e,t,r)}async function Lw(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let h=Ve();for(const p of s){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of o){f.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:f}))})})}function tk(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,p,y){const _=p.batch,E=_.keys();let A=ne.resolve();return E.forEach(w=>{A=A.next(()=>y.getEntry(h,w)).next(O=>{const I=p.docVersions.get(w);Ze(I!==null),O.version.compareTo(I)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(h,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=Ve();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Uw(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function nk(n,e){const t=Ce(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const f=[];e.targetChanges.forEach((y,_)=>{const E=s.get(_);if(!E)return;f.push(t.Hr.removeMatchingKeys(o,y.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,y.addedDocuments,_)));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(tn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),s=s.insert(_,A),function(O,I,x){return O.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Z2?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(E,A,y)&&f.push(t.Hr.updateTargetData(o,A))});let h=Ei(),p=Ve();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(rk(o,u,e.documentUpdates).next(y=>{h=y.Vs,p=y.fs})),!r.isEqual(we.min())){const y=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(y)}return ne.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ts=s,o))}function rk(n,e,t){let r=Ve(),s=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Ei();return t.forEach((f,h)=>{const p=o.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(we.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):de(Wy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)}),{Vs:u,fs:s}})}function ik(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ky),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sk(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(o=>o?(s=o,ne.resolve(s)):t.Hr.allocateTargetId(r).next(u=>(s=new ps(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Qm(n,e,t){const r=Ce(n),s=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ul(u))throw u;de(Wy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function pT(n,e,t){const r=Ce(n);let s=we.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,y){const _=Ce(h),E=_.Is.get(y);return E!==void 0?ne.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,y)}(r,u,Nr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?s:we.min(),t?o:Ve())).next(f=>(ak(r,QM(e),f),{documents:f,gs:o})))}function ak(n,e,t){let r=n.Es.get(e)||we.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class mT{constructor(){this.activeTargetIds=ZM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ok{constructor(){this.ho=new mT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new mT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="ConnectivityMonitor";class vT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(yT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(yT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function $m(){return Jf===null?Jf=function(){return 268435456+Math.round(2147483648*Math.random())}():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",uk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ck{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===kd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,o){const u=$m(),f=this.bo(e,t.toUriEncodedString());de(im,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,o),this.vo(e,f,h,r).then(p=>(de(im,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Yo(im,`RPC '${e}' ${u} failed with error: `,p,"url: ",f,"request:",r),p})}Co(e,t,r,s,o,u){return this.So(e,t,r,s,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const r=uk[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class dk extends ck{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const o=$m();return new Promise((u,f)=>{const h=new jS;h.setWithCredentials(!0),h.listenOnce(FS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case hd.NO_ERROR:const y=h.getResponseJson();de(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case hd.TIMEOUT:de(an,`RPC '${e}' ${o} timed out`),f(new he(re.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:const _=h.getStatus();if(de(an,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const w=function(I){const x=I.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(x)>=0?x:re.UNKNOWN}(A.status);f(new he(w,A.message))}else f(new he(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new he(re.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{de(an,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(s);de(an,`RPC '${e}' ${o} sending request:`,s),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=$m(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=QS(),f=GS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=o.join("");de(an,`Creating RPC '${e}' stream ${s}: ${y}`,h);const _=u.createWebChannel(y,h);let E=!1,A=!1;const w=new fk({Fo:I=>{A?de(an,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(E||(de(an,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),de(an,`RPC '${e}' stream ${s} sending:`,I),_.send(I))},Mo:()=>_.close()}),O=(I,x,V)=>{I.listen(x,H=>{try{V(H)}catch(Z){setTimeout(()=>{throw Z},0)}})};return O(_,Iu.EventType.OPEN,()=>{A||(de(an,`RPC '${e}' stream ${s} transport opened.`),w.Qo())}),O(_,Iu.EventType.CLOSE,()=>{A||(A=!0,de(an,`RPC '${e}' stream ${s} transport closed`),w.Uo())}),O(_,Iu.EventType.ERROR,I=>{A||(A=!0,Yo(an,`RPC '${e}' stream ${s} transport errored:`,I),w.Uo(new he(re.UNAVAILABLE,"The operation could not be completed")))}),O(_,Iu.EventType.MESSAGE,I=>{var x;if(!A){const V=I.data[0];Ze(!!V);const H=V,Z=(H==null?void 0:H.error)||((x=H[0])===null||x===void 0?void 0:x.error);if(Z){de(an,`RPC '${e}' stream ${s} received error:`,Z);const se=Z.status;let oe=function(D){const k=It[D];if(k!==void 0)return ww(k)}(se),M=Z.message;oe===void 0&&(oe=re.INTERNAL,M="Unknown error status: "+se+" with message "+Z.message),A=!0,w.Uo(new he(oe,M)),_.close()}else de(an,`RPC '${e}' stream ${s} received:`,V),w.Ko(V)}}),O(f,qS.STAT_EVENT,I=>{I.stat===km.PROXY?de(an,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===km.NOPROXY&&de(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(n){return new m2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="PersistentStream";class Bw{constructor(e,t,r,s,o,u,f,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Hw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new he(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(_T,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(de(_T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hk extends Bw{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=_2(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?Mr(u.readTime):we.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Gm(this.serializer),t.addTarget=function(o,u){let f;const h=u.target;if(f=Hm(h)?{documents:T2(o,h)}:{query:A2(o,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Dw(o,u.resumeToken);const p=jm(o,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(we.min())>0){f.readTime=Bd(o,u.snapshotVersion.toTimestamp());const p=jm(o,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=w2(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Gm(this.serializer),t.removeTarget=e,this.I_(t)}}class gk extends Bw{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=b2(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Gm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>E2(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{}class mk extends pk{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,Fm(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(re.UNKNOWN,o.toString())})}Co(e,t,r,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Fm(t,r),s,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(re.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class yk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_i(t),this.N_=!1):de("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class vk{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{Ua(this)&&(de(Ma,"Restarting streams for network reachability change."),await async function(h){const p=Ce(h);p.W_.add(4),await hc(p),p.j_.set("Unknown"),p.W_.delete(4),await bh(p)}(this))})}),this.j_=new yk(r,s)}}async function bh(n){if(Ua(n))for(const e of n.G_)await e(!0)}async function hc(n){for(const e of n.G_)await e(!1)}function zw(n,e){const t=Ce(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Zy(t)?Xy(t):cl(t).c_()&&Ky(t,e))}function Yy(n,e){const t=Ce(n),r=cl(t);t.K_.delete(e),r.c_()&&jw(t,e),t.K_.size===0&&(r.c_()?r.P_():Ua(t)&&t.j_.set("Unknown"))}function Ky(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cl(n).y_(e)}function jw(n,e){n.H_.Ne(e),cl(n).w_(e)}function Xy(n){n.H_=new d2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),cl(n).start(),n.j_.B_()}function Zy(n){return Ua(n)&&!cl(n).u_()&&n.K_.size>0}function Ua(n){return Ce(n).W_.size===0}function Fw(n){n.H_=void 0}async function _k(n){n.j_.set("Online")}async function Ek(n){n.K_.forEach((e,t)=>{Ky(n,e)})}async function bk(n,e){Fw(n),Zy(n)?(n.j_.q_(e),Xy(n)):n.j_.set("Unknown")}async function Tk(n,e,t){if(n.j_.set("Online"),e instanceof Cw&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const f of o.targetIds)s.K_.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.K_.delete(f),s.H_.removeTarget(f))}(n,e)}catch(r){de(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jd(n,r)}else if(e instanceof yd?n.H_.We(e):e instanceof Rw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(we.min()))try{const r=await Uw(n.localStore);t.compareTo(r)>=0&&await function(o,u){const f=o.H_.ot(u);return f.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.K_.get(p);y&&o.K_.set(p,y.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,p)=>{const y=o.K_.get(h);if(!y)return;o.K_.set(h,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),jw(o,h);const _=new ps(y.target,h,p,y.sequenceNumber);Ky(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){de(Ma,"Failed to raise snapshot:",r),await jd(n,r)}}async function jd(n,e,t){if(!ul(e))throw e;n.W_.add(1),await hc(n),n.j_.set("Offline"),t||(t=()=>Uw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Ma,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await bh(n)})}function qw(n,e){return e().catch(t=>jd(n,t,e))}async function Th(n){const e=Ce(n),t=Is(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ky;for(;Ak(e);)try{const s=await ik(e.localStore,r);if(s===null){e.U_.length===0&&t.P_();break}r=s.batchId,Sk(e,s)}catch(s){await jd(e,s)}Gw(e)&&Qw(e)}function Ak(n){return Ua(n)&&n.U_.length<10}function Sk(n,e){n.U_.push(e);const t=Is(n);t.c_()&&t.S_&&t.b_(e.mutations)}function Gw(n){return Ua(n)&&!Is(n).u_()&&n.U_.length>0}function Qw(n){Is(n).start()}async function wk(n){Is(n).C_()}async function Rk(n){const e=Is(n);for(const t of n.U_)e.b_(t.mutations)}async function Ck(n,e,t){const r=n.U_.shift(),s=jy.from(r,e,t);await qw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Th(n)}async function Dk(n,e){e&&Is(n).S_&&await async function(r,s){if(function(u){return c2(u)&&u!==re.ABORTED}(s.code)){const o=r.U_.shift();Is(r).h_(),await qw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Th(r)}}(n,e),Gw(n)&&Qw(n)}async function ET(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),de(Ma,"RemoteStore received new credentials");const r=Ua(t);t.W_.add(3),await hc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await bh(t)}async function Ik(n,e){const t=Ce(n);e?(t.W_.delete(2),await bh(t)):e||(t.W_.add(2),await hc(t),t.j_.set("Unknown"))}function cl(n){return n.J_||(n.J_=function(t,r,s){const o=Ce(t);return o.M_(),new hk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:_k.bind(null,n),No:Ek.bind(null,n),Lo:bk.bind(null,n),p_:Tk.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Zy(n)?Xy(n):n.j_.set("Unknown")):(await n.J_.stop(),Fw(n))})),n.J_}function Is(n){return n.Y_||(n.Y_=function(t,r,s){const o=Ce(t);return o.M_(),new gk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:wk.bind(null,n),Lo:Dk.bind(null,n),D_:Rk.bind(null,n),v_:Ck.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Th(n)):(await n.Y_.stop(),n.U_.length>0&&(de(Ma,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,f=new Jy(e,t,u,s,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(n,e){if(_i("AsyncQueue",`${e}: ${n}`),ul(n))return new he(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=xu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.Z_=new ht(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class el{constructor(e,t,r,s,o,u,f,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new el(e,t,Go.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ok{constructor(){this.queries=TT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Ce(t),o=s.queries;s.queries=TT(),o.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new he(re.ABORTED,"Firestore shutting down"))}}function TT(){return new La(n=>hw(n),ph)}async function $w(n,e){const t=Ce(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(r=2):(o=new xk,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=ev(u,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&tv(t)}async function Ww(n,e){const t=Ce(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Nk(n,e){const t=Ce(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const f of u.ta)f.oa(s)&&(r=!0);u.ea=s}}r&&tv(t)}function Mk(n,e,t){const r=Ce(n),s=r.queries.get(e);if(s)for(const o of s.ta)o.onError(t);r.queries.delete(e)}function tv(n){n.ia.forEach(e=>{e.next()})}var Wm,AT;(AT=Wm||(Wm={}))._a="default",AT.Cache="cache";class Yw{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.key=e}}class Xw{constructor(e){this.key=e}}class kk{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=gw(e),this.wa=new Go(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new bT,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const E=s.get(y),A=mh(this.query,_)?_:null,w=!!E&&this.mutatedKeys.has(E.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;E&&A?E.data.isEqual(A.data)?w!==O&&(r.track({type:3,doc:A}),I=!0):this.va(E,A)||(r.track({type:2,doc:A}),I=!0,(h&&this.ya(A,h)>0||p&&this.ya(A,p)<0)&&(f=!0)):!E&&A?(r.track({type:0,doc:A}),I=!0):E&&!A&&(r.track({type:1,doc:E}),I=!0,(h||p)&&(f=!0)),I&&(A?(u=u.add(A),o=O?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{wa:u,Da:r,ls:f,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((y,_)=>function(A,w){const O=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return O(A)-O(w)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(r),s=s!=null&&s;const f=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,p=h!==this.ga;return this.ga=h,u.length!==0||p?{snapshot:new el(this.query,e.wa,o,u,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Xw(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Kw(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return el.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const nv="SyncEngine";class Pk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Vk{constructor(e){this.key=e,this.Ba=!1}}class Lk{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new La(f=>hw(f),ph),this.qa=new Map,this.Qa=new Set,this.$a=new ht(_e.comparator),this.Ua=new Map,this.Ka=new Gy,this.Wa={},this.Ga=new Map,this.za=Jo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Uk(n,e,t=!0){const r=rR(n);let s;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await Zw(r,e,t,!0),s}async function Hk(n,e){const t=rR(n);await Zw(t,e,!0,!1)}async function Zw(n,e,t,r){const s=await sk(n.localStore,Nr(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let f;return r&&(f=await Bk(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&zw(n.remoteStore,s),f}async function Bk(n,e,t,r,s){n.Ha=(_,E,A)=>async function(O,I,x,V){let H=I.view.ba(x);H.ls&&(H=await pT(O.localStore,I.query,!1).then(({documents:M})=>I.view.ba(M,H)));const Z=V&&V.targetChanges.get(I.targetId),se=V&&V.targetMismatches.get(I.targetId)!=null,oe=I.view.applyChanges(H,O.isPrimaryClient,Z,se);return wT(O,I.targetId,oe.Ma),oe.snapshot}(n,_,E,A);const o=await pT(n.localStore,e,!0),u=new kk(e,o.gs),f=u.ba(o.documents),h=dc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(f,n.isPrimaryClient,h);wT(n,t,p.Ma);const y=new Pk(e,t,u);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function zk(n,e,t){const r=Ce(n),s=r.ka.get(e),o=r.qa.get(s.targetId);if(o.length>1)return r.qa.set(s.targetId,o.filter(u=>!ph(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Yy(r.remoteStore,s.targetId),Ym(r,s.targetId)}).catch(ll)):(Ym(r,s.targetId),await Qm(r.localStore,s.targetId,!0))}async function jk(n,e){const t=Ce(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(t.remoteStore,r.targetId))}async function Fk(n,e,t){const r=Kk(n);try{const s=await function(u,f){const h=Ce(u),p=Lt.now(),y=f.reduce((A,w)=>A.add(w.key),Ve());let _,E;return h.persistence.runTransaction("Locally write mutations","readwrite",A=>{let w=Ei(),O=Ve();return h.ds.getEntries(A,y).next(I=>{w=I,w.forEach((x,V)=>{V.isValidDocument()||(O=O.add(x))})}).next(()=>h.localDocuments.getOverlayedDocuments(A,w)).next(I=>{_=I;const x=[];for(const V of f){const H=s2(V,_.get(V.key).overlayedDocument);H!=null&&x.push(new Ls(V.key,H,sw(H.value.mapValue),Jn.exists(!0)))}return h.mutationQueue.addMutationBatch(A,p,x,f)}).next(I=>{E=I;const x=I.applyToLocalDocumentSet(_,O);return h.documentOverlayCache.saveOverlays(A,I.batchId,x)})}).then(()=>({batchId:E.batchId,changes:mw(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,h){let p=u.Wa[u.currentUser.toKey()];p||(p=new ht(Ne)),p=p.insert(f,h),u.Wa[u.currentUser.toKey()]=p}(r,s.batchId,t),await gc(r,s.changes),await Th(r.remoteStore)}catch(s){const o=ev(s,"Failed to persist write");t.reject(o)}}async function Jw(n,e){const t=Ce(n);try{const r=await nk(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Ua.get(o);u&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?Ze(u.Ba):s.removedDocuments.size>0&&(Ze(u.Ba),u.Ba=!1))}),await gc(t,r,e)}catch(r){await ll(r)}}function ST(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((o,u)=>{const f=u.view.sa(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const h=Ce(u);h.onlineState=f;let p=!1;h.queries.forEach((y,_)=>{for(const E of _.ta)E.sa(f)&&(p=!0)}),p&&tv(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qk(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ua.get(e),o=s&&s.key;if(o){let u=new ht(_e.comparator);u=u.insert(o,ln.newNoDocument(o,we.min()));const f=Ve().add(o),h=new _h(we.min(),new Map,new ht(Ne),u,f);await Jw(r,h),r.$a=r.$a.remove(o),r.Ua.delete(e),rv(r)}else await Qm(r.localStore,e,!1).then(()=>Ym(r,e,t)).catch(ll)}async function Gk(n,e){const t=Ce(n),r=e.batch.batchId;try{const s=await tk(t.localStore,e);tR(t,r,null),eR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gc(t,s)}catch(s){await ll(s)}}async function Qk(n,e,t){const r=Ce(n);try{const s=await function(u,f){const h=Ce(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,f).next(_=>(Ze(_!==null),y=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);tR(r,e,t),eR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gc(r,s)}catch(s){await ll(s)}}function eR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function tR(n,e,t){const r=Ce(n);let s=r.Wa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||nR(n,r)})}function nR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Yy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),rv(n))}function wT(n,e,t){for(const r of t)r instanceof Kw?(n.Ka.addReference(r.key,e),$k(n,r)):r instanceof Xw?(de(nv,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||nR(n,r.key)):Se()}function $k(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(de(nv,"New document in limbo: "+t),n.Qa.add(r),rv(n))}function rv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(st.fromString(e)),r=n.za.next();n.Ua.set(r,new Vk(t)),n.$a=n.$a.insert(t,r),zw(n.remoteStore,new ps(Nr(Hy(t.path)),r,"TargetPurposeLimboResolution",dh.ae))}}async function gc(n,e,t){const r=Ce(n),s=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=$y.Yi(h.targetId,p);o.push(_)}}))}),await Promise.all(u),r.La.p_(s),await async function(h,p){const y=Ce(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ne.forEach(p,E=>ne.forEach(E.Hi,A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>ne.forEach(E.Ji,A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!ul(_))throw _;de(Wy,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.Ts.get(E),w=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(w);y.Ts=y.Ts.insert(E,O)}}}(r.localStore,o))}async function Wk(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){de(nv,"User change. New user:",e.toKey());const r=await Lw(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(f=>{f.forEach(h=>{h.reject(new he(re.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(t,r.Rs)}}function Yk(n,e){const t=Ce(n),r=t.Ua.get(e);if(r&&r.Ba)return Ve().add(r.key);{let s=Ve();const o=t.qa.get(e);if(!o)return s;for(const u of o){const f=t.ka.get(u);s=s.unionWith(f.view.Sa)}return s}}function rR(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qk.bind(null,e),e.La.p_=Nk.bind(null,e.eventManager),e.La.Ja=Mk.bind(null,e.eventManager),e}function Kk(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qk.bind(null,e),e}class Fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ek(this.persistence,new X2,e.initialUser,this.serializer)}Xa(e){return new Vw(Qy.ri,this.serializer)}Za(e){return new ok}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fd.provider={build:()=>new Fd};class Xk extends Fd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof zd);const r=this.persistence.referenceDelegate.garbageCollector;return new V2(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Vw(r=>zd.ri(r,t),this.serializer)}}class Km{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ST(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wk.bind(null,this.syncEngine),await Ik(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ok}()}createDatastore(e){const t=Eh(e.databaseInfo.databaseId),r=function(o){return new dk(o)}(e.databaseInfo);return function(o,u,f,h){return new mk(o,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,f){return new vk(r,s,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>ST(this.syncEngine,t,0),function(){return vT.D()?new vT:new lk}())}createSyncEngine(e,t){return function(s,o,u,f,h,p,y){const _=new Lk(s,o,u,f,h,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Ce(s);de(Ma,"RemoteStore shutting down."),o.W_.add(5),await hc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class Zk{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=YS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{de(xs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(de(xs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ev(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(n,e){n.asyncQueue.verifyOperationInProgress(),de(xs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Lw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function RT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Jk(n);de(xs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ET(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>ET(e.remoteStore,s)),n._onlineComponents=e}async function Jk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(xs,"Using user provided OfflineComponentProvider");try{await am(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),await am(n,new Fd)}}else de(xs,"Using default OfflineComponentProvider"),await am(n,new Xk(void 0));return n._offlineComponents}async function sR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(xs,"Using user provided OnlineComponentProvider"),await RT(n,n._uninitializedComponentsProvider._online)):(de(xs,"Using default OnlineComponentProvider"),await RT(n,new Km))),n._onlineComponents}function eP(n){return sR(n).then(e=>e.syncEngine)}async function aR(n){const e=await sR(n),t=e.eventManager;return t.onListen=Uk.bind(null,e.syncEngine),t.onUnlisten=zk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Hk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jk.bind(null,e.syncEngine),t}function tP(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,h,p){const y=new iR({next:E=>{y.su(),u.enqueueAndForget(()=>Ww(o,_));const A=E.docs.has(f);!A&&E.fromCache?p.reject(new he(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&h&&h.source==="server"?p.reject(new he(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new Yw(Hy(f.path),y,{includeMetadataChanges:!0,Ta:!0});return $w(o,_)}(await aR(n),n.asyncQueue,e,t,r)),r.promise}function nP(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,h,p){const y=new iR({next:E=>{y.su(),u.enqueueAndForget(()=>Ww(o,_)),E.fromCache&&h.source==="server"?p.reject(new he(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new Yw(f,y,{includeMetadataChanges:!0,Ta:!0});return $w(o,_)}(await aR(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n,e,t){if(!t)throw new he(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rP(n,e,t,r){if(e===!0&&r===!0)throw new he(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DT(n){if(!_e.isDocumentKey(n))throw new he(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IT(n){if(_e.isDocumentKey(n))throw new he(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ah(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(n);throw new he(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firestore.googleapis.com",xT=!0;class OT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uR,this.ssl=xT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:xT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k2)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fM;switch(r.type){case"firstParty":return new pM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=CT.get(t);r&&(de("ComponentProvider","Removing Datastore"),CT.delete(t),r.terminate())}(this),Promise.resolve()}}function iP(n,e,t,r={}){var s;const o=(n=cr(n,Sh))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o.host!==uR&&o.host!==f&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:f,ssl:!1,emulatorOptions:r});if(!Da(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=on.MOCK_USER;else{p=SI(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new he(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}n._authCredentials=new dM(new $S(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class _n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class As extends fl{constructor(e,t,r){super(e,t,Hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new _e(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function sP(n,e,...t){if(n=en(n),lR("collection","path",e),n instanceof Sh){const r=st.fromString(e,...t);return IT(r),new As(n,null,r)}{if(!(n instanceof _n||n instanceof As))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return IT(r),new As(n.firestore,null,r)}}function pc(n,e,...t){if(n=en(n),arguments.length===1&&(e=YS.newId()),lR("doc","path",e),n instanceof Sh){const r=st.fromString(e,...t);return DT(r),new _n(n,null,new _e(r))}{if(!(n instanceof _n||n instanceof As))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return DT(r),new _n(n.firestore,n instanceof As?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Hw(this,"async_queue_retry"),this.Su=()=>{const r=sm();r&&de(NT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=sm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new pi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ul(e))throw e;de(NT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw _i("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Jy.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ha extends Sh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new MT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function aP(n,e){const t=typeof n=="object"?n:iS(),r=typeof n=="string"?n:kd,s=by(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=TI("firestore");o&&iP(s,...o)}return s}function iv(n){if(n._terminated)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oP(n),n._firestoreClient}function oP(n){var e,t,r;const s=n._freezeSettings(),o=function(f,h,p,y){return new xM(f,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,oR(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Zk(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(tn.fromBase64String(e))}catch(t){throw new he(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=/^__.*__$/;class uP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class cR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class lv{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fR(this.Lu)&&lP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Eh(e)}ju(e,t,r,s=!1){return new lv({Lu:e,methodName:t,zu:r,path:Jt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(n){const e=n._freezeSettings(),t=Eh(n._databaseId);return new cP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dR(n,e,t,r,s,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,s);uv("Data must be an object, but it was:",u,r);const f=hR(r,u);let h,p;if(o.merge)h=new kn(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=Xm(e,_,t);if(!u.contains(E))throw new he(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);pR(y,E)||y.push(E)}h=new kn(y),p=u.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=u.fieldTransforms;return new uP(new Sn(f),h,p)}class Ch extends sv{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function fP(n,e,t,r){const s=n.ju(1,e,t);uv("Data must be an object, but it was:",s,r);const o=[],u=Sn.empty();Vs(r,(h,p)=>{const y=cv(e,h,t);p=en(p);const _=s.Uu(y);if(p instanceof Ch)o.push(y);else{const E=mc(p,_);E!=null&&(o.push(y),u.set(y,E))}});const f=new kn(o);return new cR(u,f,s.fieldTransforms)}function dP(n,e,t,r,s,o){const u=n.ju(1,e,t),f=[Xm(e,r,t)],h=[s];if(o.length%2!=0)throw new he(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)f.push(Xm(e,o[E])),h.push(o[E+1]);const p=[],y=Sn.empty();for(let E=f.length-1;E>=0;--E)if(!pR(p,f[E])){const A=f[E];let w=h[E];w=en(w);const O=u.Uu(A);if(w instanceof Ch)p.push(A);else{const I=mc(w,O);I!=null&&(p.push(A),y.set(A,I))}}const _=new kn(p);return new cR(y,_,u.fieldTransforms)}function hP(n,e,t,r=!1){return mc(t,n.ju(r?4:3,e))}function mc(n,e){if(gR(n=en(n)))return uv("Unsupported field value:",e,n),hR(n,e);if(n instanceof sv)return function(r,s){if(!fR(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const f of r){let h=mc(f,s.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:Bd(s.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(s.serializer,o)}}if(r instanceof av)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tl)return{bytesValue:Dw(s.serializer,r._byteString)};if(r instanceof _n){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ov)return function(u,f){return{mapValue:{fields:{[rw]:{stringValue:iw},[Pd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return By(f.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Ah(r)}`)}(n,e)}function hR(n,e){const t={};return XS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(n,(r,s)=>{const o=mc(s,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function gR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof av||n instanceof tl||n instanceof _n||n instanceof sv||n instanceof ov)}function uv(n,e,t){if(!gR(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Ah(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Xm(n,e,t){if((e=en(e))instanceof wh)return e._internalPath;if(typeof e=="string")return cv(n,e);throw qd("Field path arguments must be of type string or ",n,!1,void 0,t)}const gP=new RegExp("[~\\*/\\[\\]]");function cv(n,e,t){if(e.search(gP)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wh(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qd(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new he(re.INVALID_ARGUMENT,f+n+h)}function pR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pP extends mR{data(){return super.data()}}function fv(n,e){return typeof e=="string"?cv(n,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dv{}class yP extends dv{}function vP(n,e,...t){let r=[];e instanceof dv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(h=>h instanceof hv).length,f=o.filter(h=>h instanceof Dh).length;if(u>1||u>0&&f>0)throw new he(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Dh extends yP{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Dh(e,t,r)}_apply(e){const t=this._parse(e);return yR(e._query,t),new fl(e.firestore,e.converter,Bm(e._query,t))}_parse(e){const t=Rh(e.firestore);return function(o,u,f,h,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){PT(_,y);const w=[];for(const O of _)w.push(kT(h,o,O));E={arrayValue:{values:w}}}else E=kT(h,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||PT(_,y),E=hP(f,u,_,y==="in"||y==="not-in");return xt.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _P(n,e,t){const r=e,s=fv("where",n);return Dh._create(s,r,t)}class hv extends dv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const f=o.getFlattenedFilters();for(const h of f)yR(u,h),u=Bm(u,h)}(e._query,t),new fl(e.firestore,e.converter,Bm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kT(n,e,t){if(typeof(t=en(t))=="string"){if(t==="")throw new he(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(e)&&t.indexOf("/")!==-1)throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!_e.isDocumentKey(r))throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kb(n,new _e(r))}if(t instanceof _n)return Kb(n,t._key);throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function PT(n,e){if(!Array.isArray(n)||n.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yR(n,e){const t=function(s,o){for(const u of s)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EP{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Vs(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Pd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>At(u.doubleValue));return new ov(o)}convertGeoPoint(e){return new av(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Ze(kw(r));const s=new Wu(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return s.isEqual(t)||_i(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _R extends mR{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vd extends _R{data(e={}){return super.data(e)}}class bP{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vd(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const h=new vd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Nu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const h=new vd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Nu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:TP(f.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n){n=cr(n,_n);const e=cr(n.firestore,Ha);return tP(iv(e),n._key).then(t=>DP(e,n,t))}class ER extends EP{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function AP(n){n=cr(n,fl);const e=cr(n.firestore,Ha),t=iv(e),r=new ER(e);return mP(n._query),nP(t,n._query).then(s=>new bP(e,r,n,s))}function SP(n,e,t){n=cr(n,_n);const r=cr(n.firestore,Ha),s=vR(n.converter,e);return Ih(r,[dR(Rh(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Jn.none())])}function wP(n,e,t,...r){n=cr(n,_n);const s=cr(n.firestore,Ha),o=Rh(s);let u;return u=typeof(e=en(e))=="string"||e instanceof wh?dP(o,"updateDoc",n._key,e,t,r):fP(o,"updateDoc",n._key,e),Ih(s,[u.toMutation(n._key,Jn.exists(!0))])}function RP(n){return Ih(cr(n.firestore,Ha),[new zy(n._key,Jn.none())])}function CP(n,e){const t=cr(n.firestore,Ha),r=pc(n),s=vR(n.converter,e);return Ih(t,[dR(Rh(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function Ih(n,e){return function(r,s){const o=new pi;return r.asyncQueue.enqueueAndForget(async()=>Fk(await eP(r),s,o)),o.promise}(iv(n),e)}function DP(n,e,t){const r=t.docs.get(e._key),s=new ER(n);return new _R(n,s,e._key,r,new Nu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ol=s})(sl),Wo(new Ia("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new Ha(new hM(r.getProvider("auth-internal")),new mM(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(p.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),bs(Ub,Hb,e),bs(Ub,Hb,"esm2017")})();const IP={apiKey:"AIzaSyBMrHrhzBeFJFDZszH6l4jESUoFZELrt1I",authDomain:"event-planner-189a4.firebaseapp.com",projectId:"event-planner-189a4",storageBucket:"event-planner-189a4.firebasestorage.app",messagingSenderId:"208194176968",appId:"1:208194176968:web:083cb6dadcb94b95c4a2fd"},bR=rS(IP),pv=aP(bR),yc=oM(bR),TR=async n=>{try{const e=pc(pv,"users",n.uid);await SP(e,{createdAt:new Date,uid:n.uid,email:n.email})}catch(e){throw console.error("Error creating user in Firestore:",e),e}},AR=async n=>{try{const e=pc(pv,"users",n),t=await gv(e);return t.exists()?t.data():(console.log("User does not exist in Firestore."),null)}catch(e){throw console.error("Error fetching user:",e),e}},xh=sP(pv,"events"),xP=async n=>{try{const e=vP(xh,_P("userId","==",n));return(await AP(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching events:",e),e}},OP=async n=>{try{return{id:(await CP(xh,{...n,createdAt:new Date})).id,...n}}catch(e){throw console.error("Error adding event:",e),e}},NP=async n=>{try{const e=pc(xh,n.id),t=await gv(e);if(t.exists()&&t.data().userId===n.userId)return await wP(e,n),n;throw new Error("Unauthorized: You can only update your own events.")}catch(e){throw console.error("Error updating event:",e),e}},MP=async(n,e)=>{try{const t=pc(xh,e),r=await gv(t);if(r.exists()&&r.data().userId===n)await RP(t);else throw new Error("Unauthorized: You can only delete your own events.")}catch(t){throw console.error("Error deleting event:",t),t}};function SR({size:n="medium",color:e="primary",type:t="spinner",text:r="Loading...",showText:s=!0,fullScreen:o=!1}){const u={small:"h-4 w-4",medium:"h-8 w-8",large:"h-12 w-12"},f={primary:"text-blue-600",secondary:"text-gray-600",success:"text-green-600",danger:"text-red-600",warning:"text-yellow-600"},h=u[n]||u.medium,p=f[e]||f.primary,y=o?"fixed inset-0 flex items-center justify-center bg-white bg-opacity-75 z-50":"flex items-center justify-center",_=()=>{switch(t){case"dots":return $.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(E=>$.jsx("div",{className:`rounded-full ${p} animate-pulse ${n==="small"?"h-2 w-2":n==="medium"?"h-3 w-3":"h-4 w-4"}`,style:{animationDelay:`${(E-1)*.2}s`}},E))});case"progress":return $.jsx("div",{className:"w-full max-w-xs overflow-hidden rounded-full bg-gray-200",children:$.jsx("div",{className:`h-2 ${p.replace("text","bg")} animate-pulse`,style:{width:"75%",animationDuration:"1.5s"}})});case"spinner":default:return $.jsxs("svg",{className:`animate-spin ${h} ${p}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[$.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),$.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}};return $.jsx("div",{className:y,children:$.jsxs("div",{className:"flex flex-col items-center",children:[_(),s&&r&&$.jsx("span",{className:`mt-2 ${p} text-sm font-medium`,children:r})]})})}const wR=Le.createContext();function Oh(){return q.useContext(wR)}function kP({children:n}){const[e,t]=q.useState(null),[r,s]=q.useState(!0);q.useEffect(()=>{const u=KO(yc,async f=>{if(f)try{const h=await AR(f.uid);t({...f,...h})}catch(h){console.error("Error fetching user data:",h)}else t(null);s(!1)});return()=>u()},[]);const o={currentUser:e,userLoggedIn:!!e,loading:r,userId:(e==null?void 0:e.uid)||null};return $.jsx(wR.Provider,{value:o,children:r?$.jsx(SR,{size:"large"}):n})}var wu={},VT;function PP(){if(VT)return wu;VT=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.parse=u,wu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,A){const w=new o,O=E.length;if(O<2)return w;const I=(A==null?void 0:A.decode)||y;let x=0;do{const V=E.indexOf("=",x);if(V===-1)break;const H=E.indexOf(";",x),Z=H===-1?O:H;if(V>Z){x=E.lastIndexOf(";",V-1)+1;continue}const se=f(E,x,V),oe=h(E,V,se),M=E.slice(se,oe);if(w[M]===void 0){let C=f(E,V+1,Z),D=h(E,Z,C);const k=I(E.slice(C,D));w[M]=k}x=Z+1}while(x<O);return w}function f(E,A,w){do{const O=E.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<w);return w}function h(E,A,w){for(;A>w;){const O=E.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return w}function p(E,A,w){const O=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=O(A);if(!e.test(I))throw new TypeError(`argument val is invalid: ${A}`);let x=E+"="+I;if(!w)return x;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);x+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);x+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);x+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);x+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(x+="; HttpOnly"),w.secure&&(x+="; Secure"),w.partitioned&&(x+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return x}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return wu}PP();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LT="popstate";function VP(n={}){function e(r,s){let{pathname:o,search:u,hash:f}=r.location;return Zm("",{pathname:o,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Zu(s)}return UP(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LP(){return Math.random().toString(36).substring(2,10)}function UT(n,e){return{usr:n.state,key:n.key,idx:e}}function Zm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?dl(e):e,state:t,key:e&&e.key||r||LP()}}function Zu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function dl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function UP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,f="POP",h=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let I=y(),x=I==null?null:I-p;p=I,h&&h({action:f,location:O.location,delta:x})}function E(I,x){f="PUSH";let V=Zm(O.location,I,x);p=y()+1;let H=UT(V,p),Z=O.createHref(V);try{u.pushState(H,"",Z)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;s.location.assign(Z)}o&&h&&h({action:f,location:O.location,delta:1})}function A(I,x){f="REPLACE";let V=Zm(O.location,I,x);p=y();let H=UT(V,p),Z=O.createHref(V);u.replaceState(H,"",Z),o&&h&&h({action:f,location:O.location,delta:0})}function w(I){let x=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof I=="string"?I:Zu(I);return V=V.replace(/ $/,"%20"),lt(x,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,x)}let O={get action(){return f},get location(){return n(s,u)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(LT,_),h=I,()=>{s.removeEventListener(LT,_),h=null}},createHref(I){return e(s,I)},createURL:w,encodeLocation(I){let x=w(I);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:E,replace:A,go(I){return u.go(I)}};return O}function RR(n,e,t="/"){return HP(n,e,t,!1)}function HP(n,e,t,r){let s=typeof e=="string"?dl(e):e,o=bi(s.pathname||"/",t);if(o==null)return null;let u=CR(n);BP(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let p=XP(o);f=YP(u[h],p,r)}return f}function CR(n,e=[],t=[],r=""){let s=(o,u,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(lt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=mi([r,h.relativePath]),y=t.concat(h);o.children&&o.children.length>0&&(lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),CR(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:$P(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))s(o,u);else for(let h of DR(o.path))s(o,u,h)}),e}function DR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=DR(r.join("/")),f=[];return f.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function BP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var zP=/^:[\w-]+$/,jP=3,FP=2,qP=1,GP=10,QP=-2,HT=n=>n==="*";function $P(n,e){let t=n.split("/"),r=t.length;return t.some(HT)&&(r+=QP),e&&(r+=FP),t.filter(s=>!HT(s)).reduce((s,o)=>s+(zP.test(o)?jP:o===""?qP:GP),r)}function WP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function YP(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],p=f===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Gd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),E=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Gd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:mi([o,_.pathname]),pathnameBase:tV(mi([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=mi([o,_.pathnameBase]))}return u}function Gd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=KP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let w=f[E]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const A=f[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function KP(n,e=!1,t=!0){fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function XP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ZP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?dl(n):n;return{pathname:t?t.startsWith("/")?t:JP(t,e):e,search:nV(r),hash:rV(s)}}function JP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function om(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mv(n){let e=eV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function yv(n,e,t,r=!1){let s;typeof n=="string"?s=dl(n):(s={...n},lt(!s.pathname||!s.pathname.includes("?"),om("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),om("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),om("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}f=_>=0?e[_]:"/"}let h=ZP(s,f),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var mi=n=>n.join("/").replace(/\/\/+/g,"/"),tV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var IR=["POST","PUT","PATCH","DELETE"];new Set(IR);var sV=["GET",...IR];new Set(sV);var hl=q.createContext(null);hl.displayName="DataRouter";var Nh=q.createContext(null);Nh.displayName="DataRouterState";var xR=q.createContext({isTransitioning:!1});xR.displayName="ViewTransition";var aV=q.createContext(new Map);aV.displayName="Fetchers";var oV=q.createContext(null);oV.displayName="Await";var dr=q.createContext(null);dr.displayName="Navigation";var vc=q.createContext(null);vc.displayName="Location";var Vr=q.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var vv=q.createContext(null);vv.displayName="RouteError";function lV(n,{relative:e}={}){lt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(dr),{hash:s,pathname:o,search:u}=_c(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:mi([t,o])),r.createHref({pathname:f,search:u,hash:s})}function gl(){return q.useContext(vc)!=null}function Ri(){return lt(gl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(vc).location}var OR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NR(n){q.useContext(dr).static||q.useLayoutEffect(n)}function _v(){let{isDataRoute:n}=q.useContext(Vr);return n?bV():uV()}function uV(){lt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(hl),{basename:e,navigator:t}=q.useContext(dr),{matches:r}=q.useContext(Vr),{pathname:s}=Ri(),o=JSON.stringify(mv(r)),u=q.useRef(!1);return NR(()=>{u.current=!0}),q.useCallback((h,p={})=>{if(fr(u.current,OR),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=yv(h,JSON.parse(o),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:mi([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,s,n])}q.createContext(null);function _c(n,{relative:e}={}){let{matches:t}=q.useContext(Vr),{pathname:r}=Ri(),s=JSON.stringify(mv(t));return q.useMemo(()=>yv(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function cV(n,e){return MR(n,e)}function MR(n,e,t,r){var V;lt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=q.useContext(dr),{matches:u}=q.useContext(Vr),f=u[u.length-1],h=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";kR(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=Ri(),A;if(e){let H=typeof e=="string"?dl(e):e;lt(y==="/"||((V=H.pathname)==null?void 0:V.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=E;let w=A.pathname||"/",O=w;if(y!=="/"){let H=y.replace(/^\//,"").split("/");O="/"+w.replace(/^\//,"").split("/").slice(H.length).join("/")}let I=!o&&t&&t.matches&&t.matches.length>0?t.matches:RR(n,{pathname:O});fr(_||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),fr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=pV(I&&I.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:mi([y,s.encodeLocation?s.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:mi([y,s.encodeLocation?s.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,t,r);return e&&x?q.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},x):x}function fV(){let n=EV(),e=iV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:s},t):null,u)}var dV=q.createElement(fV,null),hV=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(Vr.Provider,{value:this.props.routeContext},q.createElement(vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gV({routeContext:n,match:e,children:t}){let r=q.useContext(hl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Vr.Provider,{value:n},t)}function pV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);lt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:y,errors:_}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let _,E=!1,A=null,w=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,A=p.route.errorElement||dV,u&&(f<0&&y===0?(kR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):f===y&&(E=!0,w=p.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,y+1)),I=()=>{let x;return _?x=A:E?x=w:p.route.Component?x=q.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=h,q.createElement(gV,{match:p,routeContext:{outlet:h,matches:O,isDataRoute:t!=null},children:x})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?q.createElement(hV,{location:t.location,revalidation:t.revalidation,component:A,error:_,children:I(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):I()},null)}function Ev(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mV(n){let e=q.useContext(hl);return lt(e,Ev(n)),e}function yV(n){let e=q.useContext(Nh);return lt(e,Ev(n)),e}function vV(n){let e=q.useContext(Vr);return lt(e,Ev(n)),e}function bv(n){let e=vV(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _V(){return bv("useRouteId")}function EV(){var r;let n=q.useContext(vv),e=yV("useRouteError"),t=bv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function bV(){let{router:n}=mV("useNavigate"),e=bv("useNavigate"),t=q.useRef(!1);return NR(()=>{t.current=!0}),q.useCallback(async(s,o={})=>{fr(t.current,OR),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var BT={};function kR(n,e,t){!e&&!BT[n]&&(BT[n]=!0,fr(!1,t))}q.memo(TV);function TV({routes:n,future:e,state:t}){return MR(n,void 0,t,e)}function Tv({to:n,replace:e,state:t,relative:r}){lt(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=q.useContext(dr);fr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(Vr),{pathname:u}=Ri(),f=_v(),h=yv(n,mv(o),u,r==="path"),p=JSON.stringify(h);return q.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function _d(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){lt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=dl(t));let{pathname:h="/",search:p="",hash:y="",state:_=null,key:E="default"}=t,A=q.useMemo(()=>{let w=bi(h,u);return w==null?null:{location:{pathname:w,search:p,hash:y,state:_,key:E},navigationType:r}},[u,h,p,y,_,E,r]);return fr(A!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:q.createElement(dr.Provider,{value:f},q.createElement(vc.Provider,{children:e,value:A}))}function SV({children:n,location:e}){return cV(Jm(n),e)}function Jm(n,e=[]){let t=[];return q.Children.forEach(n,(r,s)=>{if(!q.isValidElement(r))return;let o=[...e,s];if(r.type===q.Fragment){t.push.apply(t,Jm(r.props.children,o));return}lt(r.type===_d,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Jm(r.props.children,o)),t.push(u)}),t}var Ed="get",bd="application/x-www-form-urlencoded";function Mh(n){return n!=null&&typeof n.tagName=="string"}function wV(n){return Mh(n)&&n.tagName.toLowerCase()==="button"}function RV(n){return Mh(n)&&n.tagName.toLowerCase()==="form"}function CV(n){return Mh(n)&&n.tagName.toLowerCase()==="input"}function DV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IV(n,e){return n.button===0&&(!e||e==="_self")&&!DV(n)}var ed=null;function xV(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var OV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(n){return n!=null&&!OV.has(n)?(fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bd}"`),null):n}function NV(n,e){let t,r,s,o,u;if(RV(n)){let f=n.getAttribute("action");r=f?bi(f,e):null,t=n.getAttribute("method")||Ed,s=lm(n.getAttribute("enctype"))||bd,o=new FormData(n)}else if(wV(n)||CV(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?bi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Ed,s=lm(n.getAttribute("formenctype"))||lm(f.getAttribute("enctype"))||bd,o=new FormData(f,n),!xV()){let{name:p,type:y,value:_}=n;if(y==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,_)}}else{if(Mh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ed,r=null,s=bd,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function Av(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function MV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function PV(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await MV(o,t);return u.links?u.links():[]}return[]}));return HV(r.flat(1).filter(kV).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zT(n,e,t,r,s,o){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>u(h,p)||f(h,p)):o==="data"?e.filter((h,p)=>{var _;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function VV(n,e,{includeHydrateFallback:t}={}){return LV(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function LV(n){return[...new Set(n)]}function UV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function HV(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(UV(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function BV(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&bi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function PR(){let n=q.useContext(hl);return Av(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zV(){let n=q.useContext(Nh);return Av(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Sv=q.createContext(void 0);Sv.displayName="FrameworkContext";function VR(){let n=q.useContext(Sv);return Av(n,"You must render this element inside a <HydratedRouter> element"),n}function jV(n,e){let t=q.useContext(Sv),[r,s]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=x=>{x.forEach(V=>{u(V.isIntersecting)})},I=new IntersectionObserver(O,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),q.useEffect(()=>{if(r){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[r]);let A=()=>{s(!0)},w=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Ru(f,A),onBlur:Ru(h,w),onMouseEnter:Ru(p,A),onMouseLeave:Ru(y,w),onTouchStart:Ru(_,A)}]:[!1,E,{}]}function Ru(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FV({page:n,...e}){let{router:t}=PR(),r=q.useMemo(()=>RR(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(GV,{page:n,matches:r,...e}):null}function qV(n){let{manifest:e,routeModules:t}=VR(),[r,s]=q.useState([]);return q.useEffect(()=>{let o=!1;return PV(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function GV({page:n,matches:e,...t}){let r=Ri(),{manifest:s,routeModules:o}=VR(),{basename:u}=PR(),{loaderData:f,matches:h}=zV(),p=q.useMemo(()=>zT(n,e,h,s,r,"data"),[n,e,h,s,r]),y=q.useMemo(()=>zT(n,e,h,s,r,"assets"),[n,e,h,s,r]),_=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,O=!1;if(e.forEach(x=>{var H;let V=s.routes[x.route.id];!V||!V.hasLoader||(!p.some(Z=>Z.route.id===x.route.id)&&x.route.id in f&&((H=o[x.route.id])!=null&&H.shouldRevalidate)||V.hasClientLoader?O=!0:w.add(x.route.id))}),w.size===0)return[];let I=BV(n,u);return O&&w.size>0&&I.searchParams.set("_routes",e.filter(x=>w.has(x.route.id)).map(x=>x.route.id).join(",")),[I.pathname+I.search]},[u,f,r,s,p,e,n,o]),E=q.useMemo(()=>VV(y,s),[y,s]),A=qV(y);return q.createElement(q.Fragment,null,_.map(w=>q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),E.map(w=>q.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),A.map(({key:w,link:O})=>q.createElement("link",{key:w,...O})))}function QV(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var LR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LR&&(window.__reactRouterVersion="7.4.0")}catch{}function $V({basename:n,children:e,window:t}){let r=q.useRef();r.current==null&&(r.current=VP({window:t,v5Compat:!0}));let s=r.current,[o,u]=q.useState({action:s.action,location:s.location}),f=q.useCallback(h=>{q.startTransition(()=>u(h))},[u]);return q.useLayoutEffect(()=>s.listen(f),[s,f]),q.createElement(AV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var UR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pl=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:f,target:h,to:p,preventScrollReset:y,viewTransition:_,...E},A){let{basename:w}=q.useContext(dr),O=typeof p=="string"&&UR.test(p),I,x=!1;if(typeof p=="string"&&O&&(I=p,LR))try{let D=new URL(window.location.href),k=p.startsWith("//")?new URL(D.protocol+p):new URL(p),L=bi(k.pathname,w);k.origin===D.origin&&L!=null?p=L+k.search+k.hash:x=!0}catch{fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=lV(p,{relative:s}),[H,Z,se]=jV(r,E),oe=XV(p,{replace:u,state:f,target:h,preventScrollReset:y,relative:s,viewTransition:_});function M(D){e&&e(D),D.defaultPrevented||oe(D)}let C=q.createElement("a",{...E,...se,href:I||V,onClick:x||o?e:M,ref:QV(A,Z),target:h,"data-discover":!O&&t==="render"?"true":void 0});return H&&!O?q.createElement(q.Fragment,null,C,q.createElement(FV,{page:V})):C});pl.displayName="Link";var WV=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:f,children:h,...p},y){let _=_c(u,{relative:p.relative}),E=Ri(),A=q.useContext(Nh),{navigator:w,basename:O}=q.useContext(dr),I=A!=null&&nL(_)&&f===!0,x=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,V=E.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(V=V.toLowerCase(),H=H?H.toLowerCase():null,x=x.toLowerCase()),H&&O&&(H=bi(H,O)||H);const Z=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let se=V===x||!s&&V.startsWith(x)&&V.charAt(Z)==="/",oe=H!=null&&(H===x||!s&&H.startsWith(x)&&H.charAt(x.length)==="/"),M={isActive:se,isPending:oe,isTransitioning:I},C=se?e:void 0,D;typeof r=="function"?D=r(M):D=[r,se?"active":null,oe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(M):o;return q.createElement(pl,{...p,"aria-current":C,className:D,ref:y,style:k,to:u,viewTransition:f},typeof h=="function"?h(M):h)});WV.displayName="NavLink";var YV=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Ed,action:f,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:_,...E},A)=>{let w=eL(),O=tL(f,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",x=typeof f=="string"&&UR.test(f),V=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let Z=H.nativeEvent.submitter,se=(Z==null?void 0:Z.getAttribute("formmethod"))||u;w(Z||H.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:s,state:o,relative:p,preventScrollReset:y,viewTransition:_})};return q.createElement("form",{ref:A,method:I,action:O,onSubmit:r?h:V,...E,"data-discover":!x&&n==="render"?"true":void 0})});YV.displayName="Form";function KV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(n){let e=q.useContext(hl);return lt(e,KV(n)),e}function XV(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let f=_v(),h=Ri(),p=_c(n,{relative:o});return q.useCallback(y=>{if(IV(y,e)){y.preventDefault();let _=t!==void 0?t:Zu(h)===Zu(p);f(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[h,f,p,t,r,e,n,s,o,u])}var ZV=0,JV=()=>`__${String(++ZV)}__`;function eL(){let{router:n}=HR("useSubmit"),{basename:e}=q.useContext(dr),t=_V();return q.useCallback(async(r,s={})=>{let{action:o,method:u,encType:f,formData:h,body:p}=NV(r,e);if(s.navigate===!1){let y=s.fetcherKey||JV();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function tL(n,{relative:e}={}){let{basename:t}=q.useContext(dr),r=q.useContext(Vr);lt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={..._c(n||".",{relative:e})},u=Ri();if(n==null){o.search=u.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:mi([t,o.pathname])),Zu(o)}function nL(n,e={}){let t=q.useContext(xR);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HR("useViewTransitionState"),s=_c(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=bi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=bi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Gd(s.pathname,u)!=null||Gd(s.pathname,o)!=null}new TextEncoder;var ey=WA();function BR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=BR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function wa(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=BR(n))&&(r&&(r+=" "),r+=e);return r}function rL(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}rL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ec=n=>typeof n=="number"&&!isNaN(n),ka=n=>typeof n=="string",Ti=n=>typeof n=="function",iL=n=>ka(n)||Ec(n),ty=n=>ka(n)||Ti(n)?n:null,sL=(n,e)=>n===!1||Ec(n)&&n>0?n:e,ny=n=>q.isValidElement(n)||ka(n)||Ti(n)||Ec(n);function aL(n,e,t=300){let{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function oL({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:o,position:u,preventExitTransition:f,done:h,nodeRef:p,isIn:y,playToast:_}){let E=t?`${n}--${u}`:n,A=t?`${e}--${u}`:e,w=q.useRef(0);return q.useLayoutEffect(()=>{let O=p.current,I=E.split(" "),x=V=>{V.target===p.current&&(_(),O.removeEventListener("animationend",x),O.removeEventListener("animationcancel",x),w.current===0&&V.type!=="animationcancel"&&O.classList.remove(...I))};O.classList.add(...I),O.addEventListener("animationend",x),O.addEventListener("animationcancel",x)},[]),q.useEffect(()=>{let O=p.current,I=()=>{O.removeEventListener("animationend",I),r?aL(O,h,s):h()};y||(f?I():(w.current=1,O.className+=` ${A}`,O.addEventListener("animationend",I)))},[y]),Le.createElement(Le.Fragment,null,o)}}function jT(n,e){return{content:zR(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function zR(n,e,t=!1){return q.isValidElement(n)&&!ka(n.type)?q.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ti(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function lL({closeToast:n,theme:e,ariaLabel:t="close"}){return Le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function uL({delay:n,isRunning:e,closeToast:t,type:r="default",hide:s,className:o,controlledProgress:u,progress:f,rtl:h,isIn:p,theme:y}){let _=s||u&&f===0,E={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(E.transform=`scaleX(${f})`);let A=wa("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),w=Ti(o)?o({rtl:h,type:r,defaultClassName:A}):wa(A,o),O={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{p&&t()}};return Le.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Le.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),Le.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:w,style:E,...O}))}var cL=1,jR=()=>`${cL++}`;function fL(n,e,t){let r=1,s=0,o=[],u=[],f=e,h=new Map,p=new Set,y=V=>(p.add(V),()=>p.delete(V)),_=()=>{u=Array.from(h.values()),p.forEach(V=>V())},E=({containerId:V,toastId:H,updateId:Z})=>{let se=V?V!==n:n!==1,oe=h.has(H)&&Z==null;return se||oe},A=(V,H)=>{h.forEach(Z=>{var se;(H==null||H===Z.props.toastId)&&((se=Z.toggle)==null||se.call(Z,V))})},w=V=>{var H,Z;(Z=(H=V.props)==null?void 0:H.onClose)==null||Z.call(H,V.removalReason),V.isActive=!1},O=V=>{if(V==null)h.forEach(w);else{let H=h.get(V);H&&w(H)}_()},I=()=>{s-=o.length,o=[]},x=V=>{var H,Z;let{toastId:se,updateId:oe}=V.props,M=oe==null;V.staleId&&h.delete(V.staleId),V.isActive=!0,h.set(se,V),_(),t(jT(V,M?"added":"updated")),M&&((Z=(H=V.props).onOpen)==null||Z.call(H))};return{id:n,props:f,observe:y,toggle:A,removeToast:O,toasts:h,clearQueue:I,buildToast:(V,H)=>{if(E(H))return;let{toastId:Z,updateId:se,data:oe,staleId:M,delay:C}=H,D=se==null;D&&s++;let k={...f,style:f.toastStyle,key:r++,...Object.fromEntries(Object.entries(H).filter(([j,P])=>P!=null)),toastId:Z,updateId:se,data:oe,isIn:!1,className:ty(H.className||f.toastClassName),progressClassName:ty(H.progressClassName||f.progressClassName),autoClose:H.isLoading?!1:sL(H.autoClose,f.autoClose),closeToast(j){h.get(Z).removalReason=j,O(Z)},deleteToast(){let j=h.get(Z);if(j!=null){if(t(jT(j,"removed")),h.delete(Z),s--,s<0&&(s=0),o.length>0){x(o.shift());return}_()}}};k.closeButton=f.closeButton,H.closeButton===!1||ny(H.closeButton)?k.closeButton=H.closeButton:H.closeButton===!0&&(k.closeButton=ny(f.closeButton)?f.closeButton:!0);let L={content:V,props:k,staleId:M};f.limit&&f.limit>0&&s>f.limit&&D?o.push(L):Ec(C)?setTimeout(()=>{x(L)},C):x(L)},setProps(V){f=V},setToggle:(V,H)=>{let Z=h.get(V);Z&&(Z.toggle=H)},isToastActive:V=>{var H;return(H=h.get(V))==null?void 0:H.isActive},getSnapshot:()=>u}}var vn=new Map,Ju=[],ry=new Set,dL=n=>ry.forEach(e=>e(n)),FR=()=>vn.size>0;function hL(){Ju.forEach(n=>GR(n.content,n.options)),Ju=[]}var gL=(n,{containerId:e})=>{var t;return(t=vn.get(e||1))==null?void 0:t.toasts.get(n)};function qR(n,e){var t;if(e)return!!((t=vn.get(e))!=null&&t.isToastActive(n));let r=!1;return vn.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function pL(n){if(!FR()){Ju=Ju.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||iL(n))vn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=vn.get(n.containerId);e?e.removeToast(n.id):vn.forEach(t=>{t.removeToast(n.id)})}}var mL=(n={})=>{vn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function GR(n,e){ny(n)&&(FR()||Ju.push({content:n,options:e}),vn.forEach(t=>{t.buildToast(n,e)}))}function yL(n){var e;(e=vn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function QR(n,e){vn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function vL(n){let e=n.containerId||1;return{subscribe(t){let r=fL(e,n,dL);vn.set(e,r);let s=r.observe(t);return hL(),()=>{s(),vn.delete(e)}},setProps(t){var r;(r=vn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=vn.get(e))==null?void 0:t.getSnapshot()}}}function _L(n){return ry.add(n),()=>{ry.delete(n)}}function EL(n){return n&&(ka(n.toastId)||Ec(n.toastId))?n.toastId:jR()}function bc(n,e){return GR(n,e),e.toastId}function kh(n,e){return{...e,type:e&&e.type||n,toastId:EL(e)}}function Ph(n){return(e,t)=>bc(e,kh(n,t))}function Fe(n,e){return bc(n,kh("default",e))}Fe.loading=(n,e)=>bc(n,kh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function bL(n,{pending:e,error:t,success:r},s){let o;e&&(o=ka(e)?Fe.loading(e,s):Fe.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,y,_)=>{if(y==null){Fe.dismiss(o);return}let E={type:p,...u,...s,data:_},A=ka(y)?{render:y}:y;return o?Fe.update(o,{...E,...A}):Fe(A.render,{...E,...A}),_},h=Ti(n)?n():n;return h.then(p=>f("success",r,p)).catch(p=>f("error",t,p)),h}Fe.promise=bL;Fe.success=Ph("success");Fe.info=Ph("info");Fe.error=Ph("error");Fe.warning=Ph("warning");Fe.warn=Fe.warning;Fe.dark=(n,e)=>bc(n,kh("default",{theme:"dark",...e}));function TL(n){pL(n)}Fe.dismiss=TL;Fe.clearWaitingQueue=mL;Fe.isActive=qR;Fe.update=(n,e={})=>{let t=gL(n,e);if(t){let{props:r,content:s}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:jR()};o.toastId!==n&&(o.staleId=n);let u=o.render||s;delete o.render,bc(u,o)}};Fe.done=n=>{Fe.update(n,{progress:1})};Fe.onChange=_L;Fe.play=n=>QR(!0,n);Fe.pause=n=>QR(!1,n);function AL(n){var e;let{subscribe:t,getSnapshot:r,setProps:s}=q.useRef(vL(n)).current;s(n);let o=(e=q.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(f){if(!o)return[];let h=new Map;return n.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:y}=p.props;h.has(y)||h.set(y,[]),h.get(y).push(p)}),Array.from(h,p=>f(p[0],p[1]))}return{getToastToRender:u,isToastActive:qR,count:o==null?void 0:o.length}}function SL(n){let[e,t]=q.useState(!1),[r,s]=q.useState(!1),o=q.useRef(null),u=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:p,onClick:y,closeOnClick:_}=n;yL({id:n.toastId,containerId:n.containerId,fn:t}),q.useEffect(()=>{if(n.pauseOnFocusLoss)return E(),()=>{A()}},[n.pauseOnFocusLoss]);function E(){document.hasFocus()||x(),window.addEventListener("focus",I),window.addEventListener("blur",x)}function A(){window.removeEventListener("focus",I),window.removeEventListener("blur",x)}function w(M){if(n.draggable===!0||n.draggable===M.pointerType){V();let C=o.current;u.canCloseOnClick=!0,u.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(u.start=M.clientX,u.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(u.start=M.clientY,u.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function O(M){let{top:C,bottom:D,left:k,right:L}=o.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&n.pauseOnHover&&M.clientX>=k&&M.clientX<=L&&M.clientY>=C&&M.clientY<=D?x():I()}function I(){t(!0)}function x(){t(!1)}function V(){u.didMove=!1,document.addEventListener("pointermove",Z),document.addEventListener("pointerup",se)}function H(){document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",se)}function Z(M){let C=o.current;if(u.canDrag&&C){u.didMove=!0,e&&x(),n.draggableDirection==="x"?u.delta=M.clientX-u.start:u.delta=M.clientY-u.start,u.start!==M.clientX&&(u.canCloseOnClick=!1);let D=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;C.style.transform=`translate3d(${D},0)`,C.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function se(){H();let M=o.current;if(u.canDrag&&u.didMove&&M){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let oe={onPointerDown:w,onPointerUp:O};return f&&h&&(oe.onMouseEnter=x,n.stacked||(oe.onMouseLeave=I)),_&&(oe.onClick=M=>{y&&y(M),u.canCloseOnClick&&p(!0)}),{playToast:I,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:oe}}var wL=typeof window<"u"?q.useLayoutEffect:q.useEffect,Vh=({theme:n,type:e,isLoading:t,...r})=>Le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function RL(n){return Le.createElement(Vh,{...n},Le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CL(n){return Le.createElement(Vh,{...n},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function DL(n){return Le.createElement(Vh,{...n},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function IL(n){return Le.createElement(Vh,{...n},Le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function xL(){return Le.createElement("div",{className:"Toastify__spinner"})}var iy={info:CL,warning:RL,success:DL,error:IL,spinner:xL},OL=n=>n in iy;function NL({theme:n,type:e,isLoading:t,icon:r}){let s=null,o={theme:n,type:e};return r===!1||(Ti(r)?s=r({...o,isLoading:t}):q.isValidElement(r)?s=q.cloneElement(r,o):t?s=iy.spinner():OL(e)&&(s=iy[e](o))),s}var ML=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:o}=SL(n),{closeButton:u,children:f,autoClose:h,onClick:p,type:y,hideProgressBar:_,closeToast:E,transition:A,position:w,className:O,style:I,progressClassName:x,updateId:V,role:H,progress:Z,rtl:se,toastId:oe,deleteToast:M,isIn:C,isLoading:D,closeOnClick:k,theme:L,ariaLabel:j}=n,P=wa("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":se},{"Toastify__toast--close-on-click":k}),Et=Ti(O)?O({rtl:se,position:w,type:y,defaultClassName:P}):wa(P,O),ut=NL(n),ue=!!Z||!h,Ee={closeToast:E,type:y,theme:L},pe=null;return u===!1||(Ti(u)?pe=u(Ee):q.isValidElement(u)?pe=q.cloneElement(u,Ee):pe=lL(Ee)),Le.createElement(A,{isIn:C,done:M,position:w,preventExitTransition:t,nodeRef:r,playToast:o},Le.createElement("div",{id:oe,tabIndex:0,onClick:p,"data-in":C,className:Et,...s,style:I,ref:r,...C&&{role:H,"aria-label":j}},ut!=null&&Le.createElement("div",{className:wa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},ut),zR(f,n,!e),pe,!n.customProgressBar&&Le.createElement(uL,{...V&&!ue?{key:`p-${V}`}:{},rtl:se,theme:L,delay:h,isRunning:e,isIn:C,closeToast:E,hide:_,type:y,className:x,controlledProgress:ue,progress:Z||0})))},kL=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),PL=oL(kL("bounce",!0)),VL={position:"top-right",transition:PL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function LL(n){let e={...VL,...n},t=n.stacked,[r,s]=q.useState(!0),o=q.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=AL(e),{className:p,style:y,rtl:_,containerId:E,hotKeys:A}=e;function w(I){let x=wa("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":_});return Ti(p)?p({position:I,rtl:_,defaultClassName:x}):wa(x,ty(p))}function O(){t&&(s(!0),Fe.play())}return wL(()=>{var I;if(t){let x=o.current.querySelectorAll('[data-in="true"]'),V=12,H=(I=e.position)==null?void 0:I.includes("top"),Z=0,se=0;Array.from(x).reverse().forEach((oe,M)=>{let C=oe;C.classList.add("Toastify__toast--stacked"),M>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=H?"top":"bot");let D=Z*(r?.2:1)+(r?0:V*M);C.style.setProperty("--y",`${H?D:D*-1}px`),C.style.setProperty("--g",`${V}`),C.style.setProperty("--s",`${1-(r?se:0)}`),Z+=C.offsetHeight,se+=.025})}},[r,h,t]),q.useEffect(()=>{function I(x){var V;let H=o.current;A(x)&&((V=H.querySelector('[tabIndex="0"]'))==null||V.focus(),s(!1),Fe.pause()),x.key==="Escape"&&(document.activeElement===H||H!=null&&H.contains(document.activeElement))&&(s(!0),Fe.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[A]),Le.createElement("section",{ref:o,className:"Toastify",id:E,onMouseEnter:()=>{t&&(s(!1),Fe.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((I,x)=>{let V=x.length?{...y}:{...y,pointerEvents:"none"};return Le.createElement("div",{tabIndex:-1,className:w(I),"data-stacked":t,style:V,key:`c-${I}`},x.map(({content:H,props:Z})=>Le.createElement(ML,{...Z,stacked:t,collapseAll:O,isIn:f(Z.toastId,Z.containerId),key:`t-${Z.key}`},H)))}))}var Lh,be,$R,WR,nl,ba,FT,YR,KR,Qd={},XR=[],UL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ms(n,e){for(var t in e)n[t]=e[t];return n}function ZR(n){var e=n.parentNode;e&&e.removeChild(n)}function X(n,e,t){var r,s,o,u={};for(o in e)o=="key"?r=e[o]:o=="ref"?s=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?Lh.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)u[o]===void 0&&(u[o]=n.defaultProps[o]);return Td(n,u,r,s,null)}function Td(n,e,t,r,s){var o={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++$R};return s==null&&be.vnode!=null&&be.vnode(o),o}function Ai(){return{current:null}}function St(n){return n.children}function HL(n,e,t,r,s){var o;for(o in t)o==="children"||o==="key"||o in e||$d(n,o,null,t[o],r);for(o in e)s&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||$d(n,o,e[o],t[o],r)}function qT(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||UL.test(e)?t:t+"px"}function $d(n,e,t,r,s){var o;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||qT(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||qT(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?r||n.addEventListener(e,o?QT:GT,o):n.removeEventListener(e,o?QT:GT,o);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function GT(n){nl=!0;try{return this.l[n.type+!1](be.event?be.event(n):n)}finally{nl=!1}}function QT(n){nl=!0;try{return this.l[n.type+!0](be.event?be.event(n):n)}finally{nl=!1}}function Pn(n,e){this.props=n,this.context=e}function ec(n,e){if(e==null)return n.__?ec(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?ec(n):null}function JR(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return JR(n)}}function BL(n){nl?setTimeout(n):YR(n)}function sy(n){(!n.__d&&(n.__d=!0)&&ba.push(n)&&!Wd.__r++||FT!==be.debounceRendering)&&((FT=be.debounceRendering)||BL)(Wd)}function Wd(){var n,e,t,r,s,o,u,f;for(ba.sort(function(h,p){return h.__v.__b-p.__v.__b});n=ba.shift();)n.__d&&(e=ba.length,r=void 0,s=void 0,u=(o=(t=n).__v).__e,(f=t.__P)&&(r=[],(s=ms({},o)).__v=o.__v+1,wv(f,o,s,t.__n,f.ownerSVGElement!==void 0,o.__h!=null?[u]:null,r,u??ec(o),o.__h),iC(r,o),o.__e!=u&&JR(o)),ba.length>e&&ba.sort(function(h,p){return h.__v.__b-p.__v.__b}));Wd.__r=0}function eC(n,e,t,r,s,o,u,f,h,p){var y,_,E,A,w,O,I,x=r&&r.__k||XR,V=x.length;for(t.__k=[],y=0;y<e.length;y++)if((A=t.__k[y]=(A=e[y])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?Td(null,A,null,null,A):Array.isArray(A)?Td(St,{children:A},null,null,null):A.__b>0?Td(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null){if(A.__=t,A.__b=t.__b+1,(E=x[y])===null||E&&A.key==E.key&&A.type===E.type)x[y]=void 0;else for(_=0;_<V;_++){if((E=x[_])&&A.key==E.key&&A.type===E.type){x[_]=void 0;break}E=null}wv(n,A,E=E||Qd,s,o,u,f,h,p),w=A.__e,(_=A.ref)&&E.ref!=_&&(I||(I=[]),E.ref&&I.push(E.ref,null,A),I.push(_,A.__c||w,A)),w!=null?(O==null&&(O=w),typeof A.type=="function"&&A.__k===E.__k?A.__d=h=tC(A,h,n):h=nC(n,A,E,x,w,h),typeof t.type=="function"&&(t.__d=h)):h&&E.__e==h&&h.parentNode!=n&&(h=ec(E))}for(t.__e=O,y=V;y--;)x[y]!=null&&(typeof t.type=="function"&&x[y].__e!=null&&x[y].__e==t.__d&&(t.__d=rC(r).nextSibling),aC(x[y],x[y]));if(I)for(y=0;y<I.length;y++)sC(I[y],I[++y],I[++y])}function tC(n,e,t){for(var r,s=n.__k,o=0;s&&o<s.length;o++)(r=s[o])&&(r.__=n,e=typeof r.type=="function"?tC(r,e,t):nC(t,r,r,s,r.__e,e));return e}function Yd(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Yd(t,e)}):e.push(n)),e}function nC(n,e,t,r,s,o){var u,f,h;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(t==null||s!=o||s.parentNode==null)e:if(o==null||o.parentNode!==n)n.appendChild(s),u=null;else{for(f=o,h=0;(f=f.nextSibling)&&h<r.length;h+=1)if(f==s)break e;n.insertBefore(s,o),u=o}return u!==void 0?u:s.nextSibling}function rC(n){var e,t,r;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(r=rC(t)))return r}return null}function wv(n,e,t,r,s,o,u,f,h){var p,y,_,E,A,w,O,I,x,V,H,Z,se,oe,M,C=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,f=e.__e=t.__e,e.__h=null,o=[f]),(p=be.__b)&&p(e);try{e:if(typeof C=="function"){if(I=e.props,x=(p=C.contextType)&&r[p.__c],V=p?x?x.props.value:p.__:r,t.__c?O=(y=e.__c=t.__c).__=y.__E:("prototype"in C&&C.prototype.render?e.__c=y=new C(I,V):(e.__c=y=new Pn(I,V),y.constructor=C,y.render=jL),x&&x.sub(y),y.props=I,y.state||(y.state={}),y.context=V,y.__n=r,_=y.__d=!0,y.__h=[],y._sb=[]),y.__s==null&&(y.__s=y.state),C.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=ms({},y.__s)),ms(y.__s,C.getDerivedStateFromProps(I,y.__s))),E=y.props,A=y.state,y.__v=e,_)C.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(C.getDerivedStateFromProps==null&&I!==E&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(I,V),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(I,y.__s,V)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(y.props=I,y.state=y.__s,y.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(D){D&&(D.__=e)}),H=0;H<y._sb.length;H++)y.__h.push(y._sb[H]);y._sb=[],y.__h.length&&u.push(y);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(I,y.__s,V),y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(E,A,w)})}if(y.context=V,y.props=I,y.__P=n,Z=be.__r,se=0,"prototype"in C&&C.prototype.render){for(y.state=y.__s,y.__d=!1,Z&&Z(e),p=y.render(y.props,y.state,y.context),oe=0;oe<y._sb.length;oe++)y.__h.push(y._sb[oe]);y._sb=[]}else do y.__d=!1,Z&&Z(e),p=y.render(y.props,y.state,y.context),y.state=y.__s;while(y.__d&&++se<25);y.state=y.__s,y.getChildContext!=null&&(r=ms(ms({},r),y.getChildContext())),_||y.getSnapshotBeforeUpdate==null||(w=y.getSnapshotBeforeUpdate(E,A)),M=p!=null&&p.type===St&&p.key==null?p.props.children:p,eC(n,Array.isArray(M)?M:[M],e,t,r,s,o,u,f,h),y.base=e.__e,e.__h=null,y.__h.length&&u.push(y),O&&(y.__E=y.__=null),y.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=zL(t.__e,e,t,r,s,o,u,h);(p=be.diffed)&&p(e)}catch(D){e.__v=null,(h||o!=null)&&(e.__e=f,e.__h=!!h,o[o.indexOf(f)]=null),be.__e(D,e,t)}}function iC(n,e){be.__c&&be.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){be.__e(r,t.__v)}})}function zL(n,e,t,r,s,o,u,f){var h,p,y,_=t.props,E=e.props,A=e.type,w=0;if(A==="svg"&&(s=!0),o!=null){for(;w<o.length;w++)if((h=o[w])&&"setAttribute"in h==!!A&&(A?h.localName===A:h.nodeType===3)){n=h,o[w]=null;break}}if(n==null){if(A===null)return document.createTextNode(E);n=s?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,E.is&&E),o=null,f=!1}if(A===null)_===E||f&&n.data===E||(n.data=E);else{if(o=o&&Lh.call(n.childNodes),p=(_=t.props||Qd).dangerouslySetInnerHTML,y=E.dangerouslySetInnerHTML,!f){if(o!=null)for(_={},w=0;w<n.attributes.length;w++)_[n.attributes[w].name]=n.attributes[w].value;(y||p)&&(y&&(p&&y.__html==p.__html||y.__html===n.innerHTML)||(n.innerHTML=y&&y.__html||""))}if(HL(n,E,_,s,f),y)e.__k=[];else if(w=e.props.children,eC(n,Array.isArray(w)?w:[w],e,t,r,s&&A!=="foreignObject",o,u,o?o[0]:t.__k&&ec(t,0),f),o!=null)for(w=o.length;w--;)o[w]!=null&&ZR(o[w]);f||("value"in E&&(w=E.value)!==void 0&&(w!==n.value||A==="progress"&&!w||A==="option"&&w!==_.value)&&$d(n,"value",w,_.value,!1),"checked"in E&&(w=E.checked)!==void 0&&w!==n.checked&&$d(n,"checked",w,_.checked,!1))}return n}function sC(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){be.__e(r,t)}}function aC(n,e,t){var r,s;if(be.unmount&&be.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||sC(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){be.__e(o,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(s=0;s<r.length;s++)r[s]&&aC(r[s],e,t||typeof n.type!="function");t||n.__e==null||ZR(n.__e),n.__=n.__e=n.__d=void 0}function jL(n,e,t){return this.constructor(n,t)}function tc(n,e,t){var r,s,o;be.__&&be.__(n,e),s=(r=!1)?null:e.__k,o=[],wv(e,n=e.__k=X(St,null,[n]),s||Qd,Qd,e.ownerSVGElement!==void 0,s?null:e.firstChild?Lh.call(e.childNodes):null,o,s?s.__e:e.firstChild,r),iC(o,n)}function FL(n,e){var t={__c:e="__cC"+KR++,__:n,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,o;return this.getChildContext||(s=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&s.some(function(f){f.__e=!0,sy(f)})},this.sub=function(u){s.push(u);var f=u.componentWillUnmount;u.componentWillUnmount=function(){s.splice(s.indexOf(u),1),f&&f.call(u)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}Lh=XR.slice,be={__e:function(n,e,t,r){for(var s,o,u;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),u=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,r||{}),u=s.__d),u)return s.__E=s}catch(f){n=f}throw n}},$R=0,WR=function(n){return n!=null&&n.constructor===void 0},nl=!1,Pn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ms({},this.state),typeof n=="function"&&(n=n(ms({},t),this.props)),n&&ms(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),sy(this))},Pn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),sy(this))},Pn.prototype.render=St,ba=[],YR=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wd.__r=0,KR=0;var xr,um,$T,oC=[],cm=[],WT=be.__b,YT=be.__r,KT=be.diffed,XT=be.__c,ZT=be.unmount;function qL(){for(var n;n=oC.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Ad),n.__H.__h.forEach(ay),n.__H.__h=[]}catch(e){n.__H.__h=[],be.__e(e,n.__v)}}be.__b=function(n){xr=null,WT&&WT(n)},be.__r=function(n){YT&&YT(n);var e=(xr=n.__c).__H;e&&(um===xr?(e.__h=[],xr.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=cm,t.__N=t.i=void 0})):(e.__h.forEach(Ad),e.__h.forEach(ay),e.__h=[])),um=xr},be.diffed=function(n){KT&&KT(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(oC.push(e)!==1&&$T===be.requestAnimationFrame||(($T=be.requestAnimationFrame)||GL)(qL)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==cm&&(t.__=t.__V),t.i=void 0,t.__V=cm})),um=xr=null},be.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Ad),t.__h=t.__h.filter(function(r){return!r.__||ay(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],be.__e(r,t.__v)}}),XT&&XT(n,e)},be.unmount=function(n){ZT&&ZT(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{Ad(r)}catch(s){e=s}}),t.__H=void 0,e&&be.__e(e,t.__v))};var JT=typeof requestAnimationFrame=="function";function GL(n){var e,t=function(){clearTimeout(r),JT&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);JT&&(e=requestAnimationFrame(t))}function Ad(n){var e=xr,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),xr=e}function ay(n){var e=xr;n.__c=n.__(),xr=e}function QL(n,e){for(var t in e)n[t]=e[t];return n}function eA(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function tA(n){this.props=n}(tA.prototype=new Pn).isPureReactComponent=!0,tA.prototype.shouldComponentUpdate=function(n,e){return eA(this.props,n)||eA(this.state,e)};var nA=be.__b;be.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),nA&&nA(n)};var $L=be.__e;be.__e=function(n,e,t,r){if(n.then){for(var s,o=e;o=o.__;)if((s=o.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(n,e)}$L(n,e,t,r)};var rA=be.unmount;function lC(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=QL({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return lC(r,e,t)})),n}function uC(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return uC(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function fm(){this.__u=0,this.t=null,this.__b=null}function cC(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function td(){this.u=null,this.o=null}be.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),rA&&rA(n)},(fm.prototype=new Pn).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var s=cC(r.__v),o=!1,u=function(){o||(o=!0,t.__R=null,s?s(f):f())};t.__R=u;var f=function(){if(!--r.__u){if(r.state.__a){var p=r.state.__a;r.__v.__k[0]=uC(p,p.__c.__P,p.__c.__O)}var y;for(r.setState({__a:r.__b=null});y=r.t.pop();)y.forceUpdate()}},h=e.__h===!0;r.__u++||h||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(u,u)},fm.prototype.componentWillUnmount=function(){this.t=[]},fm.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=lC(this.__b,t,r.__O=r.__P)}this.__b=null}var s=e.__a&&X(St,null,n.fallback);return s&&(s.__h=null),[X(St,null,e.__a?null:n.children),s]};var iA=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function WL(n){return this.getChildContext=function(){return n.context},n.children}function YL(n){var e=this,t=n.i;e.componentWillUnmount=function(){tc(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),tc(X(WL,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function KL(n,e){var t=X(YL,{__v:n,i:e});return t.containerInfo=e,t}(td.prototype=new Pn).__a=function(n){var e=this,t=cC(e.__v),r=e.o.get(n);return r[0]++,function(s){var o=function(){e.props.revealOrder?(r.push(s),iA(e,n,r)):s()};t?t(o):o()}},td.prototype.render=function(n){this.u=null,this.o=new Map;var e=Yd(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},td.prototype.componentDidUpdate=td.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){iA(n,t,e)})};var XL=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ZL=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,JL=typeof document<"u",eU=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Pn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Pn.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var sA=be.event;function tU(){}function nU(){return this.cancelBubble}function rU(){return this.defaultPrevented}be.event=function(n){return sA&&(n=sA(n)),n.persist=tU,n.isPropagationStopped=nU,n.isDefaultPrevented=rU,n.nativeEvent=n};var aA={configurable:!0,get:function(){return this.class}},oA=be.vnode;be.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var o in r={},t){var u=t[o];JL&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&u==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&u===!0?u="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!eU(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():s&&ZL.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():u===null&&(u=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=u)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Yd(t.children).forEach(function(f){f.props.selected=r.value.indexOf(f.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Yd(t.children).forEach(function(f){f.props.selected=r.multiple?r.defaultValue.indexOf(f.props.value)!=-1:r.defaultValue==f.props.value})),n.props=r,t.class!=t.className&&(aA.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",aA))}n.$$typeof=XL,oA&&oA(n)};var lA=be.__r;be.__r=function(n){lA&&lA(n),n.__c};const fC=[],oy=new Map;function dC(n){fC.push(n),oy.forEach(e=>{gC(e,n)})}function iU(n){n.isConnected&&n.getRootNode&&hC(n.getRootNode())}function hC(n){let e=oy.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=aU();t&&(e.nonce=t);const r=n===document?document.head:n,s=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,s)}oy.set(n,e),sU(e)}}function sU(n){for(const e of fC)gC(n,e)}function gC(n,e){const{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((s,o)=>{s=s.trim(),s&&t.insertRule(s+"}",r+o)})}let dm;function aU(){return dm===void 0&&(dm=oU()),dm}function oU(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&hC(document);var lU=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';dC(lU);class Rv{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Cv(n){n.parentNode&&n.parentNode.removeChild(n)}function un(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(uU(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function uU(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function cU(n,e){let t=n instanceof HTMLElement?[n]:n,r=[];for(let s=0;s<t.length;s+=1){let o=t[s].querySelectorAll(e);for(let u=0;u<o.length;u+=1)r.push(o[u])}return r}const fU=/(top|left|right|bottom|width|height)$/i;function Uu(n,e){for(let t in e)pC(n,t,e[t])}function pC(n,e,t){t==null?n.style[e]="":typeof t=="number"&&fU.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function mC(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let uA=0;function Uh(){return uA+=1,"fc-dom-"+uA}function Hh(n){n.preventDefault()}function dU(n,e){return t=>{let r=un(t.target,n);r&&e.call(r,t,r)}}function yC(n,e,t,r){let s=dU(t,r);return n.addEventListener(e,s),()=>{n.removeEventListener(e,s)}}function hU(n,e,t,r){let s;return yC(n,"mouseover",e,(o,u)=>{if(u!==s){s=u,t(o,u);let f=h=>{s=null,r(h,u),u.removeEventListener("mouseleave",f)};u.addEventListener("mouseleave",f)}})}const cA=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function gU(n,e){let t=r=>{e(r),cA.forEach(s=>{n.removeEventListener(s,t)})};cA.forEach(r=>{n.addEventListener(r,t)})}function vC(n){return Object.assign({onClick:n},_C(n))}function _C(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let fA=0;function Ba(){return fA+=1,String(fA)}function Dv(){document.body.classList.add("fc-not-allowed")}function Iv(){document.body.classList.remove("fc-not-allowed")}function pU(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Hh)}function mU(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Hh)}function yU(n){n.addEventListener("contextmenu",Hh)}function vU(n){n.removeEventListener("contextmenu",Hh)}function _U(n){let e=[],t=[],r,s;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)s=t[r],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function EU(n,e,t){let r,s;for(r=0;r<t.length;r+=1)if(s=bU(n,e,t[r]),s)return s;return 0}function bU(n,e,t){return t.func?t.func(n,e):TU(n[t.field],e[t.field])*(t.order||1)}function TU(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function hm(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Hu(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,s,o)=>r.replace("$"+o,s||""),n):t}function AU(n,e){return n-e}function gm(n){return n%1===0}function SU(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const wU=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function We(n,e){return typeof n=="string"?RU(n):typeof n=="object"&&n?dA(n):typeof n=="number"?dA({[e||"milliseconds"]:n}):null}function RU(n){let e=wU.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function dA(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function CU(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function DU(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function IU(n){return Qo(n)/365}function xU(n){return Qo(n)/30}function Qo(n){return nc(n)/864e5}function nc(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function ly(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Os(n,e,t){if(n===e)return!0;let r=n.length,s;if(r!==e.length)return!1;for(s=0;s<r;s+=1)if(!(t?t(n[s],e[s]):n[s]===e[s]))return!1;return!0}const OU=["sun","mon","tue","wed","thu","fri","sat"];function hA(n,e){let t=ys(n);return t[2]+=e*7,wn(t)}function cn(n,e){let t=ys(n);return t[2]+=e,wn(t)}function Ns(n,e){let t=ys(n);return t[6]+=e,wn(t)}function NU(n,e){return ml(n,e)/7}function ml(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function MU(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function kU(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function PU(n,e){return(e.valueOf()-n.valueOf())/1e3}function VU(n,e){let t=at(n),r=at(e);return{years:0,months:0,days:Math.round(ml(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function LU(n,e){let t=Kd(n,e);return t!==null&&t%7===0?t/7:null}function Kd(n,e){return vs(n)===vs(e)?Math.round(ml(n,e)):null}function at(n){return wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function UU(n){return wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function HU(n){return wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function BU(n){return wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function zU(n,e,t){let r=n.getUTCFullYear(),s=pm(n,r,e,t);if(s<1)return pm(n,r-1,e,t);let o=pm(n,r+1,e,t);return o>=1?Math.min(s,o):s}function pm(n,e,t,r){let s=wn([e,0,1+jU(e,t,r)]),o=at(n),u=Math.round(ml(s,o));return Math.floor(u/7)+1}function jU(n,e,t){let r=7+e-t;return-((7+wn([n,0,r]).getUTCDay()-e)%7)+r-1}function gA(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function pA(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function ys(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function wn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function EC(n){return!isNaN(n.valueOf())}function vs(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function FU(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Ov(e,!0)))),r}function xv(n){return n.toISOString().replace(/T.*$/,"")}function qU(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function Ov(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),o=Math.round(r%60);return e?`${t+hm(s,2)}:${hm(o,2)}`:`GMT${t}${s}${o?`:${hm(o,2)}`:""}`}function Ye(n,e,t){let r,s;return function(...o){if(!r)s=n.apply(this,o);else if(!Os(r,o)){let u=n.apply(this,o);(!e||!e(u,s))&&(s=u)}return r=o,s}}function Sd(n,e,t){let r,s;return o=>(r?Pr(r,o)||(s=n.call(this,o)):s=n.call(this,o),r=o,s)}const mA={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Xd={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},nd=/\s*([ap])\.?m\.?/i,GU=/,/g,QU=/\s+/g,$U=/\u200e/g,WU=/UTC|GMT/;class YU{constructor(e){let t={},r={},s=0;for(let o in e)o in mA?(r[o]=e[o],s=Math.max(mA[o],s)):(t[o]=e[o],o in Xd&&(s=Math.max(Xd[o],s)));this.standardDateProps=t,this.extendedSettings=r,this.severity=s,this.buildFormattingFunc=Ye(yA)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,s){let{standardDateProps:o,extendedSettings:u}=this,f=t4(e.marker,t.marker,r.calendarSystem);if(!f)return this.format(e,r);let h=f;h>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(h=1);let p=this.format(e,r),y=this.format(t,r);if(p===y)return p;let _=n4(o,h),E=yA(_,u,r),A=E(e),w=E(t),O=r4(p,A,y,w),I=u.separator||s||r.defaultSeparator||"";return O?O.before+A+I+w+O.after:p+I+y}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function yA(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?s=>Ov(s.timeZoneOffset):r===0&&e.week?s=>e4(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week):KU(n,e,t)}function KU(n,e,t){n=Object.assign({},n),e=Object.assign({},e),XU(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),s;if(e.omitZeroMinute){let o=Object.assign({},n);delete o.minute,s=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:u}=o,f;s&&!u.getUTCMinutes()?f=s:f=r;let h=f.format(u);return ZU(h,o,n,e,t)}}function XU(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function ZU(n,e,t,r,s){return n=n.replace($U,""),t.timeZoneName==="short"&&(n=JU(n,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Ov(e.timeZoneOffset))),r.omitCommas&&(n=n.replace(GU,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace(nd,"").trim():r.meridiem==="narrow"?n=n.replace(nd,(o,u)=>u.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace(nd,(o,u)=>`${u.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace(nd,o=>o.toLocaleLowerCase())),n=n.replace(QU," "),n=n.trim(),n}function JU(n,e){let t=!1;return n=n.replace(WU,()=>(t=!0,e)),t||(n+=` ${e}`),n}function e4(n,e,t,r,s){let o=[];return s==="long"?o.push(t):(s==="short"||s==="narrow")&&o.push(e),(s==="long"||s==="short")&&o.push(" "),o.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&o.reverse(),o.join("")}function t4(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:vs(n)!==vs(e)?1:0}function n4(n,e){let t={};for(let r in n)(!(r in Xd)||Xd[r]<=e)&&(t[r]=n[r]);return t}function r4(n,e,t,r){let s=0;for(;s<n.length;){let o=n.indexOf(e,s);if(o===-1)break;let u=n.substr(0,o);s=o+e.length;let f=n.substr(s),h=0;for(;h<t.length;){let p=t.indexOf(r,h);if(p===-1)break;let y=t.substr(0,p);h=p+r.length;let _=t.substr(h);if(u===y&&f===_)return{before:u,after:f}}}return null}function vA(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Zd(n,e,t,r){let s=vA(n,t.calendarSystem),o=e?vA(e,t.calendarSystem):null;return{date:s,start:s,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}class i4{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,Zd(e,null,t,r))}formatRange(e,t,r,s){return r.cmdFormatter(this.cmdStr,Zd(e,t,r,s))}}class s4{constructor(e){this.func=e}format(e,t,r){return this.func(Zd(e,null,t,r))}formatRange(e,t,r,s){return this.func(Zd(e,t,r,s))}}function $t(n){return typeof n=="object"&&n?new YU(n):typeof n=="string"?new i4(n):typeof n=="function"?new s4(n):null}const _A={navLinkDayClick:Y,navLinkWeekClick:Y,duration:We,bootstrapFontAwesome:Y,buttonIcons:Y,customButtons:Y,defaultAllDayEventDuration:We,defaultTimedEventDuration:We,nextDayThreshold:We,scrollTime:We,scrollTimeReset:Boolean,slotMinTime:We,slotMaxTime:We,dayPopoverFormat:$t,slotDuration:We,snapDuration:We,headerToolbar:Y,footerToolbar:Y,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:$t,dayHeaderClassNames:Y,dayHeaderContent:Y,dayHeaderDidMount:Y,dayHeaderWillUnmount:Y,dayCellClassNames:Y,dayCellContent:Y,dayCellDidMount:Y,dayCellWillUnmount:Y,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Y,weekNumbers:Boolean,weekNumberClassNames:Y,weekNumberContent:Y,weekNumberDidMount:Y,weekNumberWillUnmount:Y,editable:Boolean,viewClassNames:Y,viewDidMount:Y,viewWillUnmount:Y,nowIndicator:Boolean,nowIndicatorClassNames:Y,nowIndicatorContent:Y,nowIndicatorDidMount:Y,nowIndicatorWillUnmount:Y,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Y,locale:Y,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Y,eventOrder:_U,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Y,contentHeight:Y,direction:String,weekNumberFormat:$t,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Y,initialDate:Y,now:Y,eventDataTransform:Y,stickyHeaderDates:Y,stickyFooterScrollbar:Y,viewHeight:Y,defaultAllDay:Boolean,eventSourceFailure:Y,eventSourceSuccess:Y,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Y,eventConstraint:Y,eventAllow:Y,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Y,eventContent:Y,eventDidMount:Y,eventWillUnmount:Y,selectConstraint:Y,selectOverlap:Y,selectAllow:Y,droppable:Boolean,unselectCancel:String,slotLabelFormat:Y,slotLaneClassNames:Y,slotLaneContent:Y,slotLaneDidMount:Y,slotLaneWillUnmount:Y,slotLabelClassNames:Y,slotLabelContent:Y,slotLabelDidMount:Y,slotLabelWillUnmount:Y,dayMaxEvents:Y,dayMaxEventRows:Y,dayMinWidth:Number,slotLabelInterval:We,allDayText:String,allDayClassNames:Y,allDayContent:Y,allDayDidMount:Y,allDayWillUnmount:Y,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:$t,rerenderDelay:Number,moreLinkText:Y,moreLinkHint:Y,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Y,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:We,hiddenDays:Y,fixedWeekCount:Boolean,validRange:Y,visibleRange:Y,titleFormat:Y,eventInteractive:Boolean,noEventsText:String,viewHint:Y,navLinkHint:Y,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Y,moreLinkClassNames:Y,moreLinkContent:Y,moreLinkDidMount:Y,moreLinkWillUnmount:Y,monthStartFormat:$t,handleCustomRendering:Y,customRenderingMetaMap:Y,customRenderingReplaces:Boolean},Bu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},EA={datesSet:Y,eventsSet:Y,eventAdd:Y,eventChange:Y,eventRemove:Y,windowResize:Y,eventClick:Y,eventMouseEnter:Y,eventMouseLeave:Y,select:Y,unselect:Y,loading:Y,_unmount:Y,_beforeprint:Y,_afterprint:Y,_noEventDrop:Y,_noEventResize:Y,_resize:Y,_scrollRequest:Y},bA={buttonText:Y,buttonHints:Y,views:Y,plugins:Y,initialEvents:Y,events:Y,eventSources:Y},_a={headerToolbar:Ea,footerToolbar:Ea,buttonText:Ea,buttonHints:Ea,buttonIcons:Ea,dateIncrement:Ea,plugins:rd,events:rd,eventSources:rd,resources:rd};function Ea(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?Pr(n,e):n===e}function rd(n,e){return Array.isArray(n)&&Array.isArray(e)?Os(n,e):n===e}const a4={type:String,component:Y,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Y,usesMinMaxTime:Boolean,classNames:Y,content:Y,didMount:Y,willUnmount:Y};function mm(n){return Mv(n,_a)}function Nv(n,e){let t={},r={};for(let s in e)s in n&&(t[s]=e[s](n[s]));for(let s in n)s in e||(r[s]=n[s]);return{refined:t,extra:r}}function Y(n){return n}const{hasOwnProperty:Jd}=Object.prototype;function Mv(n,e){let t={};if(e){for(let r in e)if(e[r]===Ea){let s=[];for(let o=n.length-1;o>=0;o-=1){let u=n[o][r];if(typeof u=="object"&&u)s.unshift(u);else if(u!==void 0){t[r]=u;break}}s.length&&(t[r]=Mv(s))}}for(let r=n.length-1;r>=0;r-=1){let s=n[r];for(let o in s)o in t||(t[o]=s[o])}return t}function Pa(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function za(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function bC(n){let e={};for(let t of n)e[t]=!0;return e}function kv(n){let e=[];for(let t in n)e.push(n[t]);return e}function Pr(n,e){if(n===e)return!0;for(let t in n)if(Jd.call(n,t)&&!(t in e))return!1;for(let t in e)if(Jd.call(e,t)&&n[t]!==e[t])return!1;return!0}const o4=/^on[A-Z]/;function l4(n,e){const t=uy(n,e);for(let r of t)if(!o4.test(r))return!1;return!0}function uy(n,e){let t=[];for(let r in n)Jd.call(n,r)&&(r in e||t.push(r));for(let r in e)Jd.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function ym(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&u4(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function u4(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function c4(n,e=0,t,r=1){let s=[];t==null&&(t=Object.keys(n).length);for(let o=e;o<t;o+=r){let u=n[o];u!==void 0&&s.push(u)}return s}let TC={};function f4(n,e){TC[n]=e}function d4(n){return new TC[n]}class h4{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return wn(e)}markerToArray(e){return ys(e)}}f4("gregory",h4);const g4=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function p4(n){let e=g4.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(EC(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class m4{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=d4(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):wn(gA(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=wn(e)),t===null||!EC(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=p4(e);if(t===null)return null;let{marker:r}=t,s=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):s=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return vs(e)===vs(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return vs(e)===vs(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=LU(e,t),r!==null?{unit:"week",value:r}:(r=Kd(e,t),r!==null?{unit:"day",value:r}:(r=MU(e,t),gm(r)?{unit:"hour",value:r}:(r=kU(e,t),gm(r)?{unit:"minute",value:r}:(r=PU(e,t),gm(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let s;return r.years&&(s=this.diffWholeYears(e,t),s!==null)?s/IU(r):r.months&&(s=this.diffWholeMonths(e,t),s!==null)?s/xU(r):r.days&&(s=Kd(e,t),s!==null)?s/Qo(r):(t.valueOf()-e.valueOf())/nc(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?at(e):t==="hour"?UU(e):t==="minute"?HU(e):t==="second"?BU(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):zU(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,s={}){return s.isEndExclusive&&(t=Ns(t,-1)),r.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),FU(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?wn(gA(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):wn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-pA(ys(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ys(e)):null}toDate(e,t){return this.timeZone==="local"?pA(ys(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ys(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Tc{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Tc.prototype.classes={};Tc.prototype.iconClasses={};Tc.prototype.baseIconClass="";Tc.prototype.iconOverridePrefix="";function eh(n){n();let e=be.debounceRendering,t=[];function r(s){t.push(s)}for(be.debounceRendering=r,tc(X(y4,{}),document.createElement("div"));t.length;)t.shift()();be.debounceRendering=e}class y4 extends Pn{render(){return X("div",{})}componentDidMount(){this.setState({})}}function AC(n){let e=FL(n),t=e.Provider;return e.Provider=function(){let r=!this.getChildContext,s=t.apply(this,arguments);if(r){let o=[];this.shouldComponentUpdate=u=>{this.props.value!==u.value&&o.forEach(f=>{f.context=u.value,f.forceUpdate()})},this.sub=u=>{o.push(u);let f=u.componentWillUnmount;u.componentWillUnmount=()=>{o.splice(o.indexOf(u),1),f&&f.call(u)}}}return s},e}class v4{constructor(e,t,r,s){this.execFunc=e,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=s,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ja=AC({});function _4(n,e,t,r,s,o,u,f,h,p,y,_,E){return{dateEnv:s,options:t,pluginHooks:u,emitter:p,dispatch:f,getCurrentData:h,calendarApi:y,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:t.direction==="rtl",addResizeHandler(A){p.on("_resize",A)},removeResizeHandler(A){p.off("_resize",A)},createScrollResponder(A){return new v4(A,p,We(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:_,unregisterInteractiveComponent:E}}class Fa extends Pn{shouldComponentUpdate(e,t){return this.debug&&console.log(uy(e,this.props),uy(t,this.state)),!ym(this.props,e,this.propEquality)||!ym(this.state,t,this.stateEquality)}safeSetState(e){ym(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Fa.addPropsEquality=E4;Fa.addStateEquality=b4;Fa.contextType=ja;Fa.prototype.propEquality={};Fa.prototype.stateEquality={};class gt extends Fa{}gt.contextType=ja;function E4(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function b4(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function Si(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class Pv extends gt{constructor(){super(...arguments),this.id=Ba(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!cy(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Si(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:r}=t,{customGenerator:s,defaultGenerator:o,renderProps:u}=e,f=SC(e,[],this.handleEl);let h=!1,p,y=[],_;if(s!=null){const E=typeof s=="function"?s(u,X):s;if(E===!0)h=!0;else{const A=E&&typeof E=="object";A&&"html"in E?f.dangerouslySetInnerHTML={__html:E.html}:A&&"domNodes"in E?y=Array.prototype.slice.call(E.domNodes):(A?WR(E):typeof E!="function")?p=E:_=E}}else h=!cy(e.generatorName,r);return h&&o&&(p=o(u)),this.queuedDomNodes=y,this.currentGeneratorMeta=_,X(e.elTag,f,p)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:r,context:s}=this,{handleCustomRendering:o,customRenderingMetaMap:u}=s.options;if(o){const f=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:u==null?void 0:u[r.generatorName];f&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:f},r),{elClasses:(r.elClasses||[]).filter(T4)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!Os(e,t)){t.forEach(Cv);for(let s of e)r.appendChild(s);this.currentDomNodes=e}}}Pv.addPropsEquality({elClasses:Os,elStyle:Pr,elAttrs:l4,renderProps:Pr});function cy(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function SC(n,e,t){const r=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(r.className=(n.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),n.elStyle&&(r.style=n.elStyle),r}function T4(n){return!!n}const wC=AC(0);class Ci extends Pn{constructor(){super(...arguments),this.InnerContent=A4.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Si(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=S4(e.classNameGenerator,e.renderProps);if(e.children){const r=SC(e,t,this.handleEl),s=e.children(this.InnerContent,e.renderProps,r);return e.elTag?X(e.elTag,r,s):s}else return X(Pv,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ci.contextType=wC;function A4(n,e){const t=n.props;return X(Pv,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function S4(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class TA extends gt{render(){let{props:e,context:t}=this,{options:r}=t,s={view:t.viewApi};return X(Ci,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...RC(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function RC(n){return[`fc-${n.type}-view`,"fc-view"]}function w4(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function AA(n,e){let t=[],{start:r}=e,s,o;for(n.sort(R4),s=0;s<n.length;s+=1)o=n[s],o.start>r&&t.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&t.push({start:r,end:e.end}),t}function R4(n,e){return n.start.valueOf()-e.start.valueOf()}function rl(n,e){let{start:t,end:r}=n,s=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(s={start:t,end:r}),s}function C4(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Vv(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Bh(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Ss(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function D4(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function CC(n){let e=Math.floor(ml(n.start,n.end))||1,t=at(n.start),r=cn(t,e);return{start:t,end:r}}function DC(n,e=We(0)){let t=null,r=null;if(n.end){r=at(n.end);let s=n.end.valueOf()-r.valueOf();s&&s>=nc(e)&&(r=cn(r,1))}return n.start&&(t=at(n.start),r&&r<=t&&(r=cn(t,1))),{start:t,end:r}}function zo(n,e,t,r){return r==="year"?We(t.diffWholeYears(n,e),"year"):r==="month"?We(t.diffWholeMonths(n,e),"month"):VU(n,e)}function I4(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function x4(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):Ac(n.now,e)}function Ac(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class IC{constructor(e){this.props=e,this.nowDate=Ac(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:s}=this.props,o=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)}buildNext(e,t,r){let{dateEnv:s}=this.props,o=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)}build(e,t,r=!0){let{props:s}=this,o,u,f,h,p,y;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=D4(e,o)),u=this.buildCurrentRangeInfo(e,t),f=/^(year|month|week|day)$/.test(u.unit),h=this.buildRenderRange(this.trimHiddenDays(u.range),u.unit,f),h=this.trimHiddenDays(h),p=h,s.showNonCurrentDates||(p=rl(p,u.range)),p=this.adjustActiveRange(p),p=rl(p,o),y=Vv(u.range,o),Ss(h,e)||(e=h.start),{currentDate:e,validRange:o,currentRange:u.range,currentRangeUnit:u.unit,isRangeAllDay:f,activeRange:p,renderRange:h,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:y,dateIncrement:this.buildDateIncrement(u.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,s=null,o=null,u=null,f;return r.duration?(s=r.duration,o=r.durationUnit,u=this.buildRangeFromDuration(e,t,s,o)):(f=this.props.dayCount)?(o="day",u=this.buildRangeFromDayCount(e,t,f)):(u=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(u.start,u.end).unit:(s=this.getFallbackDuration(),o=ly(s).unit,u=this.buildRangeFromDuration(e,t,s,o)),{duration:s,unit:o,range:u}}getFallbackDuration(){return We({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:s,slotMaxTime:o}=this.props,{start:u,end:f}=e;return r&&(Qo(s)<0&&(u=at(u),u=t.add(u,s)),Qo(o)>1&&(f=at(f),f=cn(f,-1),f=t.add(f,o))),{start:u,end:f}}buildRangeFromDuration(e,t,r,s){let{dateEnv:o,dateAlignment:u}=this.props,f,h,p;if(!u){let{dateIncrement:_}=this.props;_&&nc(_)<nc(r)?u=ly(_).unit:u=s}Qo(r)<=1&&this.isHiddenDay(f)&&(f=this.skipHiddenDays(f,t),f=at(f));function y(){f=o.startOf(e,u),h=o.add(f,r),p={start:f,end:h}}return y(),this.trimHiddenDays(p)||(e=this.skipHiddenDays(e,t),y()),p}buildRangeFromDayCount(e,t,r){let{dateEnv:s,dateAlignment:o}=this.props,u=0,f=e,h;o&&(f=s.startOf(f,o)),f=at(f),f=this.skipHiddenDays(f,t),h=f;do h=cn(h,1),this.isHiddenDay(h)||(u+=1);while(u<r);return{start:f,end:h}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,s=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,o=this.refineRange(s);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?We(1,r):e||We({days:1}))}refineRange(e){if(e){let t=w4(e,this.props.dateEnv);return t&&(t=DC(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(t[s]=e.indexOf(s)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=cn(e,t);return e}}function Lv(n,e,t,r){return{instanceId:Ba(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function O4(n,e,t,r){for(let s=0;s<r.length;s+=1){let o=r[s].parse(n,t);if(o){let{allDay:u}=n;return u==null&&(u=e,u==null&&(u=o.allDayGuess,u==null&&(u=!1))),{allDay:u,duration:o.duration,typeData:o.typeData,typeId:s}}}return null}function Va(n,e,t){let{dateEnv:r,pluginHooks:s,options:o}=t,{defs:u,instances:f}=n;f=Pa(f,h=>!u[h.defId].recurringDef);for(let h in u){let p=u[h];if(p.recurringDef){let{duration:y}=p.recurringDef;y||(y=p.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let _=N4(p,y,e,r,s.recurringTypes);for(let E of _){let A=Lv(h,{start:E,end:r.add(E,y)});f[A.instanceId]=A}}}return{defs:u,instances:f}}function N4(n,e,t,r,s){let u=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(u=u.map(at)),u}const wd={id:String,groupId:String,title:String,url:String,interactive:Boolean},xC={start:Y,end:Y,date:Y,allDay:Boolean},M4=Object.assign(Object.assign(Object.assign({},wd),xC),{extendedProps:Y});function OC(n,e,t,r,s=Uv(t),o,u){let{refined:f,extra:h}=NC(n,t,s),p=P4(e,t),y=O4(f,p,t.dateEnv,t.pluginHooks.recurringTypes);if(y){let E=fy(f,h,e?e.sourceId:"",y.allDay,!!y.duration,t,o);return E.recurringDef={typeId:y.typeId,typeData:y.typeData,duration:y.duration},{def:E,instance:null}}let _=k4(f,p,t,r);if(_){let E=fy(f,h,e?e.sourceId:"",_.allDay,_.hasEnd,t,o),A=Lv(E.defId,_.range,_.forcedStartTzo,_.forcedEndTzo);return u&&E.publicId&&u[E.publicId]&&(A.instanceId=u[E.publicId]),{def:E,instance:A}}return null}function NC(n,e,t=Uv(e)){return Nv(n,t)}function Uv(n){return Object.assign(Object.assign(Object.assign({},th),M4),n.pluginHooks.eventRefiners)}function fy(n,e,t,r,s,o,u){let f={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(u&&n.id?u[n.id]:"")||Ba(),sourceId:t,allDay:r,hasEnd:s,interactive:n.interactive,ui:nh(n,o),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of o.pluginHooks.eventDefMemberAdders)Object.assign(f,h(n));return Object.freeze(f.ui.classNames),Object.freeze(f.extendedProps),f}function k4(n,e,t,r){let{allDay:s}=n,o,u=null,f=!1,h,p=null,y=n.start!=null?n.start:n.date;if(o=t.dateEnv.createMarkerMeta(y),o)u=o.marker;else if(!r)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),s==null&&(e!=null?s=e:s=(!o||o.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),s&&u&&(u=at(u)),h&&(p=h.marker,s&&(p=at(p)),u&&p<=u&&(p=null)),p?f=!0:r||(f=t.options.forceEventDuration||!1,p=t.dateEnv.add(u,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:f,range:{start:u,end:p},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function P4(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function rc(n,e,t,r,s,o){let u=lr(),f=Uv(t);for(let h of n){let p=OC(h,e,t,r,f,s,o);p&&dy(p,u)}return u}function dy(n,e=lr()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Hv(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],s=zh(n,o=>V4(r,o));return s.defs[r.defId]=r,s.instances[t.instanceId]=t,s}return lr()}function V4(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function lr(){return{defs:{},instances:{}}}function Bv(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function zh(n,e){let t=Pa(n.defs,e),r=Pa(n.instances,s=>t[s.defId]);return{defs:t,instances:r}}function L4(n,e){let{defs:t,instances:r}=n,s={},o={};for(let u in t)e.defs[u]||(s[u]=t[u]);for(let u in r)!e.instances[u]&&s[r[u].defId]&&(o[u]=r[u]);return{defs:s,instances:o}}function U4(n,e){return Array.isArray(n)?rc(n,null,e,!0):typeof n=="object"&&n?rc([n],null,e,!0):n!=null?String(n):null}function SA(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const th={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Y,overlap:Y,allow:Y,className:SA,classNames:SA,color:String,backgroundColor:String,borderColor:String,textColor:String},H4={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function nh(n,e){let t=U4(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function B4(n){return n.reduce(z4,H4)}function z4(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const j4={id:String,defaultAllDay:Boolean,url:String,format:String,events:Y,eventDataTransform:Y,success:Y,failure:Y};function MC(n,e,t=kC(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:s,extra:o}=Nv(r,t),u=F4(s,e);if(u)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Ba(),sourceDefId:u.sourceDefId,meta:u.meta,ui:nh(s,e),extendedProps:o}}return null}function kC(n){return Object.assign(Object.assign(Object.assign({},th),j4),n.pluginHooks.eventSourceRefiners)}function F4(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let o=t[r].parseMeta(n);if(o)return{sourceDefId:r,meta:o}}return null}function q4(n,e,t,r,s){switch(e.type){case"RECEIVE_EVENTS":return G4(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return Q4(n,t[e.sourceId],e.rawEvents,r.activeRange,s);case"ADD_EVENTS":return $4(n,e.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Bv(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Va(n,r.activeRange,s):n;case"REMOVE_EVENTS":return L4(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return VC(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return zh(n,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return lr();default:return n}}function G4(n,e,t,r,s,o){if(e&&t===e.latestFetchId){let u=rc(PC(s,e,o),e,o);return r&&(u=Va(u,r,o)),Bv(VC(n,e.sourceId),u)}return n}function Q4(n,e,t,r,s){const{defIdMap:o,instanceIdMap:u}=Y4(n);let f=rc(PC(t,e,s),e,s,!1,o,u);return Va(f,r,s)}function PC(n,e,t){let r=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(n=wA(n,s)),r&&(n=wA(n,r)),n}function wA(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let s=e(r);s?t.push(s):s==null&&t.push(r)}}return t}function $4(n,e,t,r){return t&&(e=Va(e,t,r)),Bv(n,e)}function RA(n,e,t){let{defs:r}=n,s=za(n.instances,o=>r[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:r,instances:s}}function VC(n,e){return zh(n,t=>t.sourceId!==e)}function W4(n,e){return{defs:n.defs,instances:Pa(n.instances,t=>!e[t.instanceId])}}function Y4(n){const{defs:e,instances:t}=n,r={},s={};for(let o in e){const u=e[o],{publicId:f}=u;f&&(r[f]=o)}for(let o in t){const u=t[o],f=e[u.defId],{publicId:h}=f;h&&(s[h]=o)}return{defIdMap:r,instanceIdMap:s}}class jh{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){K4(this.handlers,e,t)}off(e,t){X4(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],s=this.options&&this.options[e],o=[].concat(s||[],r);for(let u of o)u.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function K4(n,e,t){(n[e]||(n[e]=[])).push(t)}function X4(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}const Z4={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function J4(n,e){return rc(e6(n),null,e)}function e6(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},Z4),t)),e}function LC(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},zv(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function t6(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function zv(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,m6(n,e.dateEnv)),t}function CA(n,e,t){let{dateEnv:r,options:s}=t,o=e;return n?(o=at(o),o=r.add(o,s.defaultAllDayEventDuration)):o=r.add(o,s.defaultTimedEventDuration),o}function jv(n,e,t,r){let s=rh(n.defs,e),o=lr();for(let u in n.defs){let f=n.defs[u];o.defs[u]=n6(f,s[u],t,r)}for(let u in n.instances){let f=n.instances[u],h=o.defs[f.defId];o.instances[u]=r6(f,h,s[f.defId],t,r)}return o}function n6(n,e,t,r){let s=t.standardProps||{};s.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let u of r.pluginHooks.eventDefMutationAppliers)u(o,t,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function r6(n,e,t,r,s){let{dateEnv:o}=s,u=r.standardProps&&r.standardProps.allDay===!0,f=r.standardProps&&r.standardProps.hasEnd===!1,h=Object.assign({},n);return u&&(h.range=CC(h.range)),r.datesDelta&&t.startEditable&&(h.range={start:o.add(h.range.start,r.datesDelta),end:o.add(h.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(h.range={start:o.add(h.range.start,r.startDelta),end:h.range.end}),r.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:o.add(h.range.end,r.endDelta)}),f&&(h.range={start:h.range.start,end:CA(e.allDay,h.range.start,s)}),e.allDay&&(h.range={start:at(h.range.start),end:at(h.range.end)}),h.range.end<h.range.start&&(h.range.end=CA(e.allDay,h.range.start,s)),h}class Bo{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ot{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in xC)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=wd[e](t),this.mutate({standardProps:{publicId:t}});else if(e in wd)t=wd[e](t),this.mutate({standardProps:{[e]:t}});else if(e in th){let r=th[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,s=r.createMarker(e);if(s&&this._instance){let o=this._instance.range,u=zo(o.start,s,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:u}):this.mutate({startDelta:u})}}setEnd(e,t={}){let{dateEnv:r}=this._context,s;if(!(e!=null&&(s=r.createMarker(e),!s))&&this._instance)if(s){let o=zo(this._instance.range.end,s,r,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:s}=this._context,o={allDay:r.allDay},u=s.createMarker(e),f;if(u&&!(t!=null&&(f=s.createMarker(t),!f))&&this._instance){let h=this._instance.range;r.allDay===!0&&(h=CC(h));let p=zo(h.start,u,s,r.granularity);if(f){let y=zo(h.end,f,s,r.granularity);CU(p,y)?this.mutate({datesDelta:p,standardProps:o}):this.mutate({startDelta:p,endDelta:y,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:p,standardProps:o})}}moveStart(e){let t=We(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=We(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=We(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:s}=t;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=s),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,s=$t(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,s,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,s,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,s=this._context,{eventStore:o}=s.getCurrentData(),u=Hv(o,t.instanceId);u=jv(u,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let h=new ot(s,r,t);this._def=u.defs[r.defId],this._instance=u.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:u}),s.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:Ra(u,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=UC(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Bo(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:s,endStr:o}=this,u={allDay:t.allDay};return t.title&&(u.title=t.title),s&&(u.start=s),o&&(u.end=o),t.publicId&&(u.id=t.publicId),t.groupId&&(u.groupId=t.groupId),t.url&&(u.url=t.url),r.display&&r.display!=="auto"&&(u.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?u.color=r.backgroundColor:(r.backgroundColor&&(u.backgroundColor=r.backgroundColor),r.borderColor&&(u.borderColor=r.borderColor)),r.textColor&&(u.textColor=r.textColor),r.classNames.length&&(u.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(u,t.extendedProps):u.extendedProps=t.extendedProps),u}toJSON(){return this.toPlainObject()}}function UC(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Ra(n,e,t){let{defs:r,instances:s}=n,o=[],u=t?t.instanceId:"";for(let f in s){let h=s[f],p=r[h.defId];h.instanceId!==u&&o.push(new ot(e,p,h))}return o}function DA(n,e,t,r){let s={},o={},u={},f=[],h=[],p=rh(n.defs,e);for(let y in n.defs){let _=n.defs[y];p[_.defId].display==="inverse-background"&&(_.groupId?(s[_.groupId]=[],u[_.groupId]||(u[_.groupId]=_)):o[y]=[])}for(let y in n.instances){let _=n.instances[y],E=n.defs[_.defId],A=p[E.defId],w=_.range,O=!E.allDay&&r?DC(w,r):w,I=rl(O,t);I&&(A.display==="inverse-background"?E.groupId?s[E.groupId].push(I):o[_.defId].push(I):A.display!=="none"&&(A.display==="background"?f:h).push({def:E,ui:A,instance:_,range:I,isStart:O.start&&O.start.valueOf()===I.start.valueOf(),isEnd:O.end&&O.end.valueOf()===I.end.valueOf()}))}for(let y in s){let _=s[y],E=AA(_,t);for(let A of E){let w=u[y],O=p[w.defId];f.push({def:w,ui:O,instance:null,range:A,isStart:!1,isEnd:!1})}}for(let y in o){let _=o[y],E=AA(_,t);for(let A of E)f.push({def:n.defs[y],ui:p[y],instance:null,range:A,isStart:!1,isEnd:!1})}return{bg:f,fg:h}}function IA(n,e){n.fcSeg=e}function il(n){return n.fcSeg||n.parentNode.fcSeg||null}function rh(n,e){return za(n,t=>HC(t,e))}function HC(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),B4(t)}function i6(n,e){let t=n.map(s6);return t.sort((r,s)=>EU(r,s,e)),t.map(r=>r._seg)}function s6(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,s=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:o,duration:o-s,allDay:Number(t.allDay),_seg:n})}function a6(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:s,ui:o}=n.eventRange,u=o.startEditable;for(let f of r)u=f(u,s,o,e);return u}function o6(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function l6(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function BC(n,e,t,r,s,o,u){let{dateEnv:f,options:h}=t,{displayEventTime:p,displayEventEnd:y}=h,_=n.eventRange.def,E=n.eventRange.instance;p==null&&(p=r!==!1),y==null&&(y=s!==!1);let A=E.range.start,w=E.range.end,O=n.start||n.eventRange.range.start,I=n.end||n.eventRange.range.end,x=at(A).valueOf()===at(O).valueOf(),V=at(Ns(w,-1)).valueOf()===at(Ns(I,-1)).valueOf();return p&&!_.allDay&&(x||V)?(O=x?A:O,I=V?w:I,y&&_.hasEnd?f.formatRange(O,I,e,{forcedStartTzo:E.forcedStartTzo,forcedEndTzo:E.forcedEndTzo}):f.format(O,e,{forcedTzo:E.forcedStartTzo})):""}function zu(n,e,t){let r=n.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Ss(e,r.start)}}function u6(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function c6(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function zC(n,e){let{def:t,instance:r}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:o,options:u}=e,{eventInteractive:f}=u;return f==null&&(f=t.interactive,f==null&&(f=!!o.hasHandlers("eventClick"))),f?_C(h=>{o.trigger("eventClick",{el:h.target,event:new ot(e,t,r),jsEvent:h,view:e.viewApi})}):{}}const f6={start:Y,end:Y,allDay:Boolean};function d6(n,e,t){let r=h6(n,e),{range:s}=r;if(!s.start)return null;if(!s.end){if(t==null)return null;s.end=e.add(s.start,t)}return r}function h6(n,e){let{refined:t,extra:r}=Nv(n,f6),s=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:u}=t;return u==null&&(u=s&&s.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:o?o.marker:null},allDay:u},r)}function g6(n,e){return C4(n.range,e.range)&&n.allDay===e.allDay&&p6(n,e)}function p6(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function m6(n,e){return Object.assign(Object.assign({},FC(n.range,e,n.allDay)),{allDay:n.allDay})}function jC(n,e,t){return Object.assign(Object.assign({},FC(n,e,t)),{timeZone:e.timeZone})}function FC(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function y6(n,e,t){let r=NC({editable:!1},t),s=fy(r.refined,r.extra,"",n.allDay,!0,t);return{def:s,ui:HC(s,e),instance:Lv(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function v6(n,e,t){let r=!1,s=function(f){r||(r=!0,e(f))},o=function(f){r||(r=!0,t(f))},u=n(s,o);u&&typeof u.then=="function"&&u.then(s,o)}class xA extends Error{constructor(e,t){super(e),this.response=t}}function _6(n,e,t){n=n.toUpperCase();const r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(s=>{if(s.ok)return s.json().then(o=>[o,s],()=>{throw new xA("Failure parsing JSON",s)});throw new xA("Request failed",s)})}let vm;function qC(){return vm==null&&(vm=E6()),vm}function E6(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class b6 extends gt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{eh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{eh(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:r}=this.state,s=r||t.height==="auto"||t.contentHeight==="auto",o=!s&&t.height!=null?t.height:"",u=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return qC()||u.push("fc-liquid-hack"),e.children(u,o,s,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class yl{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function T6(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Fv(n){return{[n.component.uid]:n}}const hy={};class A6{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),s;t=t||"day",s=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),o,u;for(let f in t)s.push(f);for(o=0;o<s.length;o+=1)if(u=t[s[o]],u&&u.singleUnit===e)return u;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ac(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=We(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),$t(t))}formatRange(e,t,r){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(t),$t(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let s=this.getCurrentData(),o=d6(r,s.dateEnv,We({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),LC(o,null,s))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),t6(e,t))}addEvent(e,t){if(e instanceof ot){let u=e._def,f=e._instance;return this.getCurrentData().eventStore.defs[u.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:dy({def:u,instance:f})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),s;if(t instanceof Bo)s=t.internalEventSource;else if(typeof t=="boolean")t&&([s]=kv(r.eventSources));else if(t!=null){let u=this.getEventSourceById(t);if(!u)return console.warn(`Could not find an event source with ID "${t}"`),null;s=u.internalEventSource}let o=OC(e,s,r,!1);if(o){let u=new ot(r,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:dy(o)}),this.triggerEventAdd(u),u}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:UC(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:s}=t.eventStore;e=String(e);for(let o in r){let u=r[o];if(u.publicId===e){if(u.recurringDef)return new ot(t,u,null);for(let f in s){let h=s[f];if(h.defId===u.defId)return new ot(t,u,h)}}}return null}getEvents(){let e=this.getCurrentData();return Ra(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let s in t)r.push(new Bo(e,t[s]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let s in r)if(r[s].publicId===e)return new Bo(t,r[s]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Bo)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=MC(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Bo(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=We(e);t&&this.trigger("_scrollRequest",{time:t})}}function S6(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function GC(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function w6(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function R6(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function C6(n,e){return{left:n.left-e.left,top:n.top-e.top}}function QC(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&!Ss(r.activeRange,n)),isOther:!!(r&&!Ss(r.currentRange,n)),isToday:!!(e&&Ss(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function qv(n,e){let t=["fc-day",`fc-day-${OU[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const D6=$t({year:"numeric",month:"long",day:"numeric"}),I6=$t({week:"long"});function gy(n,e,t="day",r=!0){const{dateEnv:s,options:o,calendarApi:u}=n;let f=s.format(e,t==="week"?I6:D6);if(o.navLinks){let h=s.toDate(e);const p=y=>{let _=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof _=="function"?_.call(u,s.toDate(e),y):(typeof _=="string"&&(t=_),u.zoomTo(e,t))};return Object.assign({title:Hu(o.navLinkHint,[f,h],f),"data-navlink":""},r?vC(p):{onClick:p})}return{"aria-label":f}}let _m=null;function x6(){return _m===null&&(_m=O6()),_m}function O6(){let n=document.createElement("div");Uu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Cv(n),t}let Em;function N6(){return Em||(Em=M6()),Em}function M6(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=$C(n);return document.body.removeChild(n),e}function $C(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function k6(n,e=!1){let t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,o=parseInt(t.borderTopWidth,10)||0,u=parseInt(t.borderBottomWidth,10)||0,f=$C(n),h=f.y-r-s,p=f.x-o-u,y={borderLeft:r,borderRight:s,borderTop:o,borderBottom:u,scrollbarBottom:p,scrollbarLeft:0,scrollbarRight:0};return x6()&&t.direction==="rtl"?y.scrollbarLeft=h:y.scrollbarRight=h,e&&(y.paddingLeft=parseInt(t.paddingLeft,10)||0,y.paddingRight=parseInt(t.paddingRight,10)||0,y.paddingTop=parseInt(t.paddingTop,10)||0,y.paddingBottom=parseInt(t.paddingBottom,10)||0),y}function P6(n,e=!1,t){let r=Gv(n),s=k6(n,e),o={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return e&&(o.left+=s.paddingLeft,o.right-=s.paddingRight,o.top+=s.paddingTop,o.bottom-=s.paddingBottom),o}function Gv(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function V6(n){let e=WC(n),t=n.getBoundingClientRect();for(let r of e){let s=GC(t,r.getBoundingClientRect());if(s)t=s;else return null}return t}function WC(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class ih{constructor(e,t,r,s){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),s&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],r=[];for(let s of this.els){let o=s.getBoundingClientRect();t.push(o.left-e),r.push(o.right-e)}this.lefts=t,this.rights=r}buildElVerticals(e){let t=[],r=[];for(let s of this.els){let o=s.getBoundingClientRect();t.push(o.top-e),r.push(o.bottom-e)}this.tops=t,this.bottoms=r}leftToIndex(e){let{lefts:t,rights:r}=this,s=t.length,o;for(o=0;o<s;o+=1)if(e>=t[o]&&e<r[o])return o}topToIndex(e){let{tops:t,bottoms:r}=this,s=t.length,o;for(o=0;o<s;o+=1)if(e>=t[o]&&e<r[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return id(this.tops||[],e.tops||[])&&id(this.bottoms||[],e.bottoms||[])&&id(this.lefts||[],e.lefts||[])&&id(this.rights||[],e.rights||[])}}function id(n,e){const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(Math.round(n[r])!==Math.round(e[r]))return!1;return!0}class Qv{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class L6 extends Qv{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class U6 extends Qv{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class qa extends gt{constructor(){super(...arguments),this.uid=Ba()}prepareHits(){}queryHit(e,t,r,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!un(e,".fc-event-mirror")}isValidDateDownEl(e){return!un(e,".fc-event:not(.fc-bg-event)")&&!un(e,".fc-more-link")&&!un(e,"a[data-navlink]")&&!un(e,".fc-popover")}}class H6{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let r of e)this.insertEntry(r,t);return t}insertEntry(e,t){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,r){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},t),{span:YC(t.span,e.touchingEntry.span)});r.push(s),this.splitEntry(t,e.touchingEntry,r)}else r.push(t)}splitEntry(e,t,r){let s=e.span,o=t.span;s.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:o.start}},r),s.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:s.end}},r)}insertEntryAt(e,t){let{entriesByLevel:r,levelCoords:s}=this;t.lateral===-1?(bm(s,t.level,t.levelCoord),bm(r,t.level,[e])):bm(r[t.level],t.lateral,e),this.stackCnts[ju(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:r,strictOrder:s,stackCnts:o}=this,u=t.length,f=0,h=-1,p=-1,y=null,_=0;for(let w=0;w<u;w+=1){const O=t[w];if(!s&&O>=f+this.getEntryThickness(e))break;let I=r[w],x,V=NA(I,e.span.start,OA),H=V[0]+V[1];for(;(x=I[H])&&x.span.start<e.span.end;){let Z=O+this.getEntryThickness(x);Z>f&&(f=Z,y=x,h=w,p=H),Z===f&&(_=Math.max(_,o[ju(x)]+1)),H+=1}}let E=0;if(y)for(E=h+1;E<u&&t[E]<f;)E+=1;let A=-1;return E<u&&t[E]===f&&(A=NA(r[E],e.span.end,OA)[0]),{touchingLevel:h,touchingLateral:p,touchingEntry:y,stackCnt:_,levelCoord:f,level:E,lateral:A}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,r=e.length,s=[];for(let o=0;o<r;o+=1){let u=e[o],f=t[o];for(let h of u)s.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:f}))}return s}}function OA(n){return n.span.end}function ju(n){return n.index+":"+n.span.start}function YC(n,e){let t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);return t<r?{start:t,end:r}:null}function bm(n,e,t){n.splice(e,0,t)}function NA(n,e,t){let r=0,s=n.length;if(!s||e<t(n[r]))return[0,0];if(e>t(n[s-1]))return[s,0];for(;r<s;){let o=Math.floor(r+(s-r)/2),u=t(n[o]);if(e<u)s=o;else if(e>u)r=o+1;else return[o,1]}return[r,0]}class B6{constructor(e,t){this.emitter=new jh}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const $v={};function z6(n,e){return!n||e>10?$t({weekday:"short"}):e>1?$t({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):$t({weekday:"long"})}const KC="fc-col-header-cell";function XC(n){return n.text}class j6 extends gt{render(){let{dateEnv:e,options:t,theme:r,viewApi:s}=this.context,{props:o}=this,{date:u,dateProfile:f}=o,h=QC(u,o.todayRange,null,f),p=[KC].concat(qv(h,r)),y=e.format(u,o.dayHeaderFormat),_=!h.isDisabled&&o.colCnt>1?gy(this.context,u):{},E=Object.assign(Object.assign(Object.assign({date:e.toDate(u),view:s},o.extraRenderProps),{text:y}),h);return X(Ci,{elTag:"th",elClasses:p,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":h.isDisabled?void 0:xv(u)},o.extraDataAttrs),renderProps:E,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:XC,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},A=>X("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&X(A,{elTag:"a",elAttrs:_,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}}const F6=$t({weekday:"long"});class q6 extends gt{render(){let{props:e}=this,{dateEnv:t,theme:r,viewApi:s,options:o}=this.context,u=cn(new Date(2592e5),e.dow),f={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(u,e.dayHeaderFormat),p=Object.assign(Object.assign(Object.assign(Object.assign({date:u},f),{view:s}),e.extraRenderProps),{text:h});return X(Ci,{elTag:"th",elClasses:[KC,...qv(f,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:XC,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},y=>X("div",{className:"fc-scrollgrid-sync-inner"},X(y,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(u,F6)}})))}}class Wv extends Pn{constructor(e,t){super(e,t),this.initialNowDate=Ac(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,r=Ns(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=t.dateEnv.startOf(r,e.unit),o=t.dateEnv.add(s,We(1,e.unit)),u=o.valueOf()-r.valueOf();return u=Math.min(1e3*60*60*24,u),{currentState:{nowDate:s,todayRange:MA(s)},nextState:{nowDate:o,todayRange:MA(o)},waitMs:u}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Wv.contextType=ja;function MA(n){let e=at(n),t=cn(e,1);return{start:e,end:t}}class G6 extends gt{constructor(){super(...arguments),this.createDayHeaderFormatter=Ye(Q6)}render(){let{context:e}=this,{dates:t,dateProfile:r,datesRepDistinctDays:s,renderIntro:o}=this.props,u=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,t.length);return X(Wv,{unit:"day"},(f,h)=>X("tr",{role:"row"},o&&o("day"),t.map(p=>s?X(j6,{key:p.toISOString(),date:p,dateProfile:r,todayRange:h,colCnt:t.length,dayHeaderFormat:u}):X(q6,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:u}))))}}function Q6(n,e,t){return n||z6(e,t)}class $6{constructor(e,t){let r=e.start,{end:s}=e,o=[],u=[],f=-1;for(;r<s;)t.isHiddenDay(r)?o.push(f+.5):(f+=1,o.push(f),u.push(r)),r=cn(r,1);this.dates=u,this.indices=o,this.cnt=u.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(cn(e.end,-1)),s=Math.max(0,t),o=Math.min(this.cnt-1,r);return s=Math.ceil(s),o=Math.floor(o),s<=o?{firstIndex:s,lastIndex:o,isStart:t===s,isEnd:r===o}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(ml(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}}class W6{constructor(e,t){let{dates:r}=e,s,o,u;if(t){for(o=r[0].getUTCDay(),s=1;s<r.length&&r[s].getUTCDay()!==o;s+=1);u=Math.ceil(r.length/s)}else u=1,s=r.length;this.rowCnt=u,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let s=0;s<this.colCnt;s+=1)r.push(this.buildCell(t,s));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),s=[];if(r){let{firstIndex:o,lastIndex:u}=r,f=o;for(;f<=u;){let h=Math.floor(f/t),p=Math.min((h+1)*t,u+1);s.push({row:h,firstCol:f%t,lastCol:(p-1)%t,isStart:r.isStart&&f===o,isEnd:r.isEnd&&p-1===u}),f=p}}return s}}class Y6{constructor(){this.sliceBusinessHours=Ye(this._sliceBusinessHours),this.sliceDateSelection=Ye(this._sliceDateSpan),this.sliceEventStore=Ye(this._sliceEventStore),this.sliceEventDrag=Ye(this._sliceInteraction),this.sliceEventResize=Ye(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,s,...o){let{eventUiBases:u}=e,f=this.sliceEventStore(e.eventStore,u,t,r,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,u,s,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,s,...o),fgEventSegs:f.fg,bgEventSegs:f.bg,eventDrag:this.sliceEventDrag(e.eventDrag,u,t,r,...o),eventResize:this.sliceEventResize(e.eventResize,u,t,r,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,s,...o){return this._sliceDateSpan({range:{start:e,end:Ns(e,1)},allDay:!1},t,r,{},s,...o)}_sliceBusinessHours(e,t,r,s,...o){return e?this._sliceEventStore(Va(e,sd(t,!!r),s),{},t,r,...o).bg:[]}_sliceEventStore(e,t,r,s,...o){if(e){let u=DA(e,t,sd(r,!!s),s);return{bg:this.sliceEventRanges(u.bg,o),fg:this.sliceEventRanges(u.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,s,...o){if(!e)return null;let u=DA(e.mutatedEvents,t,sd(r,!!s),s);return{segs:this.sliceEventRanges(u.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,s,o,...u){if(!e)return[];let f=sd(t,!!r),h=rl(e.range,f);if(h){e=Object.assign(Object.assign({},e),{range:h});let p=y6(e,s,o),y=this.sliceRange(e.range,...u);for(let _ of y)_.eventRange=p;return y}return[]}sliceEventRanges(e,t){let r=[];for(let s of e)r.push(...this.sliceEventRange(s,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:cn(r.start,1)});let s=this.sliceRange(r,...t);for(let o of s)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return s}}function sd(n,e){let t=n.activeRange;return e?t:{start:Ns(t.start,n.slotMinTime.milliseconds),end:Ns(t.end,n.slotMaxTime.milliseconds-864e5)}}function ZC(n,e,t){let{instances:r}=n.mutatedEvents;for(let s in r)if(!Bh(e.validRange,r[s].range))return!1;return JC({eventDrag:n},t)}function K6(n,e,t){return Bh(e.validRange,n.range)?JC({dateSelection:n},t):!1}function JC(n,e){let t=e.getCurrentData(),r=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||X6)(r,e)}function X6(n,e,t={},r){return!(n.eventDrag&&!Z6(n,e,t,r)||n.dateSelection&&!J6(n,e,t,r))}function Z6(n,e,t,r){let s=e.getCurrentData(),o=n.eventDrag,u=o.mutatedEvents,f=u.defs,h=u.instances,p=rh(f,o.isEvent?n.eventUiBases:{"":s.selectionConfig});r&&(p=za(p,r));let y=W4(n.eventStore,o.affectedEvents.instances),_=y.defs,E=y.instances,A=rh(_,n.eventUiBases);for(let w in h){let O=h[w],I=O.range,x=p[O.defId],V=f[O.defId];if(!eD(x.constraints,I,y,n.businessHours,e))return!1;let{eventOverlap:H}=e.options,Z=typeof H=="function"?H:null;for(let oe in E){let M=E[oe];if(Vv(I,M.range)&&(A[M.defId].overlap===!1&&o.isEvent||x.overlap===!1||Z&&!Z(new ot(e,_[M.defId],M),new ot(e,V,O))))return!1}let se=s.eventStore;for(let oe of x.allows){let M=Object.assign(Object.assign({},t),{range:O.range,allDay:V.allDay}),C=se.defs[V.defId],D=se.instances[w],k;if(C?k=new ot(e,C,D):k=new ot(e,V),!oe(zv(M,e),k))return!1}}return!0}function J6(n,e,t,r){let s=n.eventStore,o=s.defs,u=s.instances,f=n.dateSelection,h=f.range,{selectionConfig:p}=e.getCurrentData();if(r&&(p=r(p)),!eD(p.constraints,h,s,n.businessHours,e))return!1;let{selectOverlap:y}=e.options,_=typeof y=="function"?y:null;for(let E in u){let A=u[E];if(Vv(h,A.range)&&(p.overlap===!1||_&&!_(new ot(e,o[A.defId],A),null)))return!1}for(let E of p.allows){let A=Object.assign(Object.assign({},t),f);if(!E(zv(A,e),null))return!1}return!0}function eD(n,e,t,r,s){for(let o of n)if(!t3(e3(o,e,t,r,s),e))return!1;return!0}function e3(n,e,t,r,s){return n==="businessHours"?Tm(Va(r,e,s)):typeof n=="string"?Tm(zh(t,o=>o.groupId===n)):typeof n=="object"&&n?Tm(Va(n,e,s)):[]}function Tm(n){let{instances:e}=n,t=[];for(let r in e)t.push(e[r].range);return t}function t3(n,e){for(let t of n)if(Bh(t,e))return!0;return!1}const ad=/^(visible|hidden)$/;class n3 extends gt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Si(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:r}=e,s=t&&r,o=["fc-scroller"];return t&&(r?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),X("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(ad.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(ad.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return ad.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return ad.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Sa{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,r)=>{let{depths:s,currentMap:o}=this,u=!1,f=!1;t!==null?(u=r in o,o[r]=t,s[r]=(s[r]||0)+1,f=!0):(s[r]-=1,s[r]||(delete o[r],delete this.callbackMap[r],u=!0)),this.masterCallback&&(u&&this.masterCallback(null,String(r)),f&&this.masterCallback(t,String(r)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),t}collect(e,t,r){return c4(this.currentMap,e,t,r)}getAll(){return kv(this.currentMap)}}function r3(n){let e=cU(n,".fc-scrollgrid-shrink"),t=0;for(let r of e)t=Math.max(t,SU(r));return Math.ceil(t)}function tD(n,e){return n.liquid&&e.liquid}function i3(n,e){return e.maxHeight!=null||tD(n,e)}function s3(n,e,t,r){let{expandRows:s}=t;return typeof e.content=="function"?e.content(t):X("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,X(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function a3(n,e){return Os(n,e,Pr)}function o3(n,e){let t=[];for(let r of n){let s=r.span||1;for(let o=0;o<s;o+=1)t.push(X("col",{style:{width:r.width==="shrink"?l3(e):r.width||"",minWidth:r.minWidth||""}}))}return X("colgroup",{},...t)}function l3(n){return n??4}function u3(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function c3(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function f3(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function d3(n){return X("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function kA(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function h3(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class nD extends gt{constructor(){super(...arguments),this.processCols=Ye(e=>e,a3),this.renderMicroColGroup=Ye(o3),this.scrollerRefs=new Sa,this.scrollerElRefs=new Sa(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:r}=this,s=e.sections||[],o=this.processCols(e.cols),u=this.renderMicroColGroup(o,t.shrinkWidth),f=c3(e.liquid,r);e.collapsibleWidth&&f.push("fc-scrollgrid-collapsible");let h=s.length,p=0,y,_=[],E=[],A=[];for(;p<h&&(y=s[p]).type==="header";)_.push(this.renderSection(y,u,!0)),p+=1;for(;p<h&&(y=s[p]).type==="body";)E.push(this.renderSection(y,u,!1)),p+=1;for(;p<h&&(y=s[p]).type==="footer";)A.push(this.renderSection(y,u,!0)),p+=1;let w=!qC();const O={role:"rowgroup"};return X("table",{role:"grid",className:f.join(" "),style:{height:e.height}},!!(!w&&_.length)&&X("thead",O,..._),!!(!w&&E.length)&&X("tbody",O,...E),!!(!w&&A.length)&&X("tfoot",O,...A),w&&X("tbody",O,..._,...E,...A))}renderSection(e,t,r){return"outerContent"in e?X(St,{key:e.key},e.outerContent):X("tr",{key:e.key,role:"presentation",className:f3(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,r))}renderChunkTd(e,t,r,s){if("outerContent"in r)return r.outerContent;let{props:o}=this,{forceYScrollbars:u,scrollerClientWidths:f,scrollerClientHeights:h}=this.state,p=i3(o,e),y=tD(o,e),_=o.liquid?u?"scroll":p?"auto":"hidden":"visible",E=e.key,A=s3(e,r,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&f[E]!==void 0?f[E]:null,clientHeight:h[E]!==void 0?h[E]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return X(s?"th":"td",{ref:r.elRef,role:"presentation"},X("div",{className:`fc-scroller-harness${y?" fc-scroller-harness-liquid":""}`},X(n3,{ref:this.scrollerRefs.createRef(E),elRef:this.scrollerElRefs.createRef(E),overflowY:_,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:y,liquidIsAbsolute:!0},A)))}_handleScrollerEl(e,t){let r=g3(this.props.sections,t);r&&Si(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return u3(this.props.cols)?r3(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=N6(),{scrollerRefs:t,scrollerElRefs:r}=this,s=!1,o={},u={};for(let f in t.currentMap){let h=t.currentMap[f];if(h&&h.needsYScrolling()){s=!0;break}}for(let f of this.props.sections){let h=f.key,p=r.currentMap[h];if(p){let y=p.parentNode;o[h]=Math.floor(y.getBoundingClientRect().width-(s?e.y:0)),u[h]=Math.floor(y.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:u}}}nD.addStateEquality({scrollerClientWidths:Pr,scrollerClientHeights:Pr});function g3(n,e){for(let t of n)if(t.key===e)return t;return null}class Yv extends gt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&IA(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:r}=t,{seg:s}=e,{eventRange:o}=s,{ui:u}=o,f={event:new ot(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!e.disableDragging&&a6(s,t),isStartResizable:!e.disableResizing&&o6(s,t),isEndResizable:!e.disableResizing&&l6(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return X(Ci,Object.assign({},e,{elRef:this.handleEl,elClasses:[...u6(f),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:f,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&IA(this.el,this.props.seg)}}class p3 extends gt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:s}=e,{ui:o}=s.eventRange,u=r.eventTimeFormat||e.defaultTimeFormat,f=BC(s,u,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return X(Yv,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:zC(s,t),defaultGenerator:m3,timeText:f}),(h,p)=>X(St,null,X(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:p.textColor}}),!!p.isStartResizable&&X("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!p.isEndResizable&&X("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function m3(n){return X("div",{className:"fc-event-main-frame"},n.timeText&&X("div",{className:"fc-event-time"},n.timeText),X("div",{className:"fc-event-title-container"},X("div",{className:"fc-event-title fc-sticky"},n.event.title||X(St,null,""))))}const y3=$t({day:"numeric"});class rD extends gt{constructor(){super(...arguments),this.refineRenderProps=Sd(v3)}render(){let{props:e,context:t}=this,{options:r}=t,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return X(Ci,Object.assign({},e,{elClasses:[...qv(s,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":xv(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function iD(n){return!!(n.dayCellContent||cy("dayCellContent",n))}function v3(n){let{date:e,dateEnv:t,dateProfile:r,isMonthStart:s}=n,o=QC(e,n.todayRange,null,r),u=n.showDayNumber?t.format(e,s?n.monthStartFormat:y3):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},o),{isMonthStart:s,dayNumberText:u}),n.extraRenderProps)}class _3 extends gt{render(){let{props:e}=this,{seg:t}=e;return X(Yv,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:E3,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function E3(n){let{title:e}=n.event;return e&&X("div",{className:"fc-event-title"},n.event.title)}function b3(n){return X("div",{className:`fc-${n}`})}const T3=n=>X(ja.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:s}=n,o=r.weekNumberFormat||n.defaultFormat,u=t.computeWeekNumber(s),f=t.format(s,o);return X(Ci,Object.assign({},n,{renderProps:{num:u,text:f,date:s},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:A3,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function A3(n){return n.text}const Am=10;class S3 extends gt{constructor(){super(...arguments),this.state={titleId:Uh()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Si(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=mC(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r,state:s}=this,o=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return KL(X("div",Object.assign({},r.extraAttrs,{id:r.id,className:o.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),X("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},X("span",{className:"fc-popover-title",id:s.titleId},r.title),X("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),X("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:r}=this.props,{rootEl:s}=this,o=V6(t);if(o){let u=s.getBoundingClientRect(),f=r?un(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,h=e?o.right-u.width:o.left;f=Math.max(f,Am),h=Math.min(h,document.documentElement.clientWidth-Am-u.width),h=Math.max(h,Am);let p=s.offsetParent.getBoundingClientRect();Uu(s,{top:f-p.top,left:h-p.left})}}}class w3 extends qa{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:s,todayRange:o,dateProfile:u}=r,f=t.format(s,e.dayPopoverFormat);return X(rD,{elRef:this.handleRootEl,date:s,dateProfile:u,todayRange:o},(h,p,y)=>X(S3,{elRef:y.ref,id:r.id,title:f,extraClassNames:["fc-more-popover"].concat(y.className||[]),extraAttrs:y,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},iD(e)&&X(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,t,r,s){let{rootEl:o,props:u}=this;return e>=0&&e<r&&t>=0&&t<s?{dateProfile:u.dateProfile,dateSpan:Object.assign({allDay:!u.forceTimed,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:r,bottom:s},layer:1}:null}}class R3 extends gt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Uh()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Si(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{moreLinkClick:s}=r.options,o=PA(t).start;function u(f){let{def:h,instance:p,range:y}=f.eventRange;return{event:new ot(r,h,p),start:r.dateEnv.toDate(y.start),end:r.dateEnv.toDate(y.end),isStart:f.isStart,isEnd:f.isEnd}}typeof s=="function"&&(s=s({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(u),hiddenSegs:t.hiddenSegs.map(u),jsEvent:e,view:r.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&r.calendarApi.zoomTo(o,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return X(ja.Consumer,null,r=>{let{viewApi:s,options:o,calendarApi:u}=r,{moreLinkText:f}=o,{moreCnt:h}=e,p=PA(e),y=typeof f=="function"?f.call(u,h):`+${h} ${f}`,_=Hu(o.moreLinkHint,[h],y),E={num:h,shortText:`+${h}`,text:y,view:s};return X(St,null,!!e.moreCnt&&X(Ci,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),vC(this.handleClick)),{title:_,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:E,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||C3,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&X(w3,{id:t.popoverId,startDate:p.start,endDate:p.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=un(this.linkEl,".fc-view-harness"))}}function C3(n){return n.text}function PA(n){if(n.allDayDate)return{start:n.allDayDate,end:cn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:D3(e),end:x3(e)}}function D3(n){return n.reduce(I3).eventRange.range.start}function I3(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function x3(n){return n.reduce(O3).eventRange.range.end}function O3(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class N3{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class M3 extends N3{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}}const k3=[],sD={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},aD=Object.assign(Object.assign({},sD),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function P3(n){let e=n.length>0?n[0].code:"en",t=k3.concat(n),r={en:aD};for(let s of t)r[s.code]=s;return{map:r,defaultCode:e}}function oD(n,e){return typeof n=="object"&&!Array.isArray(n)?lD(n.code,[n.code],n):V3(n,e)}function V3(n,e){let t=[].concat(n||[]),r=L3(t,e)||aD;return lD(n,t,r)}function L3(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let s=r.length;s>0;s-=1){let o=r.slice(0,s).join("-");if(e[o])return e[o]}}return null}function lD(n,e,t){let r=Mv([sD,t],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:n,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function Us(n){return{id:Ba(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function U3(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(o){for(let u of o){const f=u.name,h=t[f];h===void 0?(t[f]=u.id,s(u.deps),r=B3(r,u)):h!==u.id&&console.warn(`Duplicate plugin '${f}'`)}}return n&&s(n),s(e),r}function H3(){let n=[],e=[],t;return(r,s)=>((!t||!Os(r,n)||!Os(s,e))&&(t=U3(r,s)),n=r,e=s,t)}function B3(n,e){return{premiumReleaseDate:z3(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function z3(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Hs extends Tc{}Hs.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Hs.prototype.baseIconClass="fc-icon";Hs.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Hs.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Hs.prototype.iconOverrideOption="buttonIcons";Hs.prototype.iconOverrideCustomButtonOption="icon";Hs.prototype.iconOverridePrefix="fc-icon-";function j3(n,e){let t={},r;for(r in n)py(r,t,n,e);for(r in e)py(r,t,n,e);return t}function py(n,e,t,r){if(e[n])return e[n];let s=F3(n,e,t,r);return s&&(e[n]=s),s}function F3(n,e,t,r){let s=t[n],o=r[n],u=y=>s&&s[y]!==null?s[y]:o&&o[y]!==null?o[y]:null,f=u("component"),h=u("superType"),p=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");p=py(h,e,t,r)}return!f&&p&&(f=p.component),f?{type:n,component:f,defaults:Object.assign(Object.assign({},p?p.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},p?p.overrides:{}),o?o.rawOptions:{})}:null}function VA(n){return za(n,q3)}function q3(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=LA(e):t&&!(t.prototype instanceof gt)&&(t=LA(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function LA(n){return e=>X(ja.Consumer,null,t=>X(Ci,{elTag:"div",elClasses:RC(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function G3(n,e,t,r){let s=VA(n),o=VA(e.views),u=j3(s,o);return za(u,f=>Q3(f,o,e,t,r))}function Q3(n,e,t,r,s){let o=n.overrides.duration||n.defaults.duration||r.duration||t.duration,u=null,f="",h="",p={};if(o&&(u=$3(o),u)){let E=ly(u);f=E.unit,E.value===1&&(h=f,p=e[f]?e[f].rawOptions:{})}let y=E=>{let A=E.buttonText||{},w=n.defaults.buttonTextKey;return w!=null&&A[w]!=null?A[w]:A[n.type]!=null?A[n.type]:A[h]!=null?A[h]:null},_=E=>{let A=E.buttonHints||{},w=n.defaults.buttonTextKey;return w!=null&&A[w]!=null?A[w]:A[n.type]!=null?A[n.type]:A[h]!=null?A[h]:null};return{type:n.type,component:n.component,duration:u,durationUnit:f,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},p),n.overrides),buttonTextOverride:y(r)||y(t)||n.overrides.buttonText,buttonTextDefault:y(s)||n.defaults.buttonText||y(Bu)||n.type,buttonTitleOverride:_(r)||_(t)||n.overrides.buttonHint,buttonTitleDefault:_(s)||n.defaults.buttonHint||_(Bu)}}let UA={};function $3(n){let e=JSON.stringify(n),t=UA[e];return t===void 0&&(t=We(n),UA[e]=t),t}function W3(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function Y3(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function K3(n,e,t,r){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(s=r.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(n,t),s.isValid)return s;break}return n}function X3(n,e,t){let r=e?e.activeRange:null;return cD({},iH(n,t),r,t)}function Z3(n,e,t,r){let s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return cD(n,e.sources,s,r);case"REMOVE_EVENT_SOURCE":return eH(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?fD(n,s,r):n;case"FETCH_EVENT_SOURCES":return Kv(n,e.sourceIds?bC(e.sourceIds):dD(n,r),s,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return rH(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function J3(n,e,t){let r=e?e.activeRange:null;return Kv(n,dD(n,t),r,!0,t)}function uD(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function cD(n,e,t,r){let s={};for(let o of e)s[o.sourceId]=o;return t&&(s=fD(s,t,r)),Object.assign(Object.assign({},n),s)}function eH(n,e){return Pa(n,t=>t.sourceId!==e)}function fD(n,e,t){return Kv(n,Pa(n,r=>tH(r,e,t)),e,!1,t)}function tH(n,e,t){return hD(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function Kv(n,e,t,r,s){let o={};for(let u in n){let f=n[u];e[u]?o[u]=nH(f,t,r,s):o[u]=f}return o}function nH(n,e,t,r){let{options:s,calendarApi:o}=r,u=r.pluginHooks.eventSourceDefs[n.sourceDefId],f=Ba();return u.fetch({eventSource:n,range:e,isRefetch:t,context:r},h=>{let{rawEvents:p}=h;s.eventSourceSuccess&&(p=s.eventSourceSuccess.call(o,p,h.response)||p),n.success&&(p=n.success.call(o,p,h.response)||p),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:f,fetchRange:e,rawEvents:p})},h=>{let p=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(o,h),p=!0),n.failure&&(n.failure(h),p=!0),p||console.warn(h.message,h),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:f,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:f})}function rH(n,e,t,r){let s=n[e];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):n}function dD(n,e){return Pa(n,t=>hD(t,e))}function iH(n,e){let t=kC(e),r=[].concat(n.eventSources||[]),s=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let o of r){let u=MC(o,e,t);u&&s.push(u)}return s}function hD(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function sH(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function aH(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function oH(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function lH(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function uH(n,e,t,r,s){let o=n.headerToolbar?HA(n.headerToolbar,n,e,t,r,s):null,u=n.footerToolbar?HA(n.footerToolbar,n,e,t,r,s):null;return{header:o,footer:u}}function HA(n,e,t,r,s,o){let u={},f=[],h=!1;for(let p in n){let y=n[p],_=cH(y,e,t,r,s,o);u[p]=_.widgets,f.push(..._.viewsWithButtons),h=h||_.hasTitle}return{sectionWidgets:u,viewsWithButtons:f,hasTitle:h}}function cH(n,e,t,r,s,o){let u=e.direction==="rtl",f=e.customButtons||{},h=t.buttonText||{},p=e.buttonText||{},y=t.buttonHints||{},_=e.buttonHints||{},E=n?n.split(" "):[],A=[],w=!1;return{widgets:E.map(I=>I.split(",").map(x=>{if(x==="title")return w=!0,{buttonName:x};let V,H,Z,se,oe,M;if(V=f[x])Z=C=>{V.click&&V.click.call(C.target,C,C.target)},(se=r.getCustomButtonIconClass(V))||(se=r.getIconClass(x,u))||(oe=V.text),M=V.hint||V.text;else if(H=s[x]){A.push(x),Z=()=>{o.changeView(x)},(oe=H.buttonTextOverride)||(se=r.getIconClass(x,u))||(oe=H.buttonTextDefault);let C=H.buttonTextOverride||H.buttonTextDefault;M=Hu(H.buttonTitleOverride||H.buttonTitleDefault||e.viewHint,[C,x],C)}else if(o[x])if(Z=()=>{o[x]()},(oe=h[x])||(se=r.getIconClass(x,u))||(oe=p[x]),x==="prevYear"||x==="nextYear"){let C=x==="prevYear"?"prev":"next";M=Hu(y[C]||_[C],[p.year||"year","year"],p[x])}else M=C=>Hu(y[x]||_[x],[p[C]||C,C],p[x]);return{buttonName:x,buttonClick:Z,buttonIcon:se,buttonText:oe,buttonHint:M}})),viewsWithButtons:A,hasTitle:w}}class fH{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let dH={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const hH=Us({name:"array-event-source",eventSourceDefs:[dH]});let gH={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:r}=n.context,s=n.eventSource.meta;v6(s.bind(null,jC(n.range,r)),o=>e({rawEvents:o}),t)}};const pH=Us({name:"func-event-source",eventSourceDefs:[gH]}),mH={method:String,extraParams:Y,startParam:String,endParam:String,timeZoneParam:String};let yH={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:r}=n.eventSource,s=_H(r,n.range,n.context);_6(r.method,r.url,s).then(([o,u])=>{e({rawEvents:o,response:u})},t)}};const vH=Us({name:"json-event-source",eventSourceRefiners:mH,eventSourceDefs:[yH]});function _H(n,e,t){let{dateEnv:r,options:s}=t,o,u,f,h,p={};return o=n.startParam,o==null&&(o=s.startParam),u=n.endParam,u==null&&(u=s.endParam),f=n.timeZoneParam,f==null&&(f=s.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(p,h),p[o]=r.formatIso(e.start),p[u]=r.formatIso(e.end),r.timeZone!=="local"&&(p[f]=r.timeZone),p}const EH={daysOfWeek:Y,startTime:We,endTime:We,duration:We,startRecur:Y,endRecur:Y};let bH={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=DU(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=rl(e,{start:n.startRecur,end:n.endRecur});return r?AH(n.daysOfWeek,n.startTime,r,t):[]}};const TH=Us({name:"simple-recurring-event",recurringTypes:[bH],eventRefiners:EH});function AH(n,e,t,r){let s=n?bC(n):null,o=at(t.start),u=t.end,f=[];for(;o<u;){let h;(!s||s[o.getUTCDay()])&&(e?h=r.add(o,e):h=o,f.push(h)),o=cn(o,1)}return f}const SH=Us({name:"change-handler",optionChangeHandlers:{events(n,e){BA([n],e)},eventSources:BA}});function BA(n,e){let t=kv(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let s of n){let o=!1;for(let u=0;u<t.length;u+=1)if(t[u]._raw===s){t.splice(u,1),o=!0;break}o||r.push(s)}for(let s of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)e.calendarApi.addEventSource(s)}function wH(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},jC(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function RH(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ra(n,e))}const CH=[hH,pH,vH,TH,SH,Us({name:"misc",isLoadingFuncs:[n=>uD(n.eventSources)],propSetHandlers:{dateProfile:wH,eventStore:RH}})];class DH{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Rv(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function IH(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,$t(e.titleFormat||xH(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function xH(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Kd(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class OH{constructor(e){this.computeCurrentViewData=Ye(this._computeCurrentViewData),this.organizeRawLocales=Ye(P3),this.buildLocale=Ye(oD),this.buildPluginHooks=H3(),this.buildDateEnv=Ye(NH),this.buildTheme=Ye(MH),this.parseToolbars=Ye(uH),this.buildViewSpecs=Ye(G3),this.buildDateProfileGenerator=Sd(kH),this.buildViewApi=Ye(PH),this.buildViewUiProps=Sd(UH),this.buildEventUiBySource=Ye(VH,Pr),this.buildEventUiBases=Ye(LH),this.parseContextBusinessHours=Sd(HH),this.buildTitle=Ye(IH),this.emitter=new jh,this.actionRunner=new DH(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=E=>{this.actionRunner.request(E)},this.props=e,this.actionRunner.pause();let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),s=r.calendarOptions.initialView||r.pluginHooks.initialView,o=this.computeCurrentViewData(s,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let u=x4(r.calendarOptions,r.dateEnv),f=o.dateProfileGenerator.build(u);Ss(f.activeRange,u)||(u=f.currentRange.start);let h={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let E of r.pluginHooks.contextInit)E(h);let p=X3(r.calendarOptions,f,h),y={dynamicOptionOverrides:t,currentViewType:s,currentDate:u,dateProfile:f,businessHours:this.parseContextBusinessHours(h),eventSources:p,eventUiBases:{},eventStore:lr(),renderableEventStore:lr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},_=Object.assign(Object.assign({},h),y);for(let E of r.pluginHooks.reducers)Object.assign(y,E(null,null,_));Sm(y,h)&&this.emitter.trigger("loading",!0),this.state=y,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:s}=this,o=Y3(r.dynamicOptionOverrides,e),u=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),f=W3(r.currentViewType,e),h=this.computeCurrentViewData(f,u,t.optionOverrides,o);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(h.options);let p={dateEnv:u.dateEnv,options:u.calendarOptions,pluginHooks:u.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:y,dateProfile:_}=r;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(_=h.dateProfileGenerator.build(y)),y=I4(y,e),_=K3(_,e,y,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ss(_.currentRange,y))&&(y=_.currentRange.start);let E=Z3(r.eventSources,e,_,p),A=q4(r.eventStore,e,E,_,p),O=uD(E)&&!h.options.progressiveEventRendering&&r.renderableEventStore||A,{eventUiSingleBase:I,selectionConfig:x}=this.buildViewUiProps(p),V=this.buildEventUiBySource(E),H=this.buildEventUiBases(O.defs,I,V),Z={dynamicOptionOverrides:o,currentViewType:f,currentDate:y,dateProfile:_,eventSources:E,eventStore:A,renderableEventStore:O,selectionConfig:x,eventUiBases:H,businessHours:this.parseContextBusinessHours(p),dateSelection:sH(r.dateSelection,e),eventSelection:aH(r.eventSelection,e),eventDrag:oH(r.eventDrag,e),eventResize:lH(r.eventResize,e)},se=Object.assign(Object.assign({},p),Z);for(let C of u.pluginHooks.reducers)Object.assign(Z,C(r,e,se));let oe=Sm(r,p),M=Sm(Z,p);!oe&&M?s.trigger("loading",!0):oe&&!M&&s.trigger("loading",!1),this.state=Z,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,s=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,s,e.optionOverrides,t.dynamicOptionOverrides),u=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,o.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),o),t),f=s.pluginHooks.optionChangeHandlers,h=r&&r.calendarOptions,p=s.calendarOptions;if(h&&h!==p){h.timeZone!==p.timeZone&&(t.eventSources=u.eventSources=J3(u.eventSources,t.dateProfile,u),t.eventStore=u.eventStore=RA(u.eventStore,r.dateEnv,u.dateEnv),t.renderableEventStore=u.renderableEventStore=RA(u.renderableEventStore,r.dateEnv,u.dateEnv));for(let y in f)(this.optionsForHandling.indexOf(y)!==-1||h[y]!==p[y])&&f[y](p[y],u)}this.optionsForHandling=[],e.onData&&e.onData(u)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:o,localeDefaults:u,availableLocaleData:f,extra:h}=this.processRawCalendarOptions(e,t);zA(h);let p=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,o,f,s.defaultRangeSeparator),y=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,u),_=this.buildTheme(s,o),E=this.parseToolbars(s,this.stableOptionOverrides,_,y,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:o,dateEnv:p,viewSpecs:y,theme:_,toolbarConfig:E,localeDefaults:u,availableRawLocales:f.map}}processRawCalendarOptions(e,t){let{locales:r,locale:s}=mm([Bu,e,t]),o=this.organizeRawLocales(r),u=o.map,f=this.buildLocale(s||o.defaultCode,u).options,h=this.buildPluginHooks(e.plugins||[],CH),p=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_A),EA),bA),h.listenerRefiners),h.optionRefiners),y={},_=mm([Bu,f,e,t]),E={},A=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,O=!1;for(let I in _)this.optionsForRefining.indexOf(I)===-1&&(_[I]===A[I]||_a[I]&&I in A&&_a[I](A[I],_[I]))?E[I]=w[I]:p[I]?(E[I]=p[I](_[I]),O=!0):y[I]=A[I];return O&&(this.currentCalendarOptionsInput=_,this.currentCalendarOptionsRefined=E,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:o,localeDefaults:f,extra:y}}_computeCurrentViewData(e,t,r,s){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:u,extra:f}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,r,s);zA(f);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:u.slotMinTime,slotMaxTime:u.slotMaxTime,showNonCurrentDates:u.showNonCurrentDates,dayCount:u.dayCount,dateAlignment:u.dateAlignment,dateIncrement:u.dateIncrement,hiddenDays:u.hiddenDays,weekends:u.weekends,nowInput:u.now,validRangeInput:u.validRange,visibleRangeInput:u.visibleRange,fixedWeekCount:u.fixedWeekCount}),p=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:u,dateProfileGenerator:h,viewApi:p}}processRawViewOptions(e,t,r,s,o){let u=mm([Bu,e.optionDefaults,r,s,e.optionOverrides,o]),f=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_A),EA),bA),a4),t.listenerRefiners),t.optionRefiners),h={},p=this.currentViewOptionsInput,y=this.currentViewOptionsRefined,_=!1,E={};for(let A in u)u[A]===p[A]||_a[A]&&_a[A](u[A],p[A])?h[A]=y[A]:(u[A]===this.currentCalendarOptionsInput[A]||_a[A]&&_a[A](u[A],this.currentCalendarOptionsInput[A])?A in this.currentCalendarOptionsRefined&&(h[A]=this.currentCalendarOptionsRefined[A]):f[A]?h[A]=f[A](u[A]):E[A]=u[A],_=!0);return _&&(this.currentViewOptionsInput=u,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:E}}}function NH(n,e,t,r,s,o,u,f){let h=oD(e||u.defaultCode,u.map);return new m4({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:r,weekText:s,cmdFormatter:o.cmdFormatter,defaultSeparator:f})}function MH(n,e){let t=e.themeClasses[n.themeSystem]||Hs;return new t(n)}function kH(n){let e=n.dateProfileGeneratorClass||IC;return new e(n)}function PH(n,e,t){return new fH(n,e,t)}function VH(n){return za(n,e=>e.ui)}function LH(n,e,t){let r={"":e};for(let s in n){let o=n[s];o.sourceId&&t[o.sourceId]&&(r[s]=t[o.sourceId])}return r}function UH(n){let{options:e}=n;return{eventUiSingleBase:nh({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:nh({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Sm(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function HH(n){return J4(n.options.businessHours,n)}function zA(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class BH extends gt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return X("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:r}=this.context,s=[],o=!0;for(let u of e){let{buttonName:f,buttonClick:h,buttonText:p,buttonIcon:y,buttonHint:_}=u;if(f==="title")o=!1,s.push(X("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let E=f===t.activeButton,A=!t.isTodayEnabled&&f==="today"||!t.isPrevEnabled&&f==="prev"||!t.isNextEnabled&&f==="next",w=[`fc-${f}-button`,r.getClass("button")];E&&w.push(r.getClass("buttonActive")),s.push(X("button",{type:"button",title:typeof _=="function"?_(t.navUnit):_,disabled:A,"aria-pressed":E,className:w.join(" "),onClick:h},p||(y?X("span",{className:y,role:"img"}):"")))}}if(s.length>1){let u=o&&r.getClass("buttonGroup")||"";return X("div",{className:u},...s)}return s[0]}}class jA extends gt{render(){let{model:e,extraClassName:t}=this.props,r=!1,s,o,u=e.sectionWidgets,f=u.center;return u.left?(r=!0,s=u.left):s=u.start,u.right?(r=!0,o=u.right):o=u.end,X("div",{className:[t||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",f||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:r}=this;return X(BH,{key:e,widgetGroups:t,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class zH extends gt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Si(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:r}=e,s=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",u="";return r?t.availableWidth!==null?o=t.availableWidth/r:u=`${1/r*100}%`:o=e.height||"",X("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:o,paddingBottom:u}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class jH extends yl{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:s}=this,{context:o}=s,u=il(r);if(u&&s.isValidSegDownEl(t.target)){let f=un(t.target,".fc-event-forced-url"),h=f?f.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:r,event:new ot(s.context,u.eventRange.def,u.eventRange.instance),jsEvent:t,view:o.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=yC(e.el,"click",".fc-event",this.handleSegClick)}}class FH extends yl{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{il(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=hU(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:s}=this,{context:o}=s,u=il(r);(!t||s.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:r,event:new ot(o,u.eventRange.def,u.eventRange.instance),jsEvent:t,view:o.viewApi})}}class qH extends Fa{constructor(){super(...arguments),this.buildViewContext=Ye(_4),this.buildViewPropTransformers=Ye(QH),this.buildToolbarProps=Ye(GH),this.headerRef=Ai(),this.footerRef=Ai(),this.interactionsStore={},this.state={viewLabelId:Uh()},this.registerInteractiveComponent=(e,t)=>{let r=T6(e,t),u=[jH,FH].concat(this.props.pluginHooks.componentInteractions).map(f=>new f(r));this.interactionsStore[e.uid]=u,hy[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete hy[e.uid]},this.resizeRunner=new Rv(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,s=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Ac(e.options.now,e.dateEnv),e.viewTitle),o=!1,u="",f;e.isHeightAuto||e.forPrint?u="":r.height!=null?o=!0:r.contentHeight!=null?u=r.contentHeight:f=Math.max(r.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),p=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return X(ja.Provider,{value:h},t.header&&X(jA,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:p},s)),X(zH,{liquid:o,height:u,aspectRatio:f,labeledById:p},this.renderView(e),this.buildAppendContent()),t.footer&&X(jA,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let s in r)t[s]!==e[s]&&r[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return X(St,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:r}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let f of o)Object.assign(s,f.transform(s,e));let u=r.component;return X(u,Object.assign({},s))}}function GH(n,e,t,r,s,o){let u=t.build(s,void 0,!1),f=t.buildPrev(e,r,!1),h=t.buildNext(e,r,!1);return{title:o,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:u.isValid&&!Ss(e.currentRange,s),isPrevEnabled:f.isValid,isNextEnabled:h.isValid}}function QH(n){return n.map(e=>new e)}let $H=class extends A6{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;eh(()=>{tc(X(b6,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(s,o,u,f)=>(this.setClassNames(s),this.setHeight(o),X(wC.Provider,{value:this.customContentRenderId},X(qH,Object.assign({isHeightAuto:u,forPrint:f},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,tc(null,this.el),this.setClassNames([]),this.setHeight(""))},iU(e),this.el=e,this.renderRunner=new Rv(this.handleRenderRequest),new OH({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){eh(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Os(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){pC(this.el,"height",e)}};const WH=parseInt(String(Le.version).split(".")[0]),YH=WH<18;class gD extends q.Component{constructor(){super(...arguments),this.elRef=q.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Le.createElement(KH,{key:t.id,customRendering:t}));return Le.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new M3;this.handleCustomRendering=e.handle.bind(e),this.calendar=new $H(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{ey.flushSync(()=>{})});let t;e.subscribe(r=>{const s=Date.now(),o=!t;(YH||o||this.isUpdating||this.isUnmounting||s-t<100?pD:ey.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{t=s,o?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}gD.act=pD;class KH extends q.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,r=typeof t=="function"?t(e.renderProps):t;return ey.createPortal(r,e.containerEl)}}function pD(n){n()}class XH extends qa{constructor(){super(...arguments),this.headerElRef=Ai()}renderSimpleLayout(e,t){let{props:r,context:s}=this,o=[],u=kA(s.options);return e&&o.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),X(TA,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},X(nD,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,r,s){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:u,context:f}=this,h=!u.forPrint&&kA(f.options),p=!u.forPrint&&h3(f.options),y=[];return e&&y.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),y.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),p&&y.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:d3}]}),X(TA,{elClasses:["fc-daygrid"],viewSpec:f.viewSpec},X(o,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:r,minWidth:s}]}],sections:y}))}}function od(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.row].push(r);return t}function ld(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.firstCol].push(r);return t}function FA(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}const mD=$t({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function yD(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class vD extends gt{render(){let{props:e}=this;return X(p3,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:mD,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class _D extends gt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:s}=e,o=r.eventTimeFormat||mD,u=BC(s,o,t,!0,e.defaultDisplayEventEnd);return X(Yv,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:zC(e.seg,t),defaultGenerator:ZH,timeText:u,isResizing:!1,isDateSelecting:!1}))}}function ZH(n){return X(St,null,X("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&X("div",{className:"fc-event-time"},n.timeText),X("div",{className:"fc-event-title"},n.event.title||X(St,null,"")))}class JH extends gt{constructor(){super(...arguments),this.compileSegs=Ye(eB)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return X(R3,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return X(St,null,t.map(o=>{let u=o.eventRange.instance.instanceId;return X("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:s[u]?"hidden":""}},yD(o)?X(_D,Object.assign({seg:o,isDragging:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},zu(o,e.todayRange))):X(vD,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},zu(o,e.todayRange))))}))}})}}function eB(n){let e=[],t=[];for(let r of n)e.push(r.seg),r.isVisible||t.push(r.seg);return{allSegs:e,invisibleSegs:t}}const tB=$t({week:"narrow"});class nB extends qa{constructor(){super(...arguments),this.rootElRef=Ai(),this.state={dayNumberId:Uh()},this.handleRootEl=e=>{Si(this.rootElRef,e),Si(this.props.elRef,e)}}render(){let{context:e,props:t,state:r,rootElRef:s}=this,{options:o,dateEnv:u}=e,{date:f,dateProfile:h}=t;const p=t.showDayNumber&&iB(f,h.currentRange,u);return X(rD,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:rB,date:f,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:p,extraRenderProps:t.extraRenderProps},(y,_)=>X("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&X(T3,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:gy(e,f,"week"),date:f,defaultFormat:tB}),!_.isDisabled&&(t.showDayNumber||iD(o)||t.forceDayTop)?X("div",{className:"fc-daygrid-day-top"},X(y,{elTag:"a",elClasses:["fc-daygrid-day-number",p&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},gy(e,f)),{id:r.dayNumberId})})):t.showDayNumber?X("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},X("a",{className:"fc-daygrid-day-number"},"")):void 0,X("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,X("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},X(JH,{allDayDate:f,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),X("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function rB(n){return n.dayNumberText||X(St,null,"")}function iB(n,e,t){const{start:r,end:s}=e,o=Ns(s,-1),u=t.getYear(r),f=t.getMonth(r),h=t.getYear(o),p=t.getMonth(o);return!(u===h&&f===p)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<s.valueOf())}function ED(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function bD(n){return ED(n)+":"+n.lastCol}function sB(n,e,t,r,s,o,u){let f=new lB(x=>{let V=n[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return s[V]||1});f.allowReslicing=!0,f.strictOrder=r,e===!0||t===!0?(f.maxCoord=o,f.hiddenConsumes=!0):typeof e=="number"?f.maxStackCnt=e:typeof t=="number"&&(f.maxStackCnt=t,f.hiddenConsumes=!0);let h=[],p=[];for(let x=0;x<n.length;x+=1){let V=n[x],H=bD(V);s[H]!=null?h.push({index:x,span:{start:V.firstCol,end:V.lastCol+1}}):p.push(V)}let y=f.addSegs(h),_=f.toRects(),{singleColPlacements:E,multiColPlacements:A,leftoverMargins:w}=aB(_,n,u),O=[],I=[];for(let x of p){A[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let V=x.firstCol;V<=x.lastCol;V+=1)E[V].push({seg:$o(x,V,V+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<u.length;x+=1)O.push(0);for(let x of y){let V=n[x.index],H=x.span;A[H.start].push({seg:$o(V,H.start,H.end,u),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Z=H.start;Z<H.end;Z+=1)O[Z]+=1,E[Z].push({seg:$o(V,Z,Z+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<u.length;x+=1)I.push(w[x]);return{singleColPlacements:E,multiColPlacements:A,moreCnts:O,moreMarginTops:I}}function aB(n,e,t){let r=oB(n,t.length),s=[],o=[],u=[];for(let f=0;f<t.length;f+=1){let h=r[f],p=[],y=0,_=0;for(let A of h){let w=e[A.index];p.push({seg:$o(w,f,f+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:A.levelCoord,marginTop:A.levelCoord-y}),y=A.levelCoord+A.thickness}let E=[];y=0,_=0;for(let A of h){let w=e[A.index],O=A.span.end-A.span.start>1,I=A.span.start===f;_+=A.levelCoord-y,y=A.levelCoord+A.thickness,O?(_+=A.thickness,I&&E.push({seg:$o(w,A.span.start,A.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:A.levelCoord,marginTop:0})):I&&(E.push({seg:$o(w,A.span.start,A.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:A.levelCoord,marginTop:_}),_=0)}s.push(p),o.push(E),u.push(_)}return{singleColPlacements:s,multiColPlacements:o,leftoverMargins:u}}function oB(n,e){let t=[];for(let r=0;r<e;r+=1)t.push([]);for(let r of n)for(let s=r.span.start;s<r.span.end;s+=1)t[s].push(r);return t}function $o(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;let s=n.eventRange,o=s.range,u=rl(o,{start:r[e].date,end:cn(r[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:u},isStart:n.isStart&&u.start.valueOf()===o.start.valueOf(),isEnd:n.isEnd&&u.end.valueOf()===o.end.valueOf()})}class lB extends H6{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:r}=this,s=o=>!this.forceHidden[ju(o)];for(let o=0;o<r.length;o+=1)r[o]=r[o].filter(s);return t}handleInvalidInsertion(e,t,r){const{entriesByLevel:s,forceHidden:o}=this,{touchingEntry:u,touchingLevel:f,touchingLateral:h}=e;if(this.hiddenConsumes&&u){const p=ju(u);if(!o[p])if(this.allowReslicing){const y=Object.assign(Object.assign({},u),{span:YC(u.span,t.span)}),_=ju(y);o[_]=!0,s[f][h]=y,r.push(y),this.splitEntry(u,t,r)}else o[p]=!0,r.push(u)}super.handleInvalidInsertion(e,t,r)}}class TD extends qa{constructor(){super(...arguments),this.cellElRefs=new Sa,this.frameElRefs=new Sa,this.fgElRefs=new Sa,this.segHarnessRefs=new Sa,this.rootElRef=Ai(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:r}=this,{options:s}=r,o=e.cells.length,u=ld(e.businessHourSegs,o),f=ld(e.bgEventSegs,o),h=ld(this.getHighlightSegs(),o),p=ld(this.getMirrorSegs(),o),{singleColPlacements:y,multiColPlacements:_,moreCnts:E,moreMarginTops:A}=sB(i6(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return X("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((O,I)=>{let x=this.renderFgSegs(I,e.forPrint?y[I]:_[I],e.todayRange,w),V=this.renderFgSegs(I,uB(p[I],_),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return X(nB,{key:O.key,elRef:this.cellElRefs.createRef(O.key),innerElRef:this.frameElRefs.createRef(O.key),dateProfile:e.dateProfile,date:O.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&I===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:O.extraRenderProps,extraDataAttrs:O.extraDataAttrs,extraClassNames:O.extraClassNames,extraDateSpan:O.extraDateSpan,moreCnt:E[I],moreMarginTop:A[I],singlePlacements:y[I],fgContentElRef:this.fgElRefs.createRef(O.key),fgContent:X(St,null,X(St,null,x),X(St,null,V)),bgContent:X(St,null,this.renderFillSegs(h[I],"highlight"),this.renderFillSegs(u[I],"non-business"),this.renderFillSegs(f[I],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let r=this.props;this.updateSizing(!Pr(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,r,s,o,u,f){let{context:h}=this,{eventSelection:p}=this.props,{framePositions:y}=this.state,_=this.props.cells.length===1,E=o||u||f,A=[];if(y)for(let w of t){let{seg:O}=w,{instanceId:I}=O.eventRange.instance,x=w.isVisible&&!s[I],V=w.isAbsolute,H="",Z="";V&&(h.isRtl?(Z=0,H=y.lefts[O.lastCol]-y.lefts[O.firstCol]):(H=0,Z=y.rights[O.firstCol]-y.rights[O.lastCol])),A.push(X("div",{className:"fc-daygrid-event-harness"+(V?" fc-daygrid-event-harness-abs":""),key:ED(O),ref:E?null:this.segHarnessRefs.createRef(bD(O)),style:{visibility:x?"":"hidden",marginTop:V?"":w.marginTop,top:V?w.absoluteTop:"",left:H,right:Z}},yD(O)?X(_D,Object.assign({seg:O,isDragging:o,isSelected:I===p,defaultDisplayEventEnd:_},zu(O,r))):X(vD,Object.assign({seg:O,isDragging:o,isResizing:u,isDateSelecting:f,isSelected:I===p,defaultDisplayEventEnd:_},zu(O,r)))))}return A}renderFillSegs(e,t){let{isRtl:r}=this.context,{todayRange:s}=this.props,{framePositions:o}=this.state,u=[];if(o)for(let f of e){let h=r?{right:0,left:o.lefts[f.lastCol]-o.lefts[f.firstCol]}:{left:0,right:o.rights[f.firstCol]-o.rights[f.lastCol]};u.push(X("div",{key:c6(f.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?X(_3,Object.assign({seg:f},zu(f,s))):b3(t)))}return X(St,{},...u)}updateSizing(e){let{props:t,state:r,frameElRefs:s}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(p=>s.currentMap[p.key]);if(h.length){let p=this.rootElRef.current,y=new ih(p,h,!0,!1);(!r.framePositions||!r.framePositions.similarTo(y))&&this.setState({framePositions:new ih(p,h,!0,!1)})}}const o=this.state.segHeights,u=this.querySegHeights(),f=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),u),maxContentHeight:f?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let r in e){let s=Math.round(e[r].getBoundingClientRect().height);t[r]=Math.max(t[r]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}TD.addStateEquality({segHeights:Pr});function uB(n,e){if(!n.length)return[];let t=cB(e);return n.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}))}function cB(n){let e={};for(let t of n)for(let r of t)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class fB extends qa{constructor(){super(...arguments),this.splitBusinessHourSegs=Ye(od),this.splitBgEventSegs=Ye(od),this.splitFgEventSegs=Ye(od),this.splitDateSelectionSegs=Ye(od),this.splitEventDrag=Ye(FA),this.splitEventResize=Ye(FA),this.rowRefs=new Sa}render(){let{props:e,context:t}=this,r=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),u=this.splitFgEventSegs(e.fgEventSegs,r),f=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),p=this.splitEventResize(e.eventResize,r),y=r>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return X(Wv,{unit:"day"},(_,E)=>X(St,null,e.cells.map((A,w)=>X(TD,{ref:this.rowRefs.createRef(w),key:A.length?A[0].date.toISOString():w,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:E,dateProfile:e.dateProfile,cells:A,renderIntro:e.renderRowIntro,businessHourSegs:s[w],eventSelection:e.eventSelection,bgEventSegs:o[w].filter(dB),fgEventSegs:u[w],dateSelectionSegs:f[w],eventDrag:h[w],eventResize:p[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:y,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new ih(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new ih(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:r,rowPositions:s}=this,o=r.leftToIndex(e),u=s.topToIndex(t);if(u!=null&&o!=null){let f=this.props.cells[u][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(u,o),allDay:!0},f.extraDateSpan),dayEl:this.getCellEl(u,o),rect:{left:r.lefts[o],right:r.rights[o],top:s.tops[u],bottom:s.bottoms[u]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let r=this.props.cells[e][t].date,s=cn(r,1);return{start:r,end:s}}}function dB(n){return n.eventRange.def.allDay}class hB extends qa{constructor(){super(...arguments),this.elRef=Ai(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:r,expandRows:s}=e,o=r===!0||t===!0;o&&!s&&(o=!1,t=null,r=null);let u=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return X("div",{ref:this.elRef,className:u.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},X("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,X("tbody",{role:"presentation"},X(fB,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=gB(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),r=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;r.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function gB(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${qU(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${xv(e.currentDate)}"]`)),t}class pB extends Y6{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class mB extends qa{constructor(){super(...arguments),this.slicer=new pB,this.tableRef=Ai()}render(){let{props:e,context:t}=this;return X(hB,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class yB extends XH{constructor(){super(...arguments),this.buildDayTableModel=Ye(vB),this.headerRef=Ai(),this.tableRef=Ai()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:r}=this,s=this.buildDayTableModel(r.dateProfile,t),o=e.dayHeaders&&X(G6,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),u=f=>X(mB,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:f.tableColGroupNode,tableMinWidth:f.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:f.clientWidth,clientHeight:f.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,u,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,u)}}function vB(n,e){let t=new $6(n.renderRange,e);return new W6(t,/year|month|week/.test(n.currentRangeUnit))}class _B extends IC{buildRenderRange(e,t,r){let s=super.buildRenderRange(e,t,r),{props:o}=this;return EB({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}}function EB(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:s}=t,o;if(n.snapToWeek&&(r=e.startOfWeek(r),o=e.startOfWeek(s),o.valueOf()!==s.valueOf()&&(s=hA(o,1))),n.fixedWeekCount){let u=e.startOfWeek(e.startOfMonth(cn(t.end,-1))),f=Math.ceil(NU(u,s));s=hA(s,6-f)}return{start:r,end:s}}var bB=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';dC(bB);var TB=Us({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:yB,dateProfileGeneratorClass:_B},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});$v.touchMouseIgnoreWait=500;let my=0,sh=0,yy=!1;class AD{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&AB(t)&&this.tryStart(t)){let r=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let r=this.createEventFromMouse(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let r=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let r=this.createEventFromTouch(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=t=>{if(this.isDragging){let r=t.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,SB()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:r-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new jh,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),wB()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),RB()}tryStart(e){let t=this.querySubjectEl(e),r=e.target;return t&&(!this.handleSelector||un(r,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){yy=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?un(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return my||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(yy=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let r=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:s}}createEventFromTouch(e,t){let r=e.touches,s,o,u=0,f=0;return r&&r.length?(s=r[0].pageX,o=r[0].pageY):(s=e.pageX,o=e.pageY),t?(this.origPageX=s,this.origPageY=o):(u=s-this.origPageX,f=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:o,deltaX:u,deltaY:f}}}function AB(n){return n.button===0&&!n.ctrlKey}function SB(){my+=1,setTimeout(()=>{my-=1},$v.touchMouseIgnoreWait)}function wB(){sh+=1,sh===1&&window.addEventListener("touchmove",SD,{passive:!1})}function RB(){sh-=1,sh||window.removeEventListener("touchmove",SD,{passive:!1})}function SD(n){yy&&n.preventDefault()}class CB{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let r=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,t){let r=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",Uu(r,{left:s.left,top:s.top}),gU(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Cv(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Uu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Uu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class wD extends Qv{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class RD extends wD{constructor(e,t){super(new L6(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return P6(this.scrollController.el)}}class DB extends wD{constructor(e){super(new U6,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const qA=typeof performance=="function"?performance.now:Date.now;class IB{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=qA();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let r=e-window.scrollX,s=t-window.scrollY,o=this.pointerScreenY===null?0:s-this.pointerScreenY,u=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),u<0?this.everMovedLeft=!0:u>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(qA()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:r}=e,{edgeThreshold:s}=this,o=s-e.distance,u=o*o/(s*s)*this.maxVelocity*t,f=1;switch(e.name){case"left":f=-1;case"right":r.setScrollLeft(r.getScrollLeft()+u*f);break;case"top":f=-1;case"bottom":r.setScrollTop(r.getScrollTop()+u*f);break}}computeBestEdge(e,t){let{edgeThreshold:r}=this,s=null,o=this.scrollCaches||[];for(let u of o){let f=u.clientRect,h=e-f.left,p=f.right-e,y=t-f.top,_=f.bottom-t;h>=0&&p>=0&&y>=0&&_>=0&&(y<=r&&this.everMovedUp&&u.canScrollUp()&&(!s||s.distance>y)&&(s={scrollCache:u,name:"top",distance:y}),_<=r&&this.everMovedDown&&u.canScrollDown()&&(!s||s.distance>_)&&(s={scrollCache:u,name:"bottom",distance:_}),h<=r&&this.everMovedLeft&&u.canScrollLeft()&&(!s||s.distance>h)&&(s={scrollCache:u,name:"left",distance:h}),p<=r&&this.everMovedRight&&u.canScrollRight()&&(!s||s.distance>p)&&(s={scrollCache:u,name:"right",distance:p}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new DB(!1):new RD(t,!1))}queryScrollEls(e){let t=[];for(let r of this.scrollQuery)typeof r=="object"?t.push(r):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return t}}class Sc extends B6{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,pU(document.body),yU(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let o=this.minDistance,u,{deltaX:f,deltaY:h}=s;u=f*f+h*h,u>=o*o&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,mU(document.body),vU(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new AD(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),t&&(r.selector=t),this.mirror=new CB,this.autoScroller=new IB}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class xB{constructor(e){this.el=e,this.origRect=Gv(e),this.scrollCaches=WC(e).map(t=>new RD(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let r={left:e,top:t};for(let s of this.scrollCaches)if(!OB(s.getEventTarget())&&!S6(r,s.clientRect))return!1;return!0}}function OB(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Fh{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):s.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new jh}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},r=t,s=e.subjectEl,o;s instanceof HTMLElement&&(o=Gv(s),r=w6(r,o));let u=this.initialHit=this.queryHitForOffset(r.left,r.top);if(u){if(this.useSubjectCenter&&o){let f=GC(o,u.rect);f&&(r=R6(f))}this.coordAdjust=C6(r,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!qh(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=za(this.droppableStore,e=>(e.component.prepareHits(),new xB(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:r,offsetTrackers:s}=this,o=null;for(let u in r){let f=r[u].component,h=s[u];if(h&&h.isWithinClipping(e,t)){let p=h.computeLeft(),y=h.computeTop(),_=e-p,E=t-y,{origRect:A}=h,w=A.right-A.left,O=A.bottom-A.top;if(_>=0&&_<w&&E>=0&&E<O){let I=f.queryHit(_,E,w,O);I&&Bh(I.dateProfile.activeRange,I.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(_+p-window.scrollX,E+y-window.scrollY)))&&(!o||I.layer>o.layer)&&(I.componentId=u,I.context=f.context,I.rect.left+=p,I.rect.right+=p,I.rect.top+=y,I.rect.bottom+=y,o=I)}}}return o}}function qh(n,e){return!n&&!e?!0:!!n!=!!e?!1:g6(n.dateSpan,e.dateSpan)}function CD(n,e){let t={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(t,r(n,e));return Object.assign(t,NB(n,e.dateEnv)),t}function NB(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class MB extends yl{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:s}=this,o=r.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=r=>{let{component:s}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:u,finalHit:f}=this.hitDragging;if(u&&f&&qh(u,f)){let{context:h}=s,p=Object.assign(Object.assign({},CD(u.dateSpan,h)),{dayEl:u.dayEl,jsEvent:r.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",p)}}},this.dragging=new Sc(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Fh(this.dragging,Fv(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class kB extends yl{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=u=>{let{component:f,dragging:h}=this,{options:p}=f.context,y=p.selectable&&f.isValidDateDownEl(u.origEvent.target);h.setIgnoreMove(!y),h.delay=u.isTouch?PB(f):null},this.handleDragStart=u=>{this.component.context.calendarApi.unselect(u)},this.handleHitUpdate=(u,f)=>{let{context:h}=this.component,p=null,y=!1;if(u){let _=this.hitDragging.initialHit;u.componentId===_.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(_,u)||(p=VB(_,u,h.pluginHooks.dateSelectionTransformers)),(!p||!K6(p,u.dateProfile,h))&&(y=!0,p=null)}p?h.dispatch({type:"SELECT_DATES",selection:p}):f||h.dispatch({type:"UNSELECT_DATES"}),y?Dv():Iv(),f||(this.dragSelection=p)},this.handlePointerUp=u=>{this.dragSelection&&(LC(this.dragSelection,u,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:r}=t.context,s=this.dragging=new Sc(e.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Fh(this.dragging,Fv(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function PB(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function VB(n,e,t){let r=n.dateSpan,s=e.dateSpan,o=[r.range.start,r.range.end,s.range.start,s.range.end];o.sort(AU);let u={};for(let f of t){let h=f(n,e);if(h===!1)return null;h&&Object.assign(u,h)}return u.range={start:o[0],end:o[3]},u.allDay=r.allDay,u}class wc extends yl{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=u=>{let f=u.origEvent.target,{component:h,dragging:p}=this,{mirror:y}=p,{options:_}=h.context,E=h.context;this.subjectEl=u.subjectEl;let A=this.subjectSeg=il(u.subjectEl),O=(this.eventRange=A.eventRange).instance.instanceId;this.relevantEvents=Hv(E.getCurrentData().eventStore,O),p.minDistance=u.isTouch?0:_.eventDragMinDistance,p.delay=u.isTouch&&O!==h.props.eventSelection?UB(h):null,_.fixedMirrorParent?y.parentNode=_.fixedMirrorParent:y.parentNode=un(f,".fc"),y.revertDuration=_.dragRevertDuration;let I=h.isValidSegDownEl(f)&&!un(f,".fc-event-resizer");p.setIgnoreMove(!I),this.isDragging=I&&u.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=u=>{let f=this.component.context,h=this.eventRange,p=h.instance.instanceId;u.isTouch?p!==this.component.props.eventSelection&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:p}):f.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(f.calendarApi.unselect(u),f.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ot(f,h.def,h.instance),jsEvent:u.origEvent,view:f.viewApi}))},this.handleHitUpdate=(u,f)=>{if(!this.isDragging)return;let h=this.relevantEvents,p=this.hitDragging.initialHit,y=this.component.context,_=null,E=null,A=null,w=!1,O={affectedEvents:h,mutatedEvents:lr(),isEvent:!0};if(u){_=u.context;let I=_.options;y===_||I.editable&&I.droppable?(E=LB(p,u,this.eventRange.instance.range.start,_.getCurrentData().pluginHooks.eventDragMutationMassagers),E&&(A=jv(h,_.getCurrentData().eventUiBases,E,_),O.mutatedEvents=A,ZC(O,u.dateProfile,_)||(w=!0,E=null,A=null,O.mutatedEvents=lr()))):_=null}this.displayDrag(_,O),w?Dv():Iv(),f||(y===_&&qh(p,u)&&(E=null),this.dragging.setMirrorNeedsRevert(!E),this.dragging.setMirrorIsVisible(!u||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=_,this.validMutation=E,this.mutatedRelevantEvents=A)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=u=>{if(this.isDragging){let f=this.component.context,h=f.viewApi,{receivingContext:p,validMutation:y}=this,_=this.eventRange.def,E=this.eventRange.instance,A=new ot(f,_,E),w=this.relevantEvents,O=this.mutatedRelevantEvents,{finalHit:I}=this.hitDragging;if(this.clearDrag(),f.emitter.trigger("eventDragStop",{el:this.subjectEl,event:A,jsEvent:u.origEvent,view:h}),y){if(p===f){let x=new ot(f,O.defs[_.defId],E?O.instances[E.instanceId]:null);f.dispatch({type:"MERGE_EVENTS",eventStore:O});let V={oldEvent:A,event:x,relatedEvents:Ra(O,f,E),revert(){f.dispatch({type:"MERGE_EVENTS",eventStore:w})}},H={};for(let Z of f.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(H,Z(y,f));f.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},V),H),{el:u.subjectEl,delta:y.datesDelta,jsEvent:u.origEvent,view:h})),f.emitter.trigger("eventChange",V)}else if(p){let x={event:A,relatedEvents:Ra(w,f,E),revert(){f.dispatch({type:"MERGE_EVENTS",eventStore:w})}};f.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:u.subjectEl,view:h})),f.dispatch({type:"REMOVE_EVENTS",eventStore:w}),f.emitter.trigger("eventRemove",x);let V=O.defs[_.defId],H=O.instances[E.instanceId],Z=new ot(p,V,H);p.dispatch({type:"MERGE_EVENTS",eventStore:O});let se={event:Z,relatedEvents:Ra(O,p,H),revert(){p.dispatch({type:"REMOVE_EVENTS",eventStore:O})}};p.emitter.trigger("eventAdd",se),u.isTouch&&p.dispatch({type:"SELECT_EVENT",eventInstanceId:E.instanceId}),p.emitter.trigger("drop",Object.assign(Object.assign({},CD(I.dateSpan,p)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:I.context.viewApi})),p.emitter.trigger("eventReceive",Object.assign(Object.assign({},se),{draggedEl:u.subjectEl,view:I.context.viewApi}))}}else f.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:r}=t.context,s=this.dragging=new Sc(e.el);s.pointer.selector=wc.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Fh(this.dragging,hy);o.useSubjectCenter=e.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let r=this.component.context,s=this.receivingContext;s&&s!==e&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:lr(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}wc.SELECTOR=".fc-event-draggable, .fc-event-resizable";function LB(n,e,t,r){let s=n.dateSpan,o=e.dateSpan,u=s.range.start,f=o.range.start,h={};s.allDay!==o.allDay&&(h.allDay=o.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?u=at(t):u=t);let p=zo(u,f,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);p.milliseconds&&(h.allDay=!1);let y={datesDelta:p,standardProps:h};for(let _ of r)_(y,n,e);return y}function UB(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class HB extends yl{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:u}=this,f=this.querySegEl(o),h=il(f),p=this.eventRange=h.eventRange;this.dragging.minDistance=u.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==p.instance.instanceId)},this.handleDragStart=o=>{let{context:u}=this.component,f=this.eventRange;this.relevantEvents=Hv(u.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(o);this.draggingSegEl=h,this.draggingSeg=il(h),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:h,event:new ot(u,f.def,f.instance),jsEvent:o.origEvent,view:u.viewApi})},this.handleHitUpdate=(o,u,f)=>{let{context:h}=this.component,p=this.relevantEvents,y=this.hitDragging.initialHit,_=this.eventRange.instance,E=null,A=null,w=!1,O={affectedEvents:p,mutatedEvents:lr(),isEvent:!0};o&&(o.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,o)||(E=BB(y,o,f.subjectEl.classList.contains("fc-event-resizer-start"),_.range))),E&&(A=jv(p,h.getCurrentData().eventUiBases,E,h),O.mutatedEvents=A,ZC(O,o.dateProfile,h)||(w=!0,E=null,A=null,O.mutatedEvents=null)),A?h.dispatch({type:"SET_EVENT_RESIZE",state:O}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),w?Dv():Iv(),u||(E&&qh(y,o)&&(E=null),this.validMutation=E,this.mutatedRelevantEvents=A)},this.handleDragEnd=o=>{let{context:u}=this.component,f=this.eventRange.def,h=this.eventRange.instance,p=new ot(u,f,h),y=this.relevantEvents,_=this.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:p,jsEvent:o.origEvent,view:u.viewApi}),this.validMutation){let E=new ot(u,_.defs[f.defId],h?_.instances[h.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:_});let A={oldEvent:p,event:E,relatedEvents:Ra(_,u,h),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:y})}};u.emitter.trigger("eventResize",Object.assign(Object.assign({},A),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||We(0),endDelta:this.validMutation.endDelta||We(0),jsEvent:o.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",A)}else u.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,r=this.dragging=new Sc(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new Fh(this.dragging,Fv(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return un(e.subjectEl,".fc-event")}}function BB(n,e,t,r){let s=n.context.dateEnv,o=n.dateSpan.range.start,u=e.dateSpan.range.start,f=zo(o,u,s,n.largeUnit);if(t){if(s.add(r.start,f)<r.end)return{startDelta:f}}else if(s.add(r.end,f)>r.start)return{endDelta:f};return null}class zB{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let s=this.context.options.unselectCancel,o=mC(r.origEvent);this.matchesCancel=!!un(o,s),this.matchesEvent=!!un(o,wc.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:s}=this,{documentPointer:o}=this,u=s.getCurrentData();if(!o.wasTouchScroll){if(u.dateSelection&&!this.isRecentPointerDateSelect){let f=s.options.unselectAuto;f&&(!f||!this.matchesCancel)&&s.calendarApi.unselect(r)}u.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new AD(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const jB={fixedMirrorParent:Y},FB={dateClick:Y,eventDragStart:Y,eventDragStop:Y,eventDrop:Y,eventResizeStart:Y,eventResizeStop:Y,eventResize:Y,drop:Y,eventReceive:Y,eventLeave:Y};$v.dataAttrPrefix="";var qB=Us({name:"@fullcalendar/interaction",componentInteractions:[MB,kB,wc,HB],calendarInteractions:[zB],elementDraggingImpl:Sc,optionRefiners:jB,listenerRefiners:FB});const DD=q.createContext();function GB({children:n}){const{currentUser:e}=Oh(),[t,r]=q.useState([]),[s,o]=q.useState(!0),[u,f]=q.useState(!1),[h,p]=q.useState(null),y=q.useCallback(async()=>{if(e){o(!0);try{const x=await xP(e.uid);r(x)}catch(x){Fe.error(`Failed to load events: ${x.message}`)}finally{o(!1)}}},[e]);q.useEffect(()=>{e&&y()},[e,y]);const _=async x=>{if(e)try{const V=await OP({...x,userId:e.uid});r(H=>[V,...H]),Fe.success("Event added successfully!")}catch(V){Fe.error(`Failed to add event: ${V}`)}},E=async x=>{if(e)try{const V=await NP({...x,userId:e.uid});r(H=>H.map(Z=>Z.id===V.id?V:Z)),Fe.success("Event updated successfully!")}catch(V){Fe.error(`Failed to update event: ${V}`)}},A=x=>{p(x),f(!0)},w=async x=>{try{await MP(e.uid,x),r(V=>V.filter(H=>H.id!==x)),Fe.success("Event deleted successfully!")}catch(V){Fe.error(`Failed to delete event: ${V}`)}},O=()=>{p(null),f(!0)},I=()=>{f(x=>!x)};return $.jsx(DD.Provider,{value:{eventsData:t,isLoading:s,handleCreateEvent:_,handleUpdateEvent:E,editEvent:A,handleDeleteEvent:w,handleShowFormForNewEvent:O,toggleForm:I,showForm:u,editingEvent:h},children:n})}function ID(){return q.useContext(DD)}var xD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GA=Le.createContext&&Le.createContext(xD),QB=["attr","size","title"];function $B(n,e){if(n==null)return{};var t=WB(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function WB(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ah(){return ah=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ah.apply(this,arguments)}function QA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function oh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(t),!0).forEach(function(r){YB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QA(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YB(n,e,t){return e=KB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KB(n){var e=XB(n,"string");return typeof e=="symbol"?e:e+""}function XB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OD(n){return n&&n.map((e,t)=>Le.createElement(e.tag,oh({key:t},e.attr),OD(e.child)))}function Gh(n){return e=>Le.createElement(ZB,ah({attr:oh({},n.attr)},e),OD(n.child))}function ZB(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=$B(n,QB),f=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Le.createElement("svg",ah({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:h,style:oh(oh({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),o&&Le.createElement("title",null,o),n.children)};return GA!==void 0?Le.createElement(GA.Consumer,null,t=>e(t)):e(xD)}function JB(n){return Gh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function ez(n){return Gh({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function tz(n){return Gh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function nz(n){return Gh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function rz(n){const e=new Date(n),t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear(),o=e.getHours().toString().padStart(2,"0"),u=e.getMinutes().toString().padStart(2,"0");return`${s}-${r}-${t}T${o}:${u}`}function iz(){const n=new Date,e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0"),s=String(n.getHours()).padStart(2,"0"),o=String(n.getMinutes()).padStart(2,"0");return`${e}-${t}-${r}T${s}:${o}`}function sz(n){const e=new Date(n),t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear(),o=e.getHours().toString().padStart(2,"0"),u=e.getMinutes().toString().padStart(2,"0");return`${t}.${r}.${s} ${o}:${u}`}const az=({event:n,editEvent:e,deleteEvent:t})=>{const r={normal:"bg-white text-gray-600",important:"bg-yellow-100 text-yellow-600",critical:"bg-red-100 text-red-600"};return $.jsxs("div",{className:`${r[n.importance]||r.normal} border border-gray-300 rounded-lg shadow-md p-4 transition duration-200 hover:shadow-lg`,children:[$.jsxs("div",{className:"flex justify-between items-center mb-4",children:[$.jsx("h2",{className:"font-bold text-lg text-black",children:n.title}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",onClick:()=>e(n),children:$.jsx(ez,{size:20})}),$.jsx("button",{className:"text-red-500 hover:text-red-600",onClick:()=>t(n.id),children:$.jsx(nz,{size:20})})]})]}),$.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",sz(n.date)]}),$.jsxs("p",{className:"text-sm text-gray-600",children:["Description: ",n.description]}),$.jsx("p",{className:"text-sm text-gray-600",children:$.jsx("span",{className:`${r[n.importance]||r.normal}`,children:n.importance})})]})};function ND({eventsData:n,editEvent:e,deleteEvent:t,isLoading:r}){const[s,o]=q.useState(!1),u=r||s,f=async h=>{if(window.confirm("Are you sure you want to delete this event?")){o(!0);try{await t(h)}catch(p){console.error("Error deleting event:",p)}finally{o(!1)}}};return u?$.jsx(SR,{}):$.jsx("div",{className:"flex flex-col py-4",children:$.jsx("ul",{className:"space-y-4",children:n.map(h=>$.jsx(az,{event:h,editEvent:e,deleteEvent:f},h.id))})})}function Ca({name:n,label:e,...t}){return $.jsxs("div",{className:"mb-2 flex flex-col",children:[$.jsx("label",{htmlFor:n,className:"font-bold",children:e}),$.jsx("input",{className:"my-2 w-full rounded border border-gray-300 p-2",name:n,...t})]})}function MD({onClose:n,createEvent:e,editingEvent:t,updateEvent:r,selectedDate:s=null}){const o=q.useMemo(()=>t||{title:"",date:s?rz(s):iz(),description:"",importance:"normal"},[t,s]),[u,f]=q.useState(o),[h,p]=q.useState(!1),y=w=>{f({...u,[w.target.name]:w.target.value})},_=w=>{w.target.closest("form")?p(!0):p(!1)},E=w=>{!h&&w.target.id==="wrapper"&&n()},A=w=>{w.preventDefault(),t?r(u):e(u),n()};return $.jsx("div",{id:"wrapper",className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm z-10",onMouseDown:_,onMouseUp:E,children:$.jsxs("form",{className:"flex w-96 flex-col rounded-lg bg-white px-6 py-0 shadow-lg",onSubmit:A,children:[$.jsxs("div",{className:"flex justify-between items-center py-5",children:[$.jsx("h1",{className:"text-center text-lg font-bold",children:t?"Edit Event":"New Event"}),$.jsx("button",{className:"text-bold self-end text-3xl text-gray-500 hover:text-gray-700",type:"button",onClick:n,children:""})]}),$.jsx(Ca,{type:"text",label:"Event Title:",name:"title",value:u.title,onChange:y,required:!0}),$.jsxs("div",{className:"flex flex-col",children:[$.jsx("label",{className:"font-bold",children:"Description:"}),$.jsx("textarea",{className:"my-2 rounded border border-gray-300 p-2 w-full h-32",name:"description",value:u.description,onChange:y})]}),$.jsx(Ca,{type:"datetime-local",label:"Date and Time:",name:"date",value:u.date,onChange:y,required:!0}),$.jsxs("div",{className:"flex flex-col",children:[$.jsx("label",{className:"font-bold",children:"Importance:"}),$.jsxs("select",{className:"my-2 rounded border border-gray-300 p-2",name:"importance",value:u.importance,onChange:y,required:!0,children:[$.jsx("option",{value:"normal",children:"Normal"}),$.jsx("option",{value:"important",children:"Important"}),$.jsx("option",{value:"critical",children:"Critical"})]})]}),$.jsx("button",{className:"mt-2 mb-4 w-full rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700",type:"submit",children:"Submit"})]})})}function oz(){const{eventsData:n,isLoading:e,editEvent:t,handleCreateEvent:r,handleDeleteEvent:s,editingEvent:o,handleUpdateEvent:u,handleShowFormForNewEvent:f,showForm:h,toggleForm:p}=ID(),[y,_]=q.useState([]),[E,A]=q.useState(null);q.useEffect(()=>{if(E){const O=n.filter(I=>I.date.startsWith(E));_(O)}},[n,E]);const w=O=>{A(O.dateStr)};return $.jsxs("div",{className:"flex gap-6 p-4",children:[$.jsx("div",{className:"flex-1",children:$.jsx(gD,{plugins:[TB,qB],initialView:"dayGridMonth",events:n,dateClick:w})}),$.jsxs("div",{className:"w-80 p-4 border rounded-lg shadow-lg bg-white",children:[$.jsxs("div",{className:"flex justify-between items-center pb-5",children:[$.jsx("h3",{className:"text-lg font-bold",children:E||"Choose a day"}),$.jsx("button",{onClick:f,className:"rounded bg-blue-500 p-2 text-white hover:bg-blue-600",children:"Add new event"})]}),y.length>0?$.jsx("ul",{className:"max-h-200 overflow-auto",children:$.jsx(ND,{eventsData:y,editEvent:t,deleteEvent:s,isLoading:e})}):$.jsx("p",{className:"text-gray-500",children:"No events on this day"})]}),h&&$.jsx(MD,{onClose:p,createEvent:r,editingEvent:o,updateEvent:u,selectedDate:E})]})}function lz({value:n,onChange:e}){return $.jsxs("div",{className:"flex-1",children:[$.jsx("label",{htmlFor:"importance",className:"block text-sm font-medium text-gray-700 pb-1",children:"Filter by Importance"}),$.jsxs("select",{id:"importance",value:n,onChange:t=>e(t.target.value),className:" block w-full p-2 border border-gray-300 rounded-md",children:[$.jsx("option",{value:"",children:"All"}),$.jsx("option",{value:"normal",children:"Normal"}),$.jsx("option",{value:"important",children:"Important"}),$.jsx("option",{value:"critical",children:"Critical"})]})]})}function uz({currentPage:n,totalPages:e,onPageChange:t}){return $.jsxs("div",{className:"mt-4 flex items-center justify-end gap-4",children:[$.jsx("button",{className:"rounded bg-gray-300 p-2 hover:bg-gray-400 disabled:opacity-50",disabled:n===1,onClick:()=>t(r=>Math.max(r-1,1)),children:"Previous"}),$.jsxs("span",{children:["Page ",n," of ",e]}),$.jsx("button",{className:"rounded bg-gray-300 p-2 hover:bg-gray-400 disabled:opacity-50",disabled:n===e,onClick:()=>t(r=>Math.min(r+1,e)),children:"Next"})]})}function cz(){const{eventsData:n,isLoading:e,handleCreateEvent:t,handleUpdateEvent:r,editEvent:s,handleDeleteEvent:o,handleShowFormForNewEvent:u,toggleForm:f,showForm:h,editingEvent:p}=ID(),[y,_]=q.useState({importance:""}),[E,A]=q.useState(""),w=q.useCallback(oe=>{_(M=>({...M,importance:oe})),V(1)},[]),O=oe=>{A(oe.target.value),V(1)},I=q.useMemo(()=>n.filter(oe=>!(y.importance&&oe.importance!==y.importance||E&&!oe.title.toLowerCase().includes(E.toLowerCase())&&!oe.description.toLowerCase().includes(E.toLowerCase()))),[n,y,E]),[x,V]=q.useState(1),H=5,Z=Math.ceil(I.length/H),se=q.useMemo(()=>{const oe=(x-1)*H;return I.slice(oe,oe+H)},[I,x,H]);return $.jsxs("div",{className:"flex flex-col py-4 h-full",children:[$.jsxs("div",{className:"flex justify-between items-center pb-5",children:[$.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"List of events"}),$.jsx("button",{onClick:u,className:"mt-2 rounded bg-blue-500 p-2 text-white hover:bg-blue-600",children:"Add new event"})]}),$.jsxs("div",{className:"flex gap-2",children:[$.jsxs("div",{className:"flex-1",children:[$.jsx("p",{className:"block text-sm font-medium text-gray-700 pb-1",children:"Search"}),$.jsx("input",{type:"text",value:E,onChange:O,placeholder:"Search by title or description",className:"block w-full p-2 border border-gray-300 rounded-md"})]}),$.jsx(lz,{value:y.importance,onChange:w})]}),$.jsx(ND,{eventsData:se,editEvent:s,deleteEvent:o,isLoading:e}),$.jsx(uz,{currentPage:x,totalPages:Z,onPageChange:V}),h&&$.jsx(MD,{onClose:f,createEvent:t,editingEvent:p,updateEvent:r,selectedDate:null})]})}const fz=async(n,e)=>{const t=await QO(yc,n,e),r=t.user;return await TR(r),t},dz=async(n,e)=>$O(yc,n,e),hz=async()=>{const n=new ci,e=await mN(yc,n),t=e.user;return await AR(t.uid)||await TR(t),e},gz=async()=>{await yc.signOut()};function pz(){const{userLoggedIn:n}=Oh(),[e,t]=q.useState({email:"",password:""}),[r,s]=q.useState(!1),[o,u]=q.useState(""),f=p=>{t(y=>({...y,[p.target.name]:p.target.value}))},h=async(p,y,..._)=>{if(p.preventDefault(),!r){s(!0),u("");try{await y(..._)}catch(E){u(E.message||"Failed to sign in")}finally{s(!1)}}};return n?$.jsx(Tv,{to:"/dashboard",replace:!0}):$.jsx("div",{className:"flex h-screen flex-col items-center justify-center bg-gray-100",children:$.jsxs("div",{className:"w-96 rounded-lg bg-white p-6 shadow-lg",children:[$.jsx("h2",{className:"mb-4 text-center text-2xl font-semibold",children:"Login"}),$.jsxs("form",{onSubmit:p=>h(p,dz,e.email,e.password),children:[$.jsx(Ca,{type:"email",label:"Email:",name:"email",value:e.email,onChange:f,required:!0}),$.jsx(Ca,{type:"password",label:"Password:",name:"password",value:e.password,onChange:f,required:!0}),o&&$.jsx("span",{className:"font-bold text-red-600",children:o}),$.jsx("button",{className:"mt-2 mb-4 w-full rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700",type:"submit",disabled:r,children:r?"Signing In...":"Sign In"})]}),$.jsxs("p",{className:"mb-3 text-center text-sm",children:["Don't have an account?"," ",$.jsx(pl,{to:"/signup",className:"font-bold hover:underline",children:"Sign up"})]}),$.jsxs("div",{className:"mb-3 flex w-full flex-row text-center",children:[$.jsx("div",{className:"mr-2 mb-3 w-full border-b-2"}),$.jsx("div",{className:"w-fit text-sm font-bold",children:"OR"}),$.jsx("div",{className:"mb-3 ml-2 w-full border-b-2"})]}),$.jsxs("button",{disabled:r,onClick:p=>{h(p,hz)},className:`flex w-full items-center justify-center gap-x-3 rounded-lg border py-2.5 text-sm font-medium ${r?"cursor-not-allowed":"transition duration-300 hover:bg-gray-100 active:bg-gray-100"}`,children:[$.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[$.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[$.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),$.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),$.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),$.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),$.jsx("defs",{children:$.jsx("clipPath",{id:"clip0_17_40",children:$.jsx("rect",{width:"48",height:"48",fill:"white"})})})]}),r?"Signing In...":"Continue with Google"]})]})})}function mz(){const{userLoggedIn:n}=Oh(),[e,t]=q.useState({email:"",password:"",confirmPassword:""}),[r,s]=q.useState(!1),[o,u]=q.useState(""),f=p=>{t(y=>({...y,[p.target.name]:p.target.value}))},h=async p=>{if(p.preventDefault(),!r){if(e.password!==e.confirmPassword){u("Passwords don't match");return}s(!0),u("");try{await fz(e.email,e.password)}catch(y){u(y.message||"Failed to sign in")}finally{s(!1)}}};return n?$.jsx(Tv,{to:"/dashboard",replace:!0}):$.jsx("div",{className:"flex h-screen flex-col items-center justify-center bg-gray-100",children:$.jsxs("div",{className:"w-96 rounded-lg bg-white p-6 shadow-lg",children:[$.jsx("h2",{className:"mb-4 text-center text-2xl font-semibold",children:"Create a new account"}),$.jsxs("form",{onSubmit:h,children:[$.jsx(Ca,{type:"email",label:"Email:",name:"email",value:e.email,onChange:f,required:!0}),$.jsx(Ca,{type:"password",label:"Password:",name:"password",value:e.password,onChange:f,required:!0}),$.jsx(Ca,{type:"password",label:"Confirm password:",name:"confirmPassword",value:e.confirmPassword,onChange:f,required:!0}),o&&$.jsx("span",{className:"block text-center font-bold text-red-600",children:o}),$.jsx("button",{className:"mt-2 mb-4 w-full rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700 disabled:bg-gray-400",type:"submit",disabled:r,children:r?"Signing Up...":"Sign Up"}),$.jsxs("p",{className:"text-center text-sm",children:["Already have an account?"," ",$.jsx(pl,{to:"/login",className:"font-bold hover:underline",children:"Continue"})]})]})]})})}const yz=[{path:"/calendar",component:oz},{path:"/events",component:cz}],vz=[{path:"/login",component:pz},{path:"/signup",component:mz}];function _z(){return $.jsx("div",{className:"flex justify-center",children:$.jsx(pl,{to:"/",children:$.jsx("img",{src:"/event-planner//assets/logo_light.png",alt:"Logo",height:120,width:120})})})}function $A({to:n,icon:e,children:t}){const s=Ri().pathname===n;return $.jsxs(pl,{to:n,className:`flex w-40 items-center rounded px-3 py-2 text-center text-white ${s?"bg-blue-700":"bg-blue-500"} hover:bg-blue-600`,children:[e&&$.jsx("span",{className:"mr-3 text-xl",children:e}),t]})}function Ez(){const n=_v(),e=async()=>{try{await gz(),n("/login",{replace:!0})}catch(t){console.error("Error during logout:",t)}};return $.jsxs("header",{className:"flex items-center justify-between h-16 px-6 bg-white border-b border-gray-200 shadow-md",children:[$.jsx("div",{className:"flex items-center space-x-4",children:$.jsx(_z,{})}),$.jsxs("nav",{className:"flex space-x-6",children:[$.jsx($A,{to:"/calendar",icon:$.jsx(JB,{}),className:"text-gray-800 hover:text-blue-500",children:"Calendar"}),$.jsx($A,{to:"/events",icon:$.jsx(tz,{}),className:"text-gray-800 hover:text-blue-500",children:"Events"})]}),$.jsx("div",{children:$.jsx("button",{onClick:e,className:"rounded-md bg-blue-500 px-4 py-2 text-sm font-medium text-white shadow-md transition duration-300 ease-in-out hover:bg-blue-600","aria-label":"Logout",children:"Logout"})})]})}function bz({children:n}){return $.jsx("div",{className:"flex min-h-screen",children:$.jsxs("div",{className:"flex flex-1 flex-col",children:[$.jsx(Ez,{}),$.jsx(GB,{children:$.jsx("main",{className:"flex-1 bg-gray-50 p-6",children:n})})]})})}function Tz(){const{userLoggedIn:n}=Oh();return $.jsxs(SV,{children:[n?yz.map(({path:e,component:t})=>$.jsx(_d,{path:e,element:$.jsx(bz,{children:$.jsx(t,{})})},e)):vz.map(({path:e,component:t})=>$.jsx(_d,{path:e,element:$.jsx(t,{})},e)),$.jsx(_d,{path:"*",element:$.jsx(Tv,{to:n?"/calendar":"/login"})})]})}function Az(){return $.jsx($.Fragment,{children:$.jsxs(kP,{children:[$.jsx(LL,{position:"top-center",autoClose:3e3}),$.jsx($V,{basename:"/event-planner/",children:$.jsx(Tz,{})})]})})}hI.createRoot(document.getElementById("root")).render($.jsx(Az,{}));
